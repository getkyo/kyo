class En extends Error{sourceStart;sourceEnd;parserState;constructor(t,n,r,s){super(t),this.name="ParseError",this.sourceStart=n,this.sourceEnd=r,this.parserState=s}}class At extends En{token;constructor(t,n,r,s,a){super(t,n,r,s),this.token=a}}const wt={UnexpectedNewLineInString:"Unexpected newline while consuming a string token.",UnexpectedEOFInString:"Unexpected EOF while consuming a string token.",UnexpectedEOFInComment:"Unexpected EOF while consuming a comment.",UnexpectedEOFInURL:"Unexpected EOF while consuming a url token.",UnexpectedEOFInEscapedCodePoint:"Unexpected EOF while consuming an escaped code point.",UnexpectedCharacterInURL:"Unexpected character while consuming a url token.",InvalidEscapeSequenceInURL:"Invalid escape sequence while consuming a url token.",InvalidEscapeSequenceAfterBackslash:'Invalid escape sequence after "\\"'};function $t(...e){let t="";for(let n=0;n<e.length;n++)t+=e[n][1];return t}const Vt=13,be=45,jt=10,qt=43,Pt=65533;function Xo(e){return e.source.codePointAt(e.cursor)===60&&e.source.codePointAt(e.cursor+1)===33&&e.source.codePointAt(e.cursor+2)===be&&e.source.codePointAt(e.cursor+3)===be}function qe(e){return e>=48&&e<=57}function Ko(e){return e>=65&&e<=90}function Zo(e){return e>=97&&e<=122}function Yt(e){return e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70}function Jo(e){return Zo(e)||Ko(e)}function Xt(e){return Jo(e)||Qo(e)||e===95}function Lr(e){return Xt(e)||qe(e)||e===be}function Qo(e){return e===183||e===8204||e===8205||e===8255||e===8256||e===8204||192<=e&&e<=214||216<=e&&e<=246||248<=e&&e<=893||895<=e&&e<=8191||8304<=e&&e<=8591||11264<=e&&e<=12271||12289<=e&&e<=55295||63744<=e&&e<=64975||65008<=e&&e<=65533||e===0||!!Kt(e)||e>=65536}function ei(e){return e===11||e===127||0<=e&&e<=8||14<=e&&e<=31}function Jn(e){return e===jt||e===Vt||e===12}function Lt(e){return e===32||e===jt||e===9||e===Vt||e===12}function Kt(e){return e>=55296&&e<=57343}function Zt(e){return e.source.codePointAt(e.cursor)===92&&!Jn(e.source.codePointAt(e.cursor+1)??-1)}function Qn(e,t){return t.source.codePointAt(t.cursor)===be?t.source.codePointAt(t.cursor+1)===be||!!Xt(t.source.codePointAt(t.cursor+1)??-1)||t.source.codePointAt(t.cursor+1)===92&&!Jn(t.source.codePointAt(t.cursor+2)??-1):!!Xt(t.source.codePointAt(t.cursor)??-1)||Zt(t)}function js(e){return e.source.codePointAt(e.cursor)===qt||e.source.codePointAt(e.cursor)===be?!!qe(e.source.codePointAt(e.cursor+1)??-1)||e.source.codePointAt(e.cursor+1)===46&&qe(e.source.codePointAt(e.cursor+2)??-1):e.source.codePointAt(e.cursor)===46?qe(e.source.codePointAt(e.cursor+1)??-1):qe(e.source.codePointAt(e.cursor)??-1)}function ti(e){return e.source.codePointAt(e.cursor)===47&&e.source.codePointAt(e.cursor+1)===42}function ni(e){return e.source.codePointAt(e.cursor)===be&&e.source.codePointAt(e.cursor+1)===be&&e.source.codePointAt(e.cursor+2)===62}var g,F,er;function ri(e){switch(e){case g.OpenParen:return g.CloseParen;case g.CloseParen:return g.OpenParen;case g.OpenCurly:return g.CloseCurly;case g.CloseCurly:return g.OpenCurly;case g.OpenSquare:return g.CloseSquare;case g.CloseSquare:return g.OpenSquare;default:return null}}function si(e){switch(e[0]){case g.OpenParen:return[g.CloseParen,")",-1,-1,void 0];case g.CloseParen:return[g.OpenParen,"(",-1,-1,void 0];case g.OpenCurly:return[g.CloseCurly,"}",-1,-1,void 0];case g.CloseCurly:return[g.OpenCurly,"{",-1,-1,void 0];case g.OpenSquare:return[g.CloseSquare,"]",-1,-1,void 0];case g.CloseSquare:return[g.OpenSquare,"[",-1,-1,void 0];default:return null}}function ai(e,t){for(t.advanceCodePoint(2);;){const n=t.readCodePoint();if(n===void 0){const r=[g.Comment,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,void 0];return e.onParseError(new At(wt.UnexpectedEOFInComment,t.representationStart,t.representationEnd,["4.3.2. Consume comments","Unexpected EOF"],r)),r}if(n===42&&t.source.codePointAt(t.cursor)!==void 0&&t.source.codePointAt(t.cursor)===47){t.advanceCodePoint();break}}return[g.Comment,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,void 0]}function tr(e,t){const n=t.readCodePoint();if(n===void 0)return e.onParseError(new En(wt.UnexpectedEOFInEscapedCodePoint,t.representationStart,t.representationEnd,["4.3.7. Consume an escaped code point","Unexpected EOF"])),Pt;if(Yt(n)){const r=[n];let s;for(;(s=t.source.codePointAt(t.cursor))!==void 0&&Yt(s)&&r.length<6;)r.push(s),t.advanceCodePoint();Lt(t.source.codePointAt(t.cursor)??-1)&&(t.source.codePointAt(t.cursor)===Vt&&t.source.codePointAt(t.cursor+1)===jt&&t.advanceCodePoint(),t.advanceCodePoint());const a=parseInt(String.fromCodePoint(...r),16);return a===0||Kt(a)||a>1114111?Pt:a}return n===0||Kt(n)?Pt:n}function nr(e,t){const n=[];for(;;){const r=t.source.codePointAt(t.cursor)??-1;if(r===0||Kt(r))n.push(Pt),t.advanceCodePoint(+(r>65535)+1);else if(Lr(r))n.push(r),t.advanceCodePoint(+(r>65535)+1);else{if(!Zt(t))return n;t.advanceCodePoint(),n.push(tr(e,t))}}}function oi(e,t){t.advanceCodePoint();const n=t.source.codePointAt(t.cursor);if(n!==void 0&&(Lr(n)||Zt(t))){let r=er.Unrestricted;Qn(0,t)&&(r=er.ID);const s=nr(e,t);return[g.Hash,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,{value:String.fromCodePoint(...s),type:r}]}return[g.Delim,"#",t.representationStart,t.representationEnd,{value:"#"}]}function ii(e,t){let n=F.Integer;for(t.source.codePointAt(t.cursor)!==qt&&t.source.codePointAt(t.cursor)!==be||t.advanceCodePoint();qe(t.source.codePointAt(t.cursor)??-1);)t.advanceCodePoint();if(t.source.codePointAt(t.cursor)===46&&qe(t.source.codePointAt(t.cursor+1)??-1))for(t.advanceCodePoint(2),n=F.Number;qe(t.source.codePointAt(t.cursor)??-1);)t.advanceCodePoint();if(t.source.codePointAt(t.cursor)===101||t.source.codePointAt(t.cursor)===69){if(qe(t.source.codePointAt(t.cursor+1)??-1))t.advanceCodePoint(2);else{if(t.source.codePointAt(t.cursor+1)!==be&&t.source.codePointAt(t.cursor+1)!==qt||!qe(t.source.codePointAt(t.cursor+2)??-1))return n;t.advanceCodePoint(3)}for(n=F.Number;qe(t.source.codePointAt(t.cursor)??-1);)t.advanceCodePoint()}return n}function Tr(e,t){let n;{const a=t.source.codePointAt(t.cursor);a===be?n="-":a===qt&&(n="+")}const r=ii(0,t),s=parseFloat(t.source.slice(t.representationStart,t.representationEnd+1));if(Qn(0,t)){const a=nr(e,t);return[g.Dimension,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,{value:s,signCharacter:n,type:r,unit:String.fromCodePoint(...a)}]}return t.source.codePointAt(t.cursor)===37?(t.advanceCodePoint(),[g.Percentage,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,{value:s,signCharacter:n}]):[g.Number,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,{value:s,signCharacter:n,type:r}]}function li(e){for(;Lt(e.source.codePointAt(e.cursor)??-1);)e.advanceCodePoint();return[g.Whitespace,e.source.slice(e.representationStart,e.representationEnd+1),e.representationStart,e.representationEnd,void 0]}(function(e){e.Comment="comment",e.AtKeyword="at-keyword-token",e.BadString="bad-string-token",e.BadURL="bad-url-token",e.CDC="CDC-token",e.CDO="CDO-token",e.Colon="colon-token",e.Comma="comma-token",e.Delim="delim-token",e.Dimension="dimension-token",e.EOF="EOF-token",e.Function="function-token",e.Hash="hash-token",e.Ident="ident-token",e.Number="number-token",e.Percentage="percentage-token",e.Semicolon="semicolon-token",e.String="string-token",e.URL="url-token",e.Whitespace="whitespace-token",e.OpenParen="(-token",e.CloseParen=")-token",e.OpenSquare="[-token",e.CloseSquare="]-token",e.OpenCurly="{-token",e.CloseCurly="}-token",e.UnicodeRange="unicode-range-token"})(g||(g={})),(function(e){e.Integer="integer",e.Number="number"})(F||(F={})),(function(e){e.Unrestricted="unrestricted",e.ID="id"})(er||(er={}));class ci{cursor=0;source="";representationStart=0;representationEnd=-1;constructor(t){this.source=t}advanceCodePoint(t=1){this.cursor=this.cursor+t,this.representationEnd=this.cursor-1}readCodePoint(){const t=this.source.codePointAt(this.cursor);if(t!==void 0)return this.cursor=this.cursor+1,this.representationEnd=this.cursor-1,t}unreadCodePoint(t=1){this.cursor=this.cursor-t,this.representationEnd=this.cursor-1}resetRepresentation(){this.representationStart=this.cursor,this.representationEnd=-1}}function ui(e,t){let n="";const r=t.readCodePoint();for(;;){const s=t.readCodePoint();if(s===void 0){const a=[g.String,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,{value:n}];return e.onParseError(new At(wt.UnexpectedEOFInString,t.representationStart,t.representationEnd,["4.3.5. Consume a string token","Unexpected EOF"],a)),a}if(Jn(s)){t.unreadCodePoint();const a=[g.BadString,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,void 0];return e.onParseError(new At(wt.UnexpectedNewLineInString,t.representationStart,t.source.codePointAt(t.cursor)===Vt&&t.source.codePointAt(t.cursor+1)===jt?t.representationEnd+2:t.representationEnd+1,["4.3.5. Consume a string token","Unexpected newline"],a)),a}if(s===r)return[g.String,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,{value:n}];if(s!==92)s===0||Kt(s)?n+=String.fromCodePoint(Pt):n+=String.fromCodePoint(s);else{if(t.source.codePointAt(t.cursor)===void 0)continue;if(Jn(t.source.codePointAt(t.cursor)??-1)){t.source.codePointAt(t.cursor)===Vt&&t.source.codePointAt(t.cursor+1)===jt&&t.advanceCodePoint(),t.advanceCodePoint();continue}n+=String.fromCodePoint(tr(e,t))}}}function hi(e){return!(e.length!==3||e[0]!==117&&e[0]!==85||e[1]!==114&&e[1]!==82||e[2]!==108&&e[2]!==76)}function _r(e,t){for(;;){const n=t.source.codePointAt(t.cursor);if(n===void 0)return;if(n===41)return void t.advanceCodePoint();Zt(t)?(t.advanceCodePoint(),tr(e,t)):t.advanceCodePoint()}}function fi(e,t){for(;Lt(t.source.codePointAt(t.cursor)??-1);)t.advanceCodePoint();let n="";for(;;){if(t.source.codePointAt(t.cursor)===void 0){const s=[g.URL,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,{value:n}];return e.onParseError(new At(wt.UnexpectedEOFInURL,t.representationStart,t.representationEnd,["4.3.6. Consume a url token","Unexpected EOF"],s)),s}if(t.source.codePointAt(t.cursor)===41)return t.advanceCodePoint(),[g.URL,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,{value:n}];if(Lt(t.source.codePointAt(t.cursor)??-1)){for(t.advanceCodePoint();Lt(t.source.codePointAt(t.cursor)??-1);)t.advanceCodePoint();if(t.source.codePointAt(t.cursor)===void 0){const s=[g.URL,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,{value:n}];return e.onParseError(new At(wt.UnexpectedEOFInURL,t.representationStart,t.representationEnd,["4.3.6. Consume a url token","Consume as much whitespace as possible","Unexpected EOF"],s)),s}return t.source.codePointAt(t.cursor)===41?(t.advanceCodePoint(),[g.URL,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,{value:n}]):(_r(e,t),[g.BadURL,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,void 0])}const r=t.source.codePointAt(t.cursor);if(r===34||r===39||r===40||ei(r??-1)){_r(e,t);const s=[g.BadURL,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,void 0];return e.onParseError(new At(wt.UnexpectedCharacterInURL,t.representationStart,t.representationEnd,["4.3.6. Consume a url token",`Unexpected U+0022 QUOTATION MARK ("), U+0027 APOSTROPHE ('), U+0028 LEFT PARENTHESIS (() or non-printable code point`],s)),s}if(r===92){if(Zt(t)){t.advanceCodePoint(),n+=String.fromCodePoint(tr(e,t));continue}_r(e,t);const s=[g.BadURL,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,void 0];return e.onParseError(new At(wt.InvalidEscapeSequenceInURL,t.representationStart,t.representationEnd,["4.3.6. Consume a url token","U+005C REVERSE SOLIDUS (\\)","The input stream does not start with a valid escape sequence"],s)),s}t.source.codePointAt(t.cursor)===0||Kt(t.source.codePointAt(t.cursor)??-1)?(n+=String.fromCodePoint(Pt),t.advanceCodePoint()):(n+=t.source[t.cursor],t.advanceCodePoint())}}function Wr(e,t){const n=nr(e,t);if(t.source.codePointAt(t.cursor)!==40)return[g.Ident,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,{value:String.fromCodePoint(...n)}];if(hi(n)){t.advanceCodePoint();let r=0;for(;;){const s=Lt(t.source.codePointAt(t.cursor)??-1),a=Lt(t.source.codePointAt(t.cursor+1)??-1);if(s&&a){r+=1,t.advanceCodePoint(1);continue}const o=s?t.source.codePointAt(t.cursor+1):t.source.codePointAt(t.cursor);if(o===34||o===39)return r>0&&t.unreadCodePoint(r),[g.Function,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,{value:String.fromCodePoint(...n)}];break}return fi(e,t)}return t.advanceCodePoint(),[g.Function,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,{value:String.fromCodePoint(...n)}]}function pi(e){return!(e.source.codePointAt(e.cursor)!==117&&e.source.codePointAt(e.cursor)!==85||e.source.codePointAt(e.cursor+1)!==qt||e.source.codePointAt(e.cursor+2)!==63&&!Yt(e.source.codePointAt(e.cursor+2)??-1))}function di(e,t){t.advanceCodePoint(2);const n=[],r=[];let s;for(;(s=t.source.codePointAt(t.cursor))!==void 0&&n.length<6&&Yt(s);)n.push(s),t.advanceCodePoint();for(;(s=t.source.codePointAt(t.cursor))!==void 0&&n.length<6&&s===63;)r.length===0&&r.push(...n),n.push(48),r.push(70),t.advanceCodePoint();if(!r.length&&t.source.codePointAt(t.cursor)===be&&Yt(t.source.codePointAt(t.cursor+1)??-1))for(t.advanceCodePoint();(s=t.source.codePointAt(t.cursor))!==void 0&&r.length<6&&Yt(s);)r.push(s),t.advanceCodePoint();if(!r.length){const i=parseInt(String.fromCodePoint(...n),16);return[g.UnicodeRange,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,{startOfRange:i,endOfRange:i}]}const a=parseInt(String.fromCodePoint(...n),16),o=parseInt(String.fromCodePoint(...r),16);return[g.UnicodeRange,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,{startOfRange:a,endOfRange:o}]}function Nt(e,t){const n=qs(e),r=[];for(;!n.endOfFile();)r.push(n.nextToken());return r.push(n.nextToken()),r}function qs(e,t){const n=e.css.valueOf(),r=e.unicodeRangesAllowed??!1,s=new ci(n),a={onParseError:mi};return{nextToken:function(){s.resetRepresentation();const o=s.source.codePointAt(s.cursor);if(o===void 0)return[g.EOF,"",-1,-1,void 0];if(o===47&&ti(s))return ai(a,s);if(r&&(o===117||o===85)&&pi(s))return di(0,s);if(Xt(o))return Wr(a,s);if(qe(o))return Tr(a,s);switch(o){case 44:return s.advanceCodePoint(),[g.Comma,",",s.representationStart,s.representationEnd,void 0];case 58:return s.advanceCodePoint(),[g.Colon,":",s.representationStart,s.representationEnd,void 0];case 59:return s.advanceCodePoint(),[g.Semicolon,";",s.representationStart,s.representationEnd,void 0];case 40:return s.advanceCodePoint(),[g.OpenParen,"(",s.representationStart,s.representationEnd,void 0];case 41:return s.advanceCodePoint(),[g.CloseParen,")",s.representationStart,s.representationEnd,void 0];case 91:return s.advanceCodePoint(),[g.OpenSquare,"[",s.representationStart,s.representationEnd,void 0];case 93:return s.advanceCodePoint(),[g.CloseSquare,"]",s.representationStart,s.representationEnd,void 0];case 123:return s.advanceCodePoint(),[g.OpenCurly,"{",s.representationStart,s.representationEnd,void 0];case 125:return s.advanceCodePoint(),[g.CloseCurly,"}",s.representationStart,s.representationEnd,void 0];case 39:case 34:return ui(a,s);case 35:return oi(a,s);case qt:case 46:return js(s)?Tr(a,s):(s.advanceCodePoint(),[g.Delim,s.source[s.representationStart],s.representationStart,s.representationEnd,{value:s.source[s.representationStart]}]);case jt:case Vt:case 12:case 9:case 32:return li(s);case be:return js(s)?Tr(a,s):ni(s)?(s.advanceCodePoint(3),[g.CDC,"-->",s.representationStart,s.representationEnd,void 0]):Qn(0,s)?Wr(a,s):(s.advanceCodePoint(),[g.Delim,"-",s.representationStart,s.representationEnd,{value:"-"}]);case 60:return Xo(s)?(s.advanceCodePoint(4),[g.CDO,"<!--",s.representationStart,s.representationEnd,void 0]):(s.advanceCodePoint(),[g.Delim,"<",s.representationStart,s.representationEnd,{value:"<"}]);case 64:if(s.advanceCodePoint(),Qn(0,s)){const i=nr(a,s);return[g.AtKeyword,s.source.slice(s.representationStart,s.representationEnd+1),s.representationStart,s.representationEnd,{value:String.fromCodePoint(...i)}]}return[g.Delim,"@",s.representationStart,s.representationEnd,{value:"@"}];case 92:{if(Zt(s))return Wr(a,s);s.advanceCodePoint();const i=[g.Delim,"\\",s.representationStart,s.representationEnd,{value:"\\"}];return a.onParseError(new At(wt.InvalidEscapeSequenceAfterBackslash,s.representationStart,s.representationEnd,["4.3.1. Consume a token","U+005C REVERSE SOLIDUS (\\)","The input stream does not start with a valid escape sequence"],i)),i}}return s.advanceCodePoint(),[g.Delim,s.source[s.representationStart],s.representationStart,s.representationEnd,{value:s.source[s.representationStart]}]},endOfFile:function(){return s.source.codePointAt(s.cursor)===void 0}}}function mi(){}function Ys(e,t){const n=[];for(const i of t)n.push(i.codePointAt(0));const r=gi(n);r[0]===101&&Hr(r,0,r[0]);const s=String.fromCodePoint(...r),a=e[4].signCharacter==="+"?e[4].signCharacter:"",o=e[4].value.toString();e[1]=`${a}${o}${s}`,e[4].unit=t}function gi(e){let t=0;if(e[0]===0)e.splice(0,1,Pt),t=1;else if(e[0]===be&&e[1]===be)t=2;else if(e[0]===be&&e[1])t=2,Xt(e[1])||(t+=Hr(e,1,e[1]));else{if(e[0]===be&&!e[1])return[92,e[0]];Xt(e[0])?t=1:(t=1,t+=Hr(e,0,e[0]))}for(let n=t;n<e.length;n++)e[n]!==0?Lr(e[n])||(n+=vi(e,n,e[n])):(e.splice(n,1,Pt),n++);return e}function vi(e,t,n){return e.splice(t,1,92,n),1}function Hr(e,t,n){const r=n.toString(16),s=[];for(const a of r)s.push(a.codePointAt(0));return e.splice(t,1,92,...s,32),1+s.length}const bi=Object.values(g);function zr(e){return!!Array.isArray(e)&&!(e.length<4)&&!!bi.includes(e[0])&&typeof e[1]=="string"&&typeof e[2]=="number"&&typeof e[3]=="number"}function re(e){if(!e)return!1;switch(e[0]){case g.Dimension:case g.Number:case g.Percentage:return!0;default:return!1}}function Xs(e){if(!e)return!1;switch(e[0]){case g.Whitespace:case g.Comment:return!0;default:return!1}}function tt(e){return!!e&&e[0]===g.Comma}function Ks(e){return!!e&&e[0]===g.Comment}function Cn(e){return!!e&&e[0]===g.Delim}function J(e){return!!e&&e[0]===g.Dimension}function ht(e){return!!e&&e[0]===g.EOF}function wi(e){return!!e&&e[0]===g.Function}function $i(e){return!!e&&e[0]===g.Hash}function ne(e){return!!e&&e[0]===g.Ident}function L(e){return!!e&&e[0]===g.Number}function X(e){return!!e&&e[0]===g.Percentage}function Ur(e){return!!e&&e[0]===g.Whitespace}function Zs(e){return!!e&&e[0]===g.OpenParen}function Ni(e){return!!e&&e[0]===g.CloseParen}function yi(e){return!!e&&e[0]===g.OpenSquare}function Ei(e){return!!e&&e[0]===g.OpenCurly}var Ye;function Js(e){let t=e.slice();return(n,r,s)=>{let a=-1;for(let o=t.indexOf(r);o<t.length&&(a=n.indexOf(t[o]),a===-1||a<s);o++);return a===-1||a===s&&r===n[s]&&(a++,a>=n.length)?-1:(t=n.slice(),a)}}function rr(e,t){const n=t[0];if(Zs(n)||Ei(n)||yi(n)){const r=xi(e,t);return{advance:r.advance,node:r.node}}if(wi(n)){const r=Ci(e,t);return{advance:r.advance,node:r.node}}if(Ur(n)){const r=ea(e,t);return{advance:r.advance,node:r.node}}if(Ks(n)){const r=Fi(e,t);return{advance:r.advance,node:r.node}}return{advance:1,node:new T(n)}}(function(e){e.Function="function",e.SimpleBlock="simple-block",e.Whitespace="whitespace",e.Comment="comment",e.Token="token"})(Ye||(Ye={}));class Qs{value=[];indexOf(t){return this.value.indexOf(t)}at(t){if(typeof t=="number")return t<0&&(t=this.value.length+t),this.value[t]}forEach(t,n){if(this.value.length===0)return;const r=Js(this.value);let s=0;for(;s<this.value.length;){const a=this.value[s];let o;if(n&&(o={...n}),t({node:a,parent:this,state:o},s)===!1)return!1;if(s=r(this.value,a,s),s===-1)break}}walk(t,n){this.value.length!==0&&this.forEach((r,s)=>t(r,s)!==!1&&(!("walk"in r.node)||!this.value.includes(r.node)||r.node.walk(t,r.state)!==!1)&&void 0,n)}}class Me extends Qs{type=Ye.Function;name;endToken;constructor(t,n,r){super(),this.name=t,this.endToken=n,this.value=r}getName(){return this.name[4].value}normalize(){ht(this.endToken)&&(this.endToken=[g.CloseParen,")",-1,-1,void 0])}tokens(){return ht(this.endToken)?[this.name,...this.value.flatMap(t=>t.tokens())]:[this.name,...this.value.flatMap(t=>t.tokens()),this.endToken]}toString(){const t=this.value.map(n=>zr(n)?$t(n):n.toString()).join("");return $t(this.name)+t+$t(this.endToken)}toJSON(){return{type:this.type,name:this.getName(),tokens:this.tokens(),value:this.value.map(t=>t.toJSON())}}isFunctionNode(){return Me.isFunctionNode(this)}static isFunctionNode(t){return!!t&&t instanceof Me&&t.type===Ye.Function}}function Ci(e,t){const n=[];let r=1;for(;;){const s=t[r];if(!s||ht(s))return e.onParseError(new En("Unexpected EOF while consuming a function.",t[0][2],t[t.length-1][3],["5.4.9. Consume a function","Unexpected EOF"])),{advance:t.length,node:new Me(t[0],s,n)};if(Ni(s))return{advance:r+1,node:new Me(t[0],s,n)};if(Xs(s)){const o=ta(e,t.slice(r));r+=o.advance,n.push(...o.nodes);continue}const a=rr(e,t.slice(r));r+=a.advance,n.push(a.node)}}class Nn extends Qs{type=Ye.SimpleBlock;startToken;endToken;constructor(t,n,r){super(),this.startToken=t,this.endToken=n,this.value=r}normalize(){if(ht(this.endToken)){const t=si(this.startToken);t&&(this.endToken=t)}}tokens(){return ht(this.endToken)?[this.startToken,...this.value.flatMap(t=>t.tokens())]:[this.startToken,...this.value.flatMap(t=>t.tokens()),this.endToken]}toString(){const t=this.value.map(n=>zr(n)?$t(n):n.toString()).join("");return $t(this.startToken)+t+$t(this.endToken)}toJSON(){return{type:this.type,startToken:this.startToken,tokens:this.tokens(),value:this.value.map(t=>t.toJSON())}}isSimpleBlockNode(){return Nn.isSimpleBlockNode(this)}static isSimpleBlockNode(t){return!!t&&t instanceof Nn&&t.type===Ye.SimpleBlock}}function xi(e,t){const n=ri(t[0][0]);if(!n)throw new Error("Failed to parse, a mirror variant must exist for all block open tokens.");const r=[];let s=1;for(;;){const a=t[s];if(!a||ht(a))return e.onParseError(new En("Unexpected EOF while consuming a simple block.",t[0][2],t[t.length-1][3],["5.4.8. Consume a simple block","Unexpected EOF"])),{advance:t.length,node:new Nn(t[0],a,r)};if(a[0]===n)return{advance:s+1,node:new Nn(t[0],a,r)};if(Xs(a)){const i=ta(e,t.slice(s));s+=i.advance,r.push(...i.nodes);continue}const o=rr(e,t.slice(s));s+=o.advance,r.push(o.node)}}class je{type=Ye.Whitespace;value;constructor(t){this.value=t}tokens(){return this.value}toString(){return $t(...this.value)}toJSON(){return{type:this.type,tokens:this.tokens()}}isWhitespaceNode(){return je.isWhitespaceNode(this)}static isWhitespaceNode(t){return!!t&&t instanceof je&&t.type===Ye.Whitespace}}function ea(e,t){let n=0;for(;;){const r=t[n];if(!Ur(r))return{advance:n,node:new je(t.slice(0,n))};n++}}class yn{type=Ye.Comment;value;constructor(t){this.value=t}tokens(){return[this.value]}toString(){return $t(this.value)}toJSON(){return{type:this.type,tokens:this.tokens()}}isCommentNode(){return yn.isCommentNode(this)}static isCommentNode(t){return!!t&&t instanceof yn&&t.type===Ye.Comment}}function Fi(e,t){return{advance:1,node:new yn(t[0])}}function ta(e,t){const n=[];let r=0;for(;;){if(Ur(t[r])){const s=ea(0,t.slice(r));r+=s.advance,n.push(s.node);continue}if(!Ks(t[r]))return{advance:r,nodes:n};n.push(new yn(t[r])),r++}}class T{type=Ye.Token;value;constructor(t){this.value=t}tokens(){return[this.value]}toString(){return this.value[1]}toJSON(){return{type:this.type,tokens:this.tokens()}}isTokenNode(){return T.isTokenNode(this)}static isTokenNode(t){return!!t&&t instanceof T&&t.type===Ye.Token}}function Si(e,t){const n={onParseError:(()=>{})},r=[...e];ht(r[r.length-1])||r.push([g.EOF,"",r[r.length-1][2],r[r.length-1][3],void 0]);const s=rr(n,r);if(ht(r[Math.min(s.advance,r.length-1)]))return s.node;n.onParseError(new En("Expected EOF after parsing a component value.",e[0][2],e[e.length-1][3],["5.3.9. Parse a component value","Expected EOF"]))}function ki(e,t){const n={onParseError:t?.onParseError??(()=>{})},r=[...e];if(e.length===0)return[];ht(r[r.length-1])&&r.push([g.EOF,"",r[r.length-1][2],r[r.length-1][3],void 0]);const s=[];let a=[],o=0;for(;;){if(!r[o]||ht(r[o]))return a.length&&s.push(a),s;if(tt(r[o])){s.push(a),a=[],o++;continue}const i=rr(n,e.slice(o));a.push(i.node),o+=i.advance}}function Ai(e,t,n){if(e.length===0)return;const r=Js(e);let s=0;for(;s<e.length;){const a=e[s];if(t({node:a,parent:{value:e},state:void 0},s)===!1)return!1;if(s=r(e,a,s),s===-1)break}}function Pi(e,t,n){e.length!==0&&Ai(e,(r,s)=>t(r,s)!==!1&&(!("walk"in r.node)||!e.includes(r.node)||r.node.walk(t,r.state)!==!1)&&void 0)}function na(e,t){for(let n=0;n<e.length;n++)Pi(e[n],(r,s)=>{if(typeof s!="number")return;const a=t(r.node);a&&(Array.isArray(a)?r.parent.value.splice(s,1,...a):r.parent.value.splice(s,1,a))});return e}function Di(e){return Nn.isSimpleBlockNode(e)}function Be(e){return Me.isFunctionNode(e)}function He(e){return je.isWhitespaceNode(e)}function ze(e){return yn.isCommentNode(e)}function yt(e){return He(e)||ze(e)}function O(e){return T.isTokenNode(e)}const Mi=/[A-Z]/g;function Re(e){return e.replace(Mi,t=>String.fromCharCode(t.charCodeAt(0)+32))}const Bi={cm:"px",in:"px",mm:"px",pc:"px",pt:"px",px:"px",q:"px",deg:"deg",grad:"deg",rad:"deg",turn:"deg",ms:"s",s:"s",hz:"hz",khz:"hz"},Ri=new Map([["cm",e=>e],["mm",e=>10*e],["q",e=>40*e],["in",e=>e/2.54],["pc",e=>e/2.54*6],["pt",e=>e/2.54*72],["px",e=>e/2.54*96]]),sr=new Map([["deg",e=>e],["grad",e=>e/.9],["rad",e=>e/180*Math.PI],["turn",e=>e/360]]),xn=new Map([["deg",e=>.9*e],["grad",e=>e],["rad",e=>.9*e/180*Math.PI],["turn",e=>.9*e/360]]),Oi=new Map([["hz",e=>e],["khz",e=>e/1e3]]),Ii=new Map([["cm",e=>2.54*e],["mm",e=>25.4*e],["q",e=>25.4*e*4],["in",e=>e],["pc",e=>6*e],["pt",e=>72*e],["px",e=>96*e]]),Li=new Map([["hz",e=>1e3*e],["khz",e=>e]]),Ti=new Map([["cm",e=>e/10],["mm",e=>e],["q",e=>4*e],["in",e=>e/25.4],["pc",e=>e/25.4*6],["pt",e=>e/25.4*72],["px",e=>e/25.4*96]]),_i=new Map([["ms",e=>e],["s",e=>e/1e3]]),Wi=new Map([["cm",e=>e/6*2.54],["mm",e=>e/6*25.4],["q",e=>e/6*25.4*4],["in",e=>e/6],["pc",e=>e],["pt",e=>e/6*72],["px",e=>e/6*96]]),Hi=new Map([["cm",e=>e/72*2.54],["mm",e=>e/72*25.4],["q",e=>e/72*25.4*4],["in",e=>e/72],["pc",e=>e/72*6],["pt",e=>e],["px",e=>e/72*96]]),zi=new Map([["cm",e=>e/96*2.54],["mm",e=>e/96*25.4],["q",e=>e/96*25.4*4],["in",e=>e/96],["pc",e=>e/96*6],["pt",e=>e/96*72],["px",e=>e]]),Ui=new Map([["cm",e=>e/4/10],["mm",e=>e/4],["q",e=>e],["in",e=>e/4/25.4],["pc",e=>e/4/25.4*6],["pt",e=>e/4/25.4*72],["px",e=>e/4/25.4*96]]),ra=new Map([["deg",e=>180*e/Math.PI],["grad",e=>180*e/Math.PI/.9],["rad",e=>e],["turn",e=>180*e/Math.PI/360]]),Gi=new Map([["ms",e=>1e3*e],["s",e=>e]]),Fn=new Map([["deg",e=>360*e],["grad",e=>360*e/.9],["rad",e=>360*e/180*Math.PI],["turn",e=>e]]),sa=new Map([["cm",Ri],["mm",Ti],["q",Ui],["in",Ii],["pc",Wi],["pt",Hi],["px",zi],["ms",_i],["s",Gi],["deg",sr],["grad",xn],["rad",ra],["turn",Fn],["hz",Oi],["khz",Li]]);function Ue(e,t){if(!J(e)||!J(t))return t;const n=Re(e[4].unit),r=Re(t[4].unit);if(n===r)return t;const s=sa.get(r);if(!s)return t;const a=s.get(n);if(!a)return t;const o=a(t[4].value),i=[g.Dimension,"",t[2],t[3],{...t[4],signCharacter:o<0?"-":void 0,type:Number.isInteger(o)?F.Integer:F.Number,value:o}];return Ys(i,e[4].unit),i}function Vi(e){if(!J(e))return e;const t=Re(e[4].unit),n=Bi[t];if(t===n)return e;const r=sa.get(t);if(!r)return e;const s=r.get(n);if(!s)return e;const a=s(e[4].value),o=[g.Dimension,"",e[2],e[3],{...e[4],signCharacter:a<0?"-":void 0,type:Number.isInteger(a)?F.Integer:F.Number,value:a}];return Ys(o,n),o}function ji(e){if(e.length!==2)return-1;const t=e[0].value;let n=e[1].value;if(L(t)&&L(n)){const r=t[4].value+n[4].value;return new T([g.Number,r.toString(),t[2],n[3],{value:r,type:t[4].type===F.Integer&&n[4].type===F.Integer?F.Integer:F.Number}])}if(X(t)&&X(n)){const r=t[4].value+n[4].value;return new T([g.Percentage,r.toString()+"%",t[2],n[3],{value:r}])}if(J(t)&&J(n)&&(n=Ue(t,n),Re(t[4].unit)===Re(n[4].unit))){const r=t[4].value+n[4].value;return new T([g.Dimension,r.toString()+t[4].unit,t[2],n[3],{value:r,type:t[4].type===F.Integer&&n[4].type===F.Integer?F.Integer:F.Number,unit:t[4].unit}])}return-1}function qi(e){if(e.length!==2)return-1;const t=e[0].value,n=e[1].value;if(L(t)&&L(n)){const r=t[4].value/n[4].value;return new T([g.Number,r.toString(),t[2],n[3],{value:r,type:Number.isInteger(r)?F.Integer:F.Number}])}if(X(t)&&L(n)){const r=t[4].value/n[4].value;return new T([g.Percentage,r.toString()+"%",t[2],n[3],{value:r}])}if(J(t)&&L(n)){const r=t[4].value/n[4].value;return new T([g.Dimension,r.toString()+t[4].unit,t[2],n[3],{value:r,type:Number.isInteger(r)?F.Integer:F.Number,unit:t[4].unit}])}return-1}function Tt(e){return!!e&&typeof e=="object"&&"inputs"in e&&Array.isArray(e.inputs)&&"operation"in e}function Oe(e){if(e===-1)return-1;const t=[];for(let n=0;n<e.inputs.length;n++){const r=e.inputs[n];if(O(r)){t.push(r);continue}const s=Oe(r);if(s===-1)return-1;t.push(s)}return e.operation(t)}function Yi(e){if(e.length!==2)return-1;const t=e[0].value,n=e[1].value;if(L(t)&&L(n)){const r=t[4].value*n[4].value;return new T([g.Number,r.toString(),t[2],n[3],{value:r,type:t[4].type===F.Integer&&n[4].type===F.Integer?F.Integer:F.Number}])}if(X(t)&&L(n)){const r=t[4].value*n[4].value;return new T([g.Percentage,r.toString()+"%",t[2],n[3],{value:r}])}if(L(t)&&X(n)){const r=t[4].value*n[4].value;return new T([g.Percentage,r.toString()+"%",t[2],n[3],{value:r}])}if(J(t)&&L(n)){const r=t[4].value*n[4].value;return new T([g.Dimension,r.toString()+t[4].unit,t[2],n[3],{value:r,type:t[4].type===F.Integer&&n[4].type===F.Integer?F.Integer:F.Number,unit:t[4].unit}])}if(L(t)&&J(n)){const r=t[4].value*n[4].value;return new T([g.Dimension,r.toString()+n[4].unit,t[2],n[3],{value:r,type:t[4].type===F.Integer&&n[4].type===F.Integer?F.Integer:F.Number,unit:n[4].unit}])}return-1}function Jt(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(!O(r))continue;const s=r.value;if(!ne(s))continue;const a=Re(s[4].value);switch(a){case"e":e.splice(n,1,new T([g.Number,Math.E.toString(),s[2],s[3],{value:Math.E,type:F.Number}]));break;case"pi":e.splice(n,1,new T([g.Number,Math.PI.toString(),s[2],s[3],{value:Math.PI,type:F.Number}]));break;case"infinity":e.splice(n,1,new T([g.Number,"infinity",s[2],s[3],{value:1/0,type:F.Number}]));break;case"-infinity":e.splice(n,1,new T([g.Number,"-infinity",s[2],s[3],{value:-1/0,type:F.Number}]));break;case"nan":e.splice(n,1,new T([g.Number,"NaN",s[2],s[3],{value:Number.NaN,type:F.Number}]));break;default:if(t.has(a)){const o=t.get(a);e.splice(n,1,new T(o))}}}return e}function ar(e){if(e.length!==1)return-1;const t=e[0].value;return re(t)?e[0]:-1}function Xe(e,t,n){return J(t)?Sn(e,t[4].unit,n):X(t)?Xi(e,n):L(t)?ft(e,n):-1}function Sn(e,t,n){const r=e.tokens();return{inputs:[new T([g.Dimension,n.toString()+t,r[0][2],r[r.length-1][3],{value:n,type:Number.isInteger(n)?F.Integer:F.Number,unit:t}])],operation:ar}}function Xi(e,t){const n=e.tokens();return{inputs:[new T([g.Percentage,t.toString()+"%",n[0][2],n[n.length-1][3],{value:t}])],operation:ar}}function ft(e,t){const n=e.tokens();return{inputs:[new T([g.Number,t.toString(),n[0][2],n[n.length-1][3],{value:t,type:Number.isInteger(t)?F.Integer:F.Number}])],operation:ar}}function Ki(e,t){const n=t.value;return L(n)?Sn(e,"rad",Math.acos(n[4].value)):-1}function Zi(e,t){const n=t.value;return L(n)?Sn(e,"rad",Math.asin(n[4].value)):-1}function Ji(e,t){const n=t.value;return L(n)?Sn(e,"rad",Math.atan(n[4].value)):-1}function or(e){return J(e)||L(e)}function Gr(e){if(e.length===0)return!0;const t=e[0];if(!re(t))return!1;if(e.length===1)return!0;if(J(t)){const n=Re(t[4].unit);for(let r=1;r<e.length;r++){const s=e[r];if(t[0]!==s[0]||n!==Re(s[4].unit))return!1}return!0}for(let n=1;n<e.length;n++){const r=e[n];if(t[0]!==r[0])return!1}return!0}function Et(e,t){return!!re(e)&&(J(e)?e[0]===t[0]&&Re(e[4].unit)===Re(t[4].unit):e[0]===t[0])}function Qi(e,t,n){const r=t.value;if(!or(r))return-1;const s=Ue(r,n.value);return Et(r,s)?Sn(e,"rad",Math.atan2(r[4].value,s[4].value)):-1}function el(e,t,n){const r=t.value;return!re(r)||!n.rawPercentages&&X(r)?-1:Xe(e,r,Math.abs(r[4].value))}function tl(e,t,n,r,s){if(!O(t)||!O(n)||!O(r))return-1;const a=t.value;if(!re(a)||!s.rawPercentages&&X(a))return-1;const o=Ue(a,n.value);if(!Et(a,o))return-1;const i=Ue(a,r.value);return Et(a,i)?Xe(e,a,Math.max(a[4].value,Math.min(o[4].value,i[4].value))):-1}function nl(e,t){const n=t.value;if(!or(n))return-1;let r=n[4].value;if(J(n))switch(n[4].unit.toLowerCase()){case"rad":break;case"deg":r=sr.get("rad")(n[4].value);break;case"grad":r=xn.get("rad")(n[4].value);break;case"turn":r=Fn.get("rad")(n[4].value);break;default:return-1}return r=Math.cos(r),ft(e,r)}function rl(e,t){const n=t.value;return L(n)?ft(e,Math.exp(n[4].value)):-1}function sl(e,t,n){if(!t.every(O))return-1;const r=t[0].value;if(!re(r)||!n.rawPercentages&&X(r))return-1;const s=t.map(i=>Ue(r,i.value));if(!Gr(s))return-1;const a=s.map(i=>i[4].value),o=Math.hypot(...a);return Xe(e,r,o)}function aa(e,t,n){if(!t.every(O))return-1;const r=t[0].value;if(!re(r)||!n.rawPercentages&&X(r))return-1;const s=t.map(i=>Ue(r,i.value));if(!Gr(s))return-1;const a=s.map(i=>i[4].value),o=Math.max(...a);return Xe(e,r,o)}function oa(e,t,n){if(!t.every(O))return-1;const r=t[0].value;if(!re(r)||!n.rawPercentages&&X(r))return-1;const s=t.map(i=>Ue(r,i.value));if(!Gr(s))return-1;const a=s.map(i=>i[4].value),o=Math.min(...a);return Xe(e,r,o)}function al(e,t,n){const r=t.value;if(!re(r))return-1;const s=Ue(r,n.value);if(!Et(r,s))return-1;let a;return a=s[4].value===0?Number.NaN:Number.isFinite(r[4].value)&&(Number.isFinite(s[4].value)||(s[4].value!==Number.POSITIVE_INFINITY||r[4].value!==Number.NEGATIVE_INFINITY&&!Object.is(0*r[4].value,-0))&&(s[4].value!==Number.NEGATIVE_INFINITY||r[4].value!==Number.POSITIVE_INFINITY&&!Object.is(0*r[4].value,0)))?Number.isFinite(s[4].value)?(r[4].value%s[4].value+s[4].value)%s[4].value:r[4].value:Number.NaN,Xe(e,r,a)}function ol(e,t,n){const r=t.value,s=n.value;return!L(r)||!Et(r,s)?-1:ft(e,Math.pow(r[4].value,s[4].value))}function il(e,t,n){const r=t.value;if(!re(r))return-1;const s=Ue(r,n.value);if(!Et(r,s))return-1;let a;return a=s[4].value===0?Number.NaN:Number.isFinite(r[4].value)?Number.isFinite(s[4].value)?r[4].value%s[4].value:r[4].value:Number.NaN,Xe(e,r,a)}function ll(e,t,n,r,s){const a=n.value;if(!re(a)||!s.rawPercentages&&X(a))return-1;const o=Ue(a,r.value);if(!Et(a,o))return-1;let i;if(o[4].value===0)i=Number.NaN;else if(Number.isFinite(a[4].value)||Number.isFinite(o[4].value))if(!Number.isFinite(a[4].value)&&Number.isFinite(o[4].value))i=a[4].value;else if(Number.isFinite(a[4].value)&&!Number.isFinite(o[4].value))switch(t){case"down":i=a[4].value<0?-1/0:Object.is(-0,0*a[4].value)?-0:0;break;case"up":i=a[4].value>0?1/0:Object.is(0,0*a[4].value)?0:-0;break;default:i=Object.is(0,0*a[4].value)?0:-0}else if(Number.isFinite(o[4].value))switch(t){case"down":i=Math.floor(a[4].value/o[4].value)*o[4].value;break;case"up":i=Math.ceil(a[4].value/o[4].value)*o[4].value;break;case"to-zero":i=Math.trunc(a[4].value/o[4].value)*o[4].value;break;default:{let l=Math.floor(a[4].value/o[4].value)*o[4].value,c=Math.ceil(a[4].value/o[4].value)*o[4].value;if(l>c){const p=l;l=c,c=p}const u=Math.abs(a[4].value-l),h=Math.abs(a[4].value-c);i=u===h?c:u<h?l:c;break}}else i=a[4].value;else i=Number.NaN;return Xe(e,a,i)}function cl(e,t,n){const r=t.value;return!re(r)||!n.rawPercentages&&X(r)?-1:ft(e,Math.sign(r[4].value))}function ul(e,t){const n=t.value;if(!or(n))return-1;let r=n[4].value;if(J(n))switch(Re(n[4].unit)){case"rad":break;case"deg":r=sr.get("rad")(n[4].value);break;case"grad":r=xn.get("rad")(n[4].value);break;case"turn":r=Fn.get("rad")(n[4].value);break;default:return-1}return r=Math.sin(r),ft(e,r)}function hl(e,t){const n=t.value;return L(n)?ft(e,Math.sqrt(n[4].value)):-1}function fl(e,t){const n=t.value;if(!or(n))return-1;const r=n[4].value;let s=0,a=n[4].value;if(J(n))switch(Re(n[4].unit)){case"rad":s=ra.get("deg")(r);break;case"deg":s=r,a=sr.get("rad")(r);break;case"grad":s=xn.get("deg")(r),a=xn.get("rad")(r);break;case"turn":s=Fn.get("deg")(r),a=Fn.get("rad")(r);break;default:return-1}const o=s/90;return a=s%90==0&&o%2!=0?o>0?1/0:-1/0:Math.tan(a),ft(e,a)}function pl(e){if(e.length!==2)return-1;const t=e[0].value;let n=e[1].value;if(L(t)&&L(n)){const r=t[4].value-n[4].value;return new T([g.Number,r.toString(),t[2],n[3],{value:r,type:t[4].type===F.Integer&&n[4].type===F.Integer?F.Integer:F.Number}])}if(X(t)&&X(n)){const r=t[4].value-n[4].value;return new T([g.Percentage,r.toString()+"%",t[2],n[3],{value:r}])}if(J(t)&&J(n)&&(n=Ue(t,n),Re(t[4].unit)===Re(n[4].unit))){const r=t[4].value-n[4].value;return new T([g.Dimension,r.toString()+t[4].unit,t[2],n[3],{value:r,type:t[4].type===F.Integer&&n[4].type===F.Integer?F.Integer:F.Number,unit:t[4].unit}])}return-1}function dl(e,t){if(t.length===1){const n=t[0];if(!n||!O(n))return-1;const r=n.value;return L(r)?ft(e,Math.log(r[4].value)):-1}if(t.length===2){const n=t[0];if(!n||!O(n))return-1;const r=n.value;if(!L(r))return-1;const s=t[1];if(!s||!O(s))return-1;const a=s.value;return L(a)?ft(e,Math.log(r[4].value)/Math.log(a[4].value)):-1}return-1}const ml=/^none$/i;function Vr(e){if(Array.isArray(e)){const n=e.filter(r=>!(He(r)&&ze(r)));return n.length===1&&Vr(n[0])}if(!O(e))return!1;const t=e.value;return!!ne(t)&&ml.test(t[4].value)}const gl=String.fromCodePoint(0);function vl(e,t,n,r,s,a){if(t.fixed===-1&&!a.randomCaching)return-1;a.randomCaching||(a.randomCaching={propertyName:"",propertyN:0,elementID:"",documentID:""}),a.randomCaching&&!a.randomCaching.propertyN&&(a.randomCaching.propertyN=0);const o=n.value;if(!re(o))return-1;const i=Ue(o,r.value);if(!Et(o,i))return-1;let l=null;if(s&&(l=Ue(o,s.value),!Et(o,l)))return-1;if(!Number.isFinite(o[4].value)||!Number.isFinite(i[4].value)||!Number.isFinite(i[4].value-o[4].value))return Xe(e,o,Number.NaN);if(l&&!Number.isFinite(l[4].value))return Xe(e,o,o[4].value);const c=t.fixed===-1?bl(wl([t.dashedIdent?t.dashedIdent:`${a.randomCaching?.propertyName} ${a.randomCaching.propertyN++}`,t.elementShared?"":a.randomCaching.elementID,a.randomCaching.documentID].join(gl))):()=>t.fixed;let u=o[4].value,h=i[4].value;if(u>h&&([u,h]=[h,u]),l&&(l[4].value<=0||Math.abs(u-h)/l[4].value>1e10)&&(l=null),l){const d=Math.max(l[4].value/1e3,1e-9),f=[u];let v=0;for(;;){v+=l[4].value;const b=u+v;if(!(b+d<h)){f.push(h);break}if(f.push(b),b+l[4].value-d>h)break}const $=c();return Xe(e,o,Number(f[Math.floor(f.length*$)].toFixed(5)))}const p=c();return Xe(e,o,Number((p*(h-u)+u).toFixed(5)))}function bl(e=.34944106645296036,t=.19228640875738723,n=.8784393832007205,r=.04850964319275053){return()=>{const s=((e|=0)+(t|=0)|0)+(r|=0)|0;return r=r+1|0,e=t^t>>>9,t=(n|=0)+(n<<3)|0,n=(n=n<<21|n>>>11)+s|0,(s>>>0)/4294967296}}function wl(e){let t=0,n=0,r=0;t^=-1;for(let s=0,a=e.length;s<a;s++)r=255&(t^e.charCodeAt(s)),n=+("0x"+"00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D".substring(9*r,9*r+8)),t=t>>>8^n;return(-1^t)>>>0}const jr=new Map([["abs",function(e,t,n){return pt(e,t,n,el)}],["acos",function(e,t,n){return pt(e,t,n,Ki)}],["asin",function(e,t,n){return pt(e,t,n,Zi)}],["atan",function(e,t,n){return pt(e,t,n,Ji)}],["atan2",function(e,t,n){return ir(e,t,n,Qi)}],["calc",Se],["clamp",function(e,t,n){const r=Jt([...e.value.filter(f=>!yt(f))],t),s=[],a=[],o=[];{let f=s;for(let v=0;v<r.length;v++){const $=r[v];if(O($)&&tt($.value)){if(f===o)return-1;if(f===a){f=o;continue}if(f===s){f=a;continue}return-1}f.push($)}}const i=Vr(s),l=Vr(o);if(i&&l)return Se(Ge(a),t,n);const c=Oe(Se(Ge(a),t,n));if(c===-1)return-1;if(i){const f=Oe(Se(Ge(o),t,n));return f===-1?-1:oa((u=c,h=f,new Me([g.Function,"min(",-1,-1,{value:"min"}],[g.CloseParen,")",-1,-1,void 0],[u,new T([g.Comma,",",-1,-1,void 0]),h])),[c,f],n)}if(l){const f=Oe(Se(Ge(s),t,n));return f===-1?-1:aa(Cl(f,c),[f,c],n)}var u,h;const p=Oe(Se(Ge(s),t,n));if(p===-1)return-1;const d=Oe(Se(Ge(o),t,n));return d===-1?-1:tl(e,p,c,d,n)}],["cos",function(e,t,n){return pt(e,t,n,nl)}],["exp",function(e,t,n){return pt(e,t,n,rl)}],["hypot",function(e,t,n){return lr(e,e.value,t,n,sl)}],["log",function(e,t,n){return lr(e,e.value,t,n,dl)}],["max",function(e,t,n){return lr(e,e.value,t,n,aa)}],["min",function(e,t,n){return lr(e,e.value,t,n,oa)}],["mod",function(e,t,n){return ir(e,t,n,al)}],["pow",function(e,t,n){return ir(e,t,n,ol)}],["random",function(e,t,n){const r=El(e.value.filter(u=>!yt(u)),t,n);if(r===-1)return-1;const[s,a]=r,o=ia(a,t,n);if(o===-1)return-1;const[i,l,c]=o;return!i||!l?-1:vl(e,s,i,l,c,n)}],["rem",function(e,t,n){return ir(e,t,n,il)}],["round",function(e,t,n){const r=Jt([...e.value.filter(u=>!yt(u))],t);let s="",a=!1;const o=[],i=[];{let u=o;for(let h=0;h<r.length;h++){const p=r[h];if(!s&&o.length===0&&i.length===0&&O(p)&&ne(p.value)){const d=p.value[4].value.toLowerCase();if(yl.has(d)){s=d;continue}}if(O(p)&&tt(p.value)){if(u===i)return-1;if(u===o&&s&&o.length===0)continue;if(u===o){a=!0,u=i;continue}return-1}u.push(p)}}const l=Oe(Se(Ge(o),t,n));if(l===-1)return-1;a||i.length!==0||i.push(new T([g.Number,"1",-1,-1,{value:1,type:F.Integer}]));const c=Oe(Se(Ge(i),t,n));return c===-1?-1:(s||(s="nearest"),ll(e,s,l,c,n))}],["sign",function(e,t,n){return pt(e,t,n,cl)}],["sin",function(e,t,n){return pt(e,t,n,ul)}],["sqrt",function(e,t,n){return pt(e,t,n,hl)}],["tan",function(e,t,n){return pt(e,t,n,fl)}]]);function Se(e,t,n){const r=Jt([...e.value.filter(a=>!yt(a))],t);if(r.length===1&&O(r[0]))return{inputs:[r[0]],operation:ar};let s=0;for(;s<r.length;){const a=r[s];if(Di(a)&&Zs(a.startToken)){const o=Se(a,t,n);if(o===-1)return-1;r.splice(s,1,o);continue}if(Be(a)){const o=jr.get(a.getName().toLowerCase());if(!o)return-1;const i=o(a,t,n);if(i===-1)return-1;r.splice(s,1,i);continue}s++}if(s=0,r.length===1&&Tt(r[0]))return r[0];for(;s<r.length;){const a=r[s];if(!a||!O(a)&&!Tt(a)){s++;continue}const o=r[s+1];if(!o||!O(o)){s++;continue}const i=o.value;if(!Cn(i)||i[4].value!=="*"&&i[4].value!=="/"){s++;continue}const l=r[s+2];if(!l||!O(l)&&!Tt(l))return-1;i[4].value!=="*"?i[4].value!=="/"?s++:r.splice(s,3,{inputs:[a,l],operation:qi}):r.splice(s,3,{inputs:[a,l],operation:Yi})}if(s=0,r.length===1&&Tt(r[0]))return r[0];for(;s<r.length;){const a=r[s];if(!a||!O(a)&&!Tt(a)){s++;continue}const o=r[s+1];if(!o||!O(o)){s++;continue}const i=o.value;if(!Cn(i)||i[4].value!=="+"&&i[4].value!=="-"){s++;continue}const l=r[s+2];if(!l||!O(l)&&!Tt(l))return-1;i[4].value!=="+"?i[4].value!=="-"?s++:r.splice(s,3,{inputs:[a,l],operation:pl}):r.splice(s,3,{inputs:[a,l],operation:ji})}return r.length===1&&Tt(r[0])?r[0]:-1}function pt(e,t,n,r){const s=$l(e.value,t,n);return s===-1?-1:r(e,s,n)}function $l(e,t,n){const r=Oe(Se(Ge(Jt([...e.filter(s=>!yt(s))],t)),t,n));return r===-1?-1:r}function ir(e,t,n,r){const s=Nl(e.value,t,n);if(s===-1)return-1;const[a,o]=s;return r(e,a,o,n)}function Nl(e,t,n){const r=Jt([...e.filter(l=>!yt(l))],t),s=[],a=[];{let l=s;for(let c=0;c<r.length;c++){const u=r[c];if(O(u)&&tt(u.value)){if(l===a)return-1;if(l===s){l=a;continue}return-1}l.push(u)}}const o=Oe(Se(Ge(s),t,n));if(o===-1)return-1;const i=Oe(Se(Ge(a),t,n));return i===-1?-1:[o,i]}function lr(e,t,n,r,s){const a=ia(e.value,n,r);return a===-1?-1:s(e,a,r)}function ia(e,t,n){const r=Jt([...e.filter(a=>!yt(a))],t),s=[];{const a=[];let o=[];for(let i=0;i<r.length;i++){const l=r[i];O(l)&&tt(l.value)?(a.push(o),o=[]):o.push(l)}a.push(o);for(let i=0;i<a.length;i++){if(a[i].length===0)return-1;const l=Oe(Se(Ge(a[i]),t,n));if(l===-1)return-1;s.push(l)}}return s}const yl=new Set(["nearest","up","down","to-zero"]);function El(e,t,n){const r={isAuto:!1,dashedIdent:"",fixed:-1,elementShared:!1},s=e[0];if(!O(s)||!ne(s.value))return[r,e];for(let a=0;a<e.length;a++){const o=e[a];if(!O(o))return-1;if(tt(o.value))return[r,e.slice(a+1)];if(!ne(o.value))return-1;const i=o.value[4].value.toLowerCase();if(i!=="element-shared"){if(i==="fixed"){if(r.elementShared||r.dashedIdent||r.isAuto)return-1;a++;const l=e[a];if(!l)return-1;const c=Oe(Se(Ge([l]),t,n));if(c===-1||!L(c.value)||c.value[4].value<0||c.value[4].value>1)return-1;r.fixed=Math.max(0,Math.min(c.value[4].value,1-1e-9));continue}if(i!=="auto"){if(i.startsWith("--")){if(r.fixed!==-1||r.isAuto)return-1;r.dashedIdent=i}}else{if(r.fixed!==-1||r.dashedIdent)return-1;r.isAuto=!0}}else{if(r.fixed!==-1)return-1;r.elementShared=!0}}return-1}function Ge(e){return new Me([g.Function,"calc(",-1,-1,{value:"calc"}],[g.CloseParen,")",-1,-1,void 0],e)}function Cl(e,t){return new Me([g.Function,"max(",-1,-1,{value:"max"}],[g.CloseParen,")",-1,-1,void 0],[e,new T([g.Comma,",",-1,-1,void 0]),t])}function xl(e){if(e===-1)return-1;if(Be(e))return e;const t=e.value;return re(t)&&Number.isNaN(t[4].value)?L(t)?new Me([g.Function,"calc(",t[2],t[3],{value:"calc"}],[g.CloseParen,")",t[2],t[3],void 0],[new T([g.Ident,"NaN",t[2],t[3],{value:"NaN"}])]):J(t)?new Me([g.Function,"calc(",t[2],t[3],{value:"calc"}],[g.CloseParen,")",t[2],t[3],void 0],[new T([g.Ident,"NaN",t[2],t[3],{value:"NaN"}]),new je([[g.Whitespace," ",t[2],t[3],void 0]]),new T([g.Delim,"*",t[2],t[3],{value:"*"}]),new je([[g.Whitespace," ",t[2],t[3],void 0]]),new T([g.Dimension,"1"+t[4].unit,t[2],t[3],{value:1,type:F.Integer,unit:t[4].unit}])]):X(t)?new Me([g.Function,"calc(",t[2],t[3],{value:"calc"}],[g.CloseParen,")",t[2],t[3],void 0],[new T([g.Ident,"NaN",t[2],t[3],{value:"NaN"}]),new je([[g.Whitespace," ",t[2],t[3],void 0]]),new T([g.Delim,"*",t[2],t[3],{value:"*"}]),new je([[g.Whitespace," ",t[2],t[3],void 0]]),new T([g.Percentage,"1%",t[2],t[3],{value:1}])]):-1:e}function Fl(e){if(e===-1)return-1;if(Be(e))return e;const t=e.value;if(!re(t)||Number.isFinite(t[4].value)||Number.isNaN(t[4].value))return e;let n="";return Number.NEGATIVE_INFINITY===t[4].value&&(n="-"),L(t)?new Me([g.Function,"calc(",t[2],t[3],{value:"calc"}],[g.CloseParen,")",t[2],t[3],void 0],[new T([g.Ident,n+"infinity",t[2],t[3],{value:n+"infinity"}])]):J(t)?new Me([g.Function,"calc(",t[2],t[3],{value:"calc"}],[g.CloseParen,")",t[2],t[3],void 0],[new T([g.Ident,n+"infinity",t[2],t[3],{value:n+"infinity"}]),new je([[g.Whitespace," ",t[2],t[3],void 0]]),new T([g.Delim,"*",t[2],t[3],{value:"*"}]),new je([[g.Whitespace," ",t[2],t[3],void 0]]),new T([g.Dimension,"1"+t[4].unit,t[2],t[3],{value:1,type:F.Integer,unit:t[4].unit}])]):new Me([g.Function,"calc(",t[2],t[3],{value:"calc"}],[g.CloseParen,")",t[2],t[3],void 0],[new T([g.Ident,n+"infinity",t[2],t[3],{value:n+"infinity"}]),new je([[g.Whitespace," ",t[2],t[3],void 0]]),new T([g.Delim,"*",t[2],t[3],{value:"*"}]),new je([[g.Whitespace," ",t[2],t[3],void 0]]),new T([g.Percentage,"1%",t[2],t[3],{value:1}])])}function Sl(e){if(e===-1)return-1;if(Be(e))return e;const t=e.value;return re(t)&&Object.is(-0,t[4].value)&&(t[1]==="-0"||(X(t)?t[1]="-0%":J(t)?t[1]="-0"+t[4].unit:t[1]="-0")),e}function kl(e,t=13){if(e===-1)return-1;if(t<=0||Be(e))return e;const n=e.value;if(!re(n)||Number.isInteger(n[4].value))return e;const r=Number(n[4].value.toFixed(t)).toString();return L(n)?n[1]=r:X(n)?n[1]=r+"%":J(n)&&(n[1]=r+n[4].unit),e}function Al(e){return e===-1?-1:(Be(e)||J(e.value)&&(e.value=Vi(e.value)),e)}function Pl(e,t){let n=e;return t?.toCanonicalUnits&&(n=Al(n)),n=kl(n,t?.precision),n=Sl(n),t?.censorIntoStandardRepresentableValues||(n=xl(n),n=Fl(n)),n}function Dl(e){const t=new Map;if(!e)return t;for(const[n,r]of e)if(zr(r))t.set(n,r);else if(typeof r=="string"){const s=qs({css:r}),a=s.nextToken();if(s.nextToken(),!s.endOfFile()||!re(a))continue;t.set(n,a);continue}return t}function ke(e,t){return Qt(ki(Nt({css:e}),{}),t).map(n=>n.map(r=>$t(...r.tokens())).join("")).join(",")}function Qt(e,t){const n=Dl(t?.globals);return na(e,r=>{if(!Be(r))return;const s=jr.get(r.getName().toLowerCase());if(!s)return;const a=Pl(Oe(s(r,n,t??{})),t);return a!==-1?a:void 0})}const kn=new Set(jr.keys()),Ml=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,la=new Set,qr=typeof process=="object"&&process?process:{},ca=(e,t,n,r)=>{typeof qr.emitWarning=="function"?qr.emitWarning(e,t,n,r):console.error(`[${n}] ${t}: ${e}`)};let cr=globalThis.AbortController,ua=globalThis.AbortSignal;if(typeof cr>"u"){ua=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(n,r){this._onabort.push(r)}},cr=class{constructor(){t()}signal=new ua;abort(n){if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(const r of this.signal._onabort)r(n);this.signal.onabort?.(n)}}};let e=qr.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const t=()=>{e&&(e=!1,ca("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const Bl=e=>!la.has(e),Dt=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),ha=e=>Dt(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?ur:null:null;class ur extends Array{constructor(t){super(t),this.fill(0)}}class $n{heap;length;static#s=!1;static create(t){const n=ha(t);if(!n)return[];$n.#s=!0;const r=new $n(t,n);return $n.#s=!1,r}constructor(t,n){if(!$n.#s)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class Vs{#s;#l;#d;#g;#m;#y;#v;#p;get perf(){return this.#p}ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#a;#c;#n;#t;#e;#o;#u;#i;#h;#E;#f;#C;#x;#w;#$;#F;#D;#b;#O;static unsafeExposeInternals(t){return{starts:t.#x,ttls:t.#w,autopurgeTimers:t.#$,sizes:t.#C,keyMap:t.#n,keyList:t.#t,valList:t.#e,next:t.#o,prev:t.#u,get head(){return t.#i},get tail(){return t.#h},free:t.#E,isBackgroundFetch:n=>t.#r(n),backgroundFetch:(n,r,s,a)=>t.#T(n,r,s,a),moveToTail:n=>t.#R(n),indexes:n=>t.#S(n),rindexes:n=>t.#k(n),isStale:n=>t.#N(n)}}get max(){return this.#s}get maxSize(){return this.#l}get calculatedSize(){return this.#c}get size(){return this.#a}get fetchMethod(){return this.#y}get memoMethod(){return this.#v}get dispose(){return this.#d}get onInsert(){return this.#g}get disposeAfter(){return this.#m}constructor(t){const{max:n=0,ttl:r,ttlResolution:s=1,ttlAutopurge:a,updateAgeOnGet:o,updateAgeOnHas:i,allowStale:l,dispose:c,onInsert:u,disposeAfter:h,noDisposeOnSet:p,noUpdateTTL:d,maxSize:f=0,maxEntrySize:v=0,sizeCalculation:$,fetchMethod:b,memoMethod:N,noDeleteOnFetchRejection:E,noDeleteOnStaleGet:y,allowStaleOnFetchRejection:_,allowStaleOnFetchAbort:A,ignoreFetchAbort:D,perf:k}=t;if(k!==void 0&&typeof k?.now!="function")throw new TypeError("perf option must have a now() method if specified");if(this.#p=k??Ml,n!==0&&!Dt(n))throw new TypeError("max option must be a nonnegative integer");const B=n?ha(n):Array;if(!B)throw new Error("invalid max value: "+n);if(this.#s=n,this.#l=f,this.maxEntrySize=v||this.#l,this.sizeCalculation=$,this.sizeCalculation){if(!this.#l&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(N!==void 0&&typeof N!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#v=N,b!==void 0&&typeof b!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#y=b,this.#D=!!b,this.#n=new Map,this.#t=new Array(n).fill(void 0),this.#e=new Array(n).fill(void 0),this.#o=new B(n),this.#u=new B(n),this.#i=0,this.#h=0,this.#E=$n.create(n),this.#a=0,this.#c=0,typeof c=="function"&&(this.#d=c),typeof u=="function"&&(this.#g=u),typeof h=="function"?(this.#m=h,this.#f=[]):(this.#m=void 0,this.#f=void 0),this.#F=!!this.#d,this.#O=!!this.#g,this.#b=!!this.#m,this.noDisposeOnSet=!!p,this.noUpdateTTL=!!d,this.noDeleteOnFetchRejection=!!E,this.allowStaleOnFetchRejection=!!_,this.allowStaleOnFetchAbort=!!A,this.ignoreFetchAbort=!!D,this.maxEntrySize!==0){if(this.#l!==0&&!Dt(this.#l))throw new TypeError("maxSize must be a positive integer if specified");if(!Dt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#V()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!y,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!i,this.ttlResolution=Dt(s)||s===0?s:1,this.ttlAutopurge=!!a,this.ttl=r||0,this.ttl){if(!Dt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#_()}if(this.#s===0&&this.ttl===0&&this.#l===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#s&&!this.#l){const W="LRU_CACHE_UNBOUNDED";Bl(W)&&(la.add(W),ca("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",W,Vs))}}getRemainingTTL(t){return this.#n.has(t)?1/0:0}#_(){const t=new ur(this.#s),n=new ur(this.#s);this.#w=t,this.#x=n;const r=this.ttlAutopurge?new Array(this.#s):void 0;this.#$=r,this.#W=(o,i,l=this.#p.now())=>{if(n[o]=i!==0?l:0,t[o]=i,r?.[o]&&(clearTimeout(r[o]),r[o]=void 0),i!==0&&r){const c=setTimeout(()=>{this.#N(o)&&this.#A(this.#t[o],"expire")},i+1);c.unref&&c.unref(),r[o]=c}},this.#M=o=>{n[o]=t[o]!==0?this.#p.now():0},this.#P=(o,i)=>{if(t[i]){const l=t[i],c=n[i];if(!l||!c)return;o.ttl=l,o.start=c,o.now=s||a();const u=o.now-c;o.remainingTTL=l-u}};let s=0;const a=()=>{const o=this.#p.now();if(this.ttlResolution>0){s=o;const i=setTimeout(()=>s=0,this.ttlResolution);i.unref&&i.unref()}return o};this.getRemainingTTL=o=>{const i=this.#n.get(o);if(i===void 0)return 0;const l=t[i],c=n[i];if(!l||!c)return 1/0;const u=(s||a())-c;return l-u},this.#N=o=>{const i=n[o],l=t[o];return!!l&&!!i&&(s||a())-i>l}}#M=()=>{};#P=()=>{};#W=()=>{};#N=()=>!1;#V(){const t=new ur(this.#s);this.#c=0,this.#C=t,this.#B=n=>{this.#c-=t[n],t[n]=0},this.#H=(n,r,s,a)=>{if(this.#r(r))return 0;if(!Dt(s))if(a){if(typeof a!="function")throw new TypeError("sizeCalculation must be a function");if(s=a(r,n),!Dt(s))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return s},this.#I=(n,r,s)=>{if(t[n]=r,this.#l){const a=this.#l-t[n];for(;this.#c>a;)this.#L(!0)}this.#c+=t[n],s&&(s.entrySize=r,s.totalCalculatedSize=this.#c)}}#B=t=>{};#I=(t,n,r)=>{};#H=(t,n,r,s)=>{if(r||s)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#S({allowStale:t=this.allowStale}={}){if(this.#a)for(let n=this.#h;!(!this.#z(n)||((t||!this.#N(n))&&(yield n),n===this.#i));)n=this.#u[n]}*#k({allowStale:t=this.allowStale}={}){if(this.#a)for(let n=this.#i;!(!this.#z(n)||((t||!this.#N(n))&&(yield n),n===this.#h));)n=this.#o[n]}#z(t){return t!==void 0&&this.#n.get(this.#t[t])===t}*entries(){for(const t of this.#S())this.#e[t]!==void 0&&this.#t[t]!==void 0&&!this.#r(this.#e[t])&&(yield[this.#t[t],this.#e[t]])}*rentries(){for(const t of this.#k())this.#e[t]!==void 0&&this.#t[t]!==void 0&&!this.#r(this.#e[t])&&(yield[this.#t[t],this.#e[t]])}*keys(){for(const t of this.#S()){const n=this.#t[t];n!==void 0&&!this.#r(this.#e[t])&&(yield n)}}*rkeys(){for(const t of this.#k()){const n=this.#t[t];n!==void 0&&!this.#r(this.#e[t])&&(yield n)}}*values(){for(const t of this.#S())this.#e[t]!==void 0&&!this.#r(this.#e[t])&&(yield this.#e[t])}*rvalues(){for(const t of this.#k())this.#e[t]!==void 0&&!this.#r(this.#e[t])&&(yield this.#e[t])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(t,n={}){for(const r of this.#S()){const s=this.#e[r],a=this.#r(s)?s.__staleWhileFetching:s;if(a!==void 0&&t(a,this.#t[r],this))return this.get(this.#t[r],n)}}forEach(t,n=this){for(const r of this.#S()){const s=this.#e[r],a=this.#r(s)?s.__staleWhileFetching:s;a!==void 0&&t.call(n,a,this.#t[r],this)}}rforEach(t,n=this){for(const r of this.#k()){const s=this.#e[r],a=this.#r(s)?s.__staleWhileFetching:s;a!==void 0&&t.call(n,a,this.#t[r],this)}}purgeStale(){let t=!1;for(const n of this.#k({allowStale:!0}))this.#N(n)&&(this.#A(this.#t[n],"expire"),t=!0);return t}info(t){const n=this.#n.get(t);if(n===void 0)return;const r=this.#e[n],s=this.#r(r)?r.__staleWhileFetching:r;if(s===void 0)return;const a={value:s};if(this.#w&&this.#x){const o=this.#w[n],i=this.#x[n];if(o&&i){const l=o-(this.#p.now()-i);a.ttl=l,a.start=Date.now()}}return this.#C&&(a.size=this.#C[n]),a}dump(){const t=[];for(const n of this.#S({allowStale:!0})){const r=this.#t[n],s=this.#e[n],a=this.#r(s)?s.__staleWhileFetching:s;if(a===void 0||r===void 0)continue;const o={value:a};if(this.#w&&this.#x){o.ttl=this.#w[n];const i=this.#p.now()-this.#x[n];o.start=Math.floor(Date.now()-i)}this.#C&&(o.size=this.#C[n]),t.unshift([r,o])}return t}load(t){this.clear();for(const[n,r]of t){if(r.start){const s=Date.now()-r.start;r.start=this.#p.now()-s}this.set(n,r.value,r)}}set(t,n,r={}){if(n===void 0)return this.delete(t),this;const{ttl:s=this.ttl,start:a,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:i=this.sizeCalculation,status:l}=r;let{noUpdateTTL:c=this.noUpdateTTL}=r;const u=this.#H(t,n,r.size||0,i);if(this.maxEntrySize&&u>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.#A(t,"set"),this;let h=this.#a===0?void 0:this.#n.get(t);if(h===void 0)h=this.#a===0?this.#h:this.#E.length!==0?this.#E.pop():this.#a===this.#s?this.#L(!1):this.#a,this.#t[h]=t,this.#e[h]=n,this.#n.set(t,h),this.#o[this.#h]=h,this.#u[h]=this.#h,this.#h=h,this.#a++,this.#I(h,u,l),l&&(l.set="add"),c=!1,this.#O&&this.#g?.(n,t,"add");else{this.#R(h);const p=this.#e[h];if(n!==p){if(this.#D&&this.#r(p)){p.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:d}=p;d!==void 0&&!o&&(this.#F&&this.#d?.(d,t,"set"),this.#b&&this.#f?.push([d,t,"set"]))}else o||(this.#F&&this.#d?.(p,t,"set"),this.#b&&this.#f?.push([p,t,"set"]));if(this.#B(h),this.#I(h,u,l),this.#e[h]=n,l){l.set="replace";const d=p&&this.#r(p)?p.__staleWhileFetching:p;d!==void 0&&(l.oldValue=d)}}else l&&(l.set="update");this.#O&&this.onInsert?.(n,t,n===p?"update":"replace")}if(s!==0&&!this.#w&&this.#_(),this.#w&&(c||this.#W(h,s,a),l&&this.#P(l,h)),!o&&this.#b&&this.#f){const p=this.#f;let d;for(;d=p?.shift();)this.#m?.(...d)}return this}pop(){try{for(;this.#a;){const t=this.#e[this.#i];if(this.#L(!0),this.#r(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#b&&this.#f){const t=this.#f;let n;for(;n=t?.shift();)this.#m?.(...n)}}}#L(t){const n=this.#i,r=this.#t[n],s=this.#e[n];return this.#D&&this.#r(s)?s.__abortController.abort(new Error("evicted")):(this.#F||this.#b)&&(this.#F&&this.#d?.(s,r,"evict"),this.#b&&this.#f?.push([s,r,"evict"])),this.#B(n),this.#$?.[n]&&(clearTimeout(this.#$[n]),this.#$[n]=void 0),t&&(this.#t[n]=void 0,this.#e[n]=void 0,this.#E.push(n)),this.#a===1?(this.#i=this.#h=0,this.#E.length=0):this.#i=this.#o[n],this.#n.delete(r),this.#a--,n}has(t,n={}){const{updateAgeOnHas:r=this.updateAgeOnHas,status:s}=n,a=this.#n.get(t);if(a!==void 0){const o=this.#e[a];if(this.#r(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#N(a))s&&(s.has="stale",this.#P(s,a));else return r&&this.#M(a),s&&(s.has="hit",this.#P(s,a)),!0}else s&&(s.has="miss");return!1}peek(t,n={}){const{allowStale:r=this.allowStale}=n,s=this.#n.get(t);if(s===void 0||!r&&this.#N(s))return;const a=this.#e[s];return this.#r(a)?a.__staleWhileFetching:a}#T(t,n,r,s){const a=n===void 0?void 0:this.#e[n];if(this.#r(a))return a;const o=new cr,{signal:i}=r;i?.addEventListener("abort",()=>o.abort(i.reason),{signal:o.signal});const l={signal:o.signal,options:r,context:s},c=(v,$=!1)=>{const{aborted:b}=o.signal,N=r.ignoreFetchAbort&&v!==void 0,E=r.ignoreFetchAbort||!!(r.allowStaleOnFetchAbort&&v!==void 0);if(r.status&&(b&&!$?(r.status.fetchAborted=!0,r.status.fetchError=o.signal.reason,N&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),b&&!N&&!$)return h(o.signal.reason,E);const y=d,_=this.#e[n];return(_===d||N&&$&&_===void 0)&&(v===void 0?y.__staleWhileFetching!==void 0?this.#e[n]=y.__staleWhileFetching:this.#A(t,"fetch"):(r.status&&(r.status.fetchUpdated=!0),this.set(t,v,l.options))),v},u=v=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=v),h(v,!1)),h=(v,$)=>{const{aborted:b}=o.signal,N=b&&r.allowStaleOnFetchAbort,E=N||r.allowStaleOnFetchRejection,y=E||r.noDeleteOnFetchRejection,_=d;if(this.#e[n]===d&&(!y||!$&&_.__staleWhileFetching===void 0?this.#A(t,"fetch"):N||(this.#e[n]=_.__staleWhileFetching)),E)return r.status&&_.__staleWhileFetching!==void 0&&(r.status.returnedStale=!0),_.__staleWhileFetching;if(_.__returned===_)throw v},p=(v,$)=>{const b=this.#y?.(t,a,l);b&&b instanceof Promise&&b.then(N=>v(N===void 0?void 0:N),$),o.signal.addEventListener("abort",()=>{(!r.ignoreFetchAbort||r.allowStaleOnFetchAbort)&&(v(void 0),r.allowStaleOnFetchAbort&&(v=N=>c(N,!0)))})};r.status&&(r.status.fetchDispatched=!0);const d=new Promise(p).then(c,u),f=Object.assign(d,{__abortController:o,__staleWhileFetching:a,__returned:void 0});return n===void 0?(this.set(t,f,{...l.options,status:void 0}),n=this.#n.get(t)):this.#e[n]=f,f}#r(t){if(!this.#D)return!1;const n=t;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof cr}async fetch(t,n={}){const{allowStale:r=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:i=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:h=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:p=this.allowStaleOnFetchRejection,ignoreFetchAbort:d=this.ignoreFetchAbort,allowStaleOnFetchAbort:f=this.allowStaleOnFetchAbort,context:v,forceRefresh:$=!1,status:b,signal:N}=n;if(!this.#D)return b&&(b.fetch="get"),this.get(t,{allowStale:r,updateAgeOnGet:s,noDeleteOnStaleGet:a,status:b});const E={allowStale:r,updateAgeOnGet:s,noDeleteOnStaleGet:a,ttl:o,noDisposeOnSet:i,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:h,allowStaleOnFetchRejection:p,allowStaleOnFetchAbort:f,ignoreFetchAbort:d,status:b,signal:N};let y=this.#n.get(t);if(y===void 0){b&&(b.fetch="miss");const _=this.#T(t,y,E,v);return _.__returned=_}else{const _=this.#e[y];if(this.#r(_)){const B=r&&_.__staleWhileFetching!==void 0;return b&&(b.fetch="inflight",B&&(b.returnedStale=!0)),B?_.__staleWhileFetching:_.__returned=_}const A=this.#N(y);if(!$&&!A)return b&&(b.fetch="hit"),this.#R(y),s&&this.#M(y),b&&this.#P(b,y),_;const D=this.#T(t,y,E,v),k=D.__staleWhileFetching!==void 0&&r;return b&&(b.fetch=A?"stale":"refresh",k&&A&&(b.returnedStale=!0)),k?D.__staleWhileFetching:D.__returned=D}}async forceFetch(t,n={}){const r=await this.fetch(t,n);if(r===void 0)throw new Error("fetch() returned undefined");return r}memo(t,n={}){const r=this.#v;if(!r)throw new Error("no memoMethod provided to constructor");const{context:s,forceRefresh:a,...o}=n,i=this.get(t,o);if(!a&&i!==void 0)return i;const l=r(t,i,{options:o,context:s});return this.set(t,l,o),l}get(t,n={}){const{allowStale:r=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,status:o}=n,i=this.#n.get(t);if(i!==void 0){const l=this.#e[i],c=this.#r(l);return o&&this.#P(o,i),this.#N(i)?(o&&(o.get="stale"),c?(o&&r&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),r?l.__staleWhileFetching:void 0):(a||this.#A(t,"expire"),o&&r&&(o.returnedStale=!0),r?l:void 0)):(o&&(o.get="hit"),c?l.__staleWhileFetching:(this.#R(i),s&&this.#M(i),l))}else o&&(o.get="miss")}#U(t,n){this.#u[n]=t,this.#o[t]=n}#R(t){t!==this.#h&&(t===this.#i?this.#i=this.#o[t]:this.#U(this.#u[t],this.#o[t]),this.#U(this.#h,t),this.#h=t)}delete(t){return this.#A(t,"delete")}#A(t,n){let r=!1;if(this.#a!==0){const s=this.#n.get(t);if(s!==void 0)if(this.#$?.[s]&&(clearTimeout(this.#$?.[s]),this.#$[s]=void 0),r=!0,this.#a===1)this.#G(n);else{this.#B(s);const a=this.#e[s];if(this.#r(a)?a.__abortController.abort(new Error("deleted")):(this.#F||this.#b)&&(this.#F&&this.#d?.(a,t,n),this.#b&&this.#f?.push([a,t,n])),this.#n.delete(t),this.#t[s]=void 0,this.#e[s]=void 0,s===this.#h)this.#h=this.#u[s];else if(s===this.#i)this.#i=this.#o[s];else{const o=this.#u[s];this.#o[o]=this.#o[s];const i=this.#o[s];this.#u[i]=this.#u[s]}this.#a--,this.#E.push(s)}}if(this.#b&&this.#f?.length){const s=this.#f;let a;for(;a=s?.shift();)this.#m?.(...a)}return r}clear(){return this.#G("delete")}#G(t){for(const n of this.#k({allowStale:!0})){const r=this.#e[n];if(this.#r(r))r.__abortController.abort(new Error("deleted"));else{const s=this.#t[n];this.#F&&this.#d?.(r,s,t),this.#b&&this.#f?.push([r,s,t])}}if(this.#n.clear(),this.#e.fill(void 0),this.#t.fill(void 0),this.#w&&this.#x){this.#w.fill(0),this.#x.fill(0);for(const n of this.#$??[])n!==void 0&&clearTimeout(n);this.#$?.fill(void 0)}if(this.#C&&this.#C.fill(0),this.#i=0,this.#h=0,this.#E.length=0,this.#c=0,this.#a=0,this.#b&&this.#f){const n=this.#f;let r;for(;r=n?.shift();)this.#m?.(...r)}}}const x=e=>typeof e=="string"||e instanceof String,en=e=>x(e)||typeof e=="number",hr="(?:0|[1-9]\\d*)",Rl="clamp|max|min",Ol="exp|hypot|log|pow|sqrt",Il="abs|sign",Ll="mod|rem|round",Tl="a?(?:cos|sin|tan)|atan2",fa=`${Rl}|${Ol}|${Il}|${Ll}|${Tl}`,Yr=`calc|${fa}`,_l=`var|${Yr}`,tn="deg|g?rad|turn",An="[cm]m|[dls]?v(?:[bhiw]|max|min)|in|p[ctx]|q|r?(?:[cl]h|cap|e[mx]|ic)",Ae=`[+-]?(?:${hr}(?:\\.\\d*)?|\\.\\d+)(?:e-?${hr})?`,pa=`\\+?(?:${hr}(?:\\.\\d*)?|\\.\\d+)(?:e-?${hr})?`,m="none",Pe=`${Ae}%`,fr=`^(?:${Yr})\\(|(?<=[*\\/\\s\\(])(?:${Yr})\\(`,da=`^(?:${fa})\\($`,Pn="^var\\(|(?<=[*\\/\\s\\(])var\\(",Wl=`^(?:${_l})\\(`,pr=`(?:\\s*\\/\\s*(?:${Ae}|${Pe}|${m}))?`,ma=`(?:\\s*,\\s*(?:${Ae}|${Pe}))?`,ga="(?:ok)?l(?:ab|ch)|color|hsla?|hwb|rgba?",Hl="[a-z]+|#[\\da-f]{3}|#[\\da-f]{4}|#[\\da-f]{6}|#[\\da-f]{8}",va="(?:ok)?lch|hsl|hwb",ba="(?:de|in)creasing|longer|shorter",zl=`${Ae}(?:${tn})?`,wa=`(?:${Ae}(?:${tn})?|${m})`,Dn=`(?:${Ae}|${Pe}|${m})`,$a=`(?:${va})(?:\\s(?:${ba})\\shue)?`,Ul=`(${va})(?:\\s(${ba})\\shue)?`,Na="(?:ok)?lab",Gl="(?:ok)?lch",Vl="srgb(?:-linear)?",Xr=`(?:a98|prophoto)-rgb|display-p3|rec2020|${Vl}`,Kr="xyz(?:-d(?:50|65))?",ya=`${Na}|${Xr}|${Kr}`,dr=`${$a}|${ya}`,se="color(",mr="light-dark(",Mt="color-mix(",Mn=`(?:${ga})\\(\\s*from\\s+`,jl=`(${ga})\\(\\s*from\\s+`,Zr="var(",Ea=`(?:${Xr}|${Kr})(?:\\s+${Dn}){3}${pr}`,ql="^light-dark\\(",Ca=`^${Mn}|(?<=[\\s])${Mn}`,Jr=`${wa}(?:\\s+${Dn}){2}${pr}`,xa=`${zl}(?:\\s*,\\s*${Pe}){2}${ma}`,Qr=`(?:${Dn}\\s+){2}${wa}${pr}`,gr=`${Dn}(?:\\s+${Dn}){2}${pr}`,Fa=`(?:${Ae}(?:\\s*,\\s*${Ae}){2}|${Pe}(?:\\s*,\\s*${Pe}){2})${ma}`,nn=`${Hl}|hsla?\\(\\s*${xa}\\s*\\)|rgba?\\(\\s*${Fa}\\s*\\)|(?:hsla?|hwb)\\(\\s*${Jr}\\s*\\)|(?:(?:ok)?lab|rgba?)\\(\\s*${gr}\\s*\\)|(?:ok)?lch\\(\\s*${Qr}\\s*\\)|color\\(\\s*${Ea}\\s*\\)`,rn=`(?:${nn})(?:\\s+${Pe})?`,vr=`color-mix\\(\\s*in\\s+(?:${dr})\\s*,\\s*${rn}\\s*,\\s*${rn}\\s*\\)`,Yl=`color-mix\\(\\s*in\\s+(${dr})\\s*,\\s*(${rn})\\s*,\\s*(${rn})\\s*\\)`,Q="computedValue",V="mixValue",j="specifiedValue",es="color",ts=.001,Bn=.5,ns=2,le=3,dt=4,mt=8,Rn=10,br=12,R=16,Xl=60,sn=180,Ke=360,z=100,I=255,_t=2,On=3,an=2.4,on=12.92,Ze=.055,In=116,Sa=500,ka=200,rs=216/24389,wr=24389/27,Aa=[.3457/.3585,1,(1-.3457-.3585)/.3585],Ln=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]],nt=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]],ss=[[506752/1228815,87881/245763,12673/70218],[87098/409605,175762/245763,12673/175545],[7918/409605,87881/737289,1001167/1053270]],$r=[[12831/3959,-329/214,-1974/3959],[-851781/878810,1648619/878810,36519/878810],[705/12673,-2585/12673,705/667]],Kl=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],Pa=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],Da=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],Zl=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],Jl=[[608311/1250200,189793/714400,198249/1000160],[35783/156275,247089/357200,198249/2500400],[0/1,32229/714400,5220557/5000800]],Ql=[[63426534/99577255,20160776/139408157,47086771/278816314],[26158966/99577255,472592308/697040785,8267143/139408157],[0/1,19567812/697040785,295819943/278816314]],ec=[[573536/994567,263643/1420810,187206/994567],[591459/1989134,6239551/9945670,374412/4972835],[53769/1989134,351524/4972835,4929758/4972835]],tc=[[.7977666449006423,.13518129740053308,.0313477341283922],[.2880748288194013,.711835234241873,8993693872564e-17],[0,0,.8251046025104602]],Ma=new RegExp(`^(?:${nn})$`),ln=new RegExp(`^${Ul}$`),nc=/^xyz(?:-d(?:50|65))?$/,fe=/^currentColor$/i,cn=new RegExp(`^color\\(\\s*(${Ea})\\s*\\)$`),as=new RegExp(`^hsla?\\(\\s*(${Jr}|${xa})\\s*\\)$`),os=new RegExp(`^hwb\\(\\s*(${Jr})\\s*\\)$`),is=new RegExp(`^lab\\(\\s*(${gr})\\s*\\)$`),ls=new RegExp(`^lch\\(\\s*(${Qr})\\s*\\)$`),Ba=new RegExp(`^${vr}$`),rc=new RegExp(`^${Yl}$`),Ra=new RegExp(`${vr}`,"g"),cs=new RegExp(`^oklab\\(\\s*(${gr})\\s*\\)$`),us=new RegExp(`^oklch\\(\\s*(${Qr})\\s*\\)$`),Ie=/^(?:specifi|comput)edValue$/,un={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},rt=(e,t,n=!1)=>{if(t===j)return C(e,""),"";if(n)return C(e,null),new S;const r=["rgb",0,0,0,0];return C(e,r),r},st=(e,t=!1)=>{switch(e){case"hsl":case"hwb":case V:return new S;case j:return"";default:return t?new S:["rgb",0,0,0,0]}},Je=(e,t={})=>{if(!Array.isArray(e))throw new TypeError(`${e} is not an array.`);const{alpha:n=!1,minLength:r=le,maxLength:s=dt,minRange:a=0,maxRange:o=1,validateRange:i=!0}=t;if(!Number.isFinite(r))throw new TypeError(`${r} is not a number.`);if(!Number.isFinite(s))throw new TypeError(`${s} is not a number.`);if(!Number.isFinite(a))throw new TypeError(`${a} is not a number.`);if(!Number.isFinite(o))throw new TypeError(`${o} is not a number.`);const l=e.length;if(l<r||l>s)throw new Error(`Unexpected array length ${l}.`);let c=0;for(;c<l;){const u=e[c];if(Number.isFinite(u)){if(c<le&&i&&(u<a||u>o))throw new RangeError(`${u} is not between ${a} and ${o}.`);if(c===le&&(u<0||u>1))throw new RangeError(`${u} is not between 0 and 1.`)}else throw new TypeError(`${u} is not a number.`);c++}return n&&l===le&&e.push(1),e},Y=(e,t,n=!1)=>{if(Array.isArray(e)){if(e.length!==le)throw new Error(`Unexpected array length ${e.length}.`);if(!n)for(let N of e)N=Je(N,{maxLength:le,validateRange:!1})}else throw new TypeError(`${e} is not an array.`);const[[r,s,a],[o,i,l],[c,u,h]]=e;let p,d,f;n?[p,d,f]=t:[p,d,f]=Je(t,{maxLength:le,validateRange:!1});const v=r*p+s*d+a*f,$=o*p+i*d+l*f,b=c*p+u*d+h*f;return[v,$,b]},Tn=(e,t,n=!1)=>{if(Array.isArray(e)){if(e.length!==dt)throw new Error(`Unexpected array length ${e.length}.`)}else throw new TypeError(`${e} is not an array.`);if(Array.isArray(t)){if(t.length!==dt)throw new Error(`Unexpected array length ${t.length}.`)}else throw new TypeError(`${t} is not an array.`);let r=0;for(;r<dt;)e[r]===m&&t[r]===m?(e[r]=0,t[r]=0):e[r]===m?e[r]=t[r]:t[r]===m&&(t[r]=e[r]),r++;if(n)return[e,t];const s=Je(e,{minLength:dt,validateRange:!1}),a=Je(t,{minLength:dt,validateRange:!1});return[s,a]},_n=e=>{if(Number.isFinite(e)){if(e=Math.round(e),e<0||e>I)throw new RangeError(`${e} is not between 0 and ${I}.`)}else throw new TypeError(`${e} is not a number.`);let t=e.toString(R);return t.length===1&&(t=`0${t}`),t},Nr=e=>{if(x(e))e=e.trim();else throw new TypeError(`${e} is not a string.`);const t=Ke/400,n=Ke/(Math.PI*ns),r=new RegExp(`^(${Ae})(${tn})?$`);if(!r.test(e))throw new SyntaxError(`Invalid property value: ${e}`);const[,s,a]=e.match(r);let o;switch(a){case"grad":o=parseFloat(s)*t;break;case"rad":o=parseFloat(s)*n;break;case"turn":o=parseFloat(s)*Ke;break;default:o=parseFloat(s)}return o%=Ke,o<0?o+=Ke:Object.is(o,-0)&&(o=0),o},Ct=(e="")=>{if(x(e))if(e=e.trim(),!e)e="1";else if(e===m)e="0";else{let t;if(e.endsWith("%")?t=parseFloat(e)/z:t=parseFloat(e),!Number.isFinite(t))throw new TypeError(`${t} is not a finite number.`);t<ts?e="0":t>1?e="1":e=t.toFixed(le)}else e="1";return parseFloat(e)},Oa=e=>{if(x(e)){if(e==="")throw new SyntaxError("Invalid property value: (empty string)");e=e.trim()}else throw new TypeError(`${e} is not a string.`);let t=parseInt(e,R);if(t<=0)return 0;if(t>=I)return 1;const n=new Map;for(let r=1;r<z;r++)n.set(Math.round(r*I/z),r);return n.has(t)?t=n.get(t)/z:t=Math.round(t/I/ts)*ts,parseFloat(t.toFixed(le))},hs=(e,t=!1)=>{let n,r,s;t?[n,r,s]=e:[n,r,s]=Je(e,{maxLength:le,maxRange:I});let a=n/I,o=r/I,i=s/I;const l=.04045;return a>l?a=Math.pow((a+Ze)/(1+Ze),an):a/=on,o>l?o=Math.pow((o+Ze)/(1+Ze),an):o/=on,i>l?i=Math.pow((i+Ze)/(1+Ze),an):i/=on,[a,o,i]},fs=(e,t=!1)=>(t||(e=Je(e,{maxLength:le,maxRange:I})),e=hs(e,!0),Y(ss,e,!0)),Ia=(e,t=!1)=>{let[n,r,s]=Je(e,{maxLength:le});const a=809/258400;return n>a?n=Math.pow(n,1/an)*(1+Ze)-Ze:n*=on,n*=I,r>a?r=Math.pow(r,1/an)*(1+Ze)-Ze:r*=on,r*=I,s>a?s=Math.pow(s,1/an)*(1+Ze)-Ze:s*=on,s*=I,[t?Math.round(n):n,t?Math.round(r):r,t?Math.round(s):s]},hn=(e,t=!1)=>{t||(e=Je(e,{maxLength:le,validateRange:!1}));let[n,r,s]=Y($r,e,!0);return[n,r,s]=Ia([Math.min(Math.max(n,0),1),Math.min(Math.max(r,0),1),Math.min(Math.max(s,0),1)],!0),[n,r,s]},La=(e,t=!1)=>{const[n,r,s]=hn(e,t),a=n/I,o=r/I,i=s/I,l=Math.max(a,o,i),c=Math.min(a,o,i),u=l-c,h=(l+c)*Bn*z;let p,d;if(Math.round(h)===0||Math.round(h)===z)p=0,d=0;else if(d=u/(1-Math.abs(l+c-1))*z,d===0)p=0;else{switch(l){case a:p=(o-i)/u;break;case o:p=(i-a)/u+ns;break;case i:default:p=(a-o)/u+dt;break}p=p*Xl%Ke,p<0&&(p+=Ke)}return[p,d,h]},sc=(e,t=!1)=>{const[n,r,s]=hn(e,t),a=Math.min(n,r,s)/I,o=1-Math.max(n,r,s)/I;let i;return a+o===1?i=0:[i]=La(e),[i,a*z,o*z]},Ta=(e,t=!1)=>{t||(e=Je(e,{maxLength:le,validateRange:!1}));const n=Y(Kl,e,!0).map(i=>Math.cbrt(i));let[r,s,a]=Y(Zl,n,!0);r=Math.min(Math.max(r,0),1);const o=Math.round(parseFloat(r.toFixed(dt))*z);return(o===0||o===z)&&(s=0,a=0),[r,s,a]},ac=(e,t=!1)=>{const[n,r,s]=Ta(e,t);let a,o;const i=Math.round(parseFloat(n.toFixed(dt))*z);return i===0||i===z?(a=0,o=0):(a=Math.max(Math.sqrt(Math.pow(r,_t)+Math.pow(s,_t)),0),parseFloat(a.toFixed(dt))===0?o=0:(o=Math.atan2(s,r)*sn/Math.PI,o<0&&(o+=Ke))),[n,a,o]},_a=(e,t=!1)=>{t||(e=Je(e,{maxLength:le,validateRange:!1}));const n=Y(Ln,e,!0);return hn(n,!0)},Wa=(e,t=!1)=>{t||(e=Je(e,{maxLength:le,validateRange:!1}));const n=e.map((c,u)=>c/Aa[u]),[r,s,a]=n.map(c=>c>rs?Math.cbrt(c):(c*wr+R)/In),o=Math.min(Math.max(In*s-R,0),z);let i,l;return o===0||o===z?(i=0,l=0):(i=(r-s)*Sa,l=(s-a)*ka),[o,i,l]},oc=(e,t=!1)=>{const[n,r,s]=Wa(e,t);let a,o;return n===0||n===z?(a=0,o=0):(a=Math.max(Math.sqrt(Math.pow(r,_t)+Math.pow(s,_t)),0),o=Math.atan2(s,r)*sn/Math.PI,o<0&&(o+=Ke)),[n,a,o]},Ha=e=>{const[t,n,r,s]=Je(e,{alpha:!0,maxRange:I}),a=_n(t),o=_n(n),i=_n(r),l=_n(s*I);let c;return l==="ff"?c=`#${a}${o}${i}`:c=`#${a}${o}${i}${l}`,c},ps=e=>{if(x(e))e=e.toLowerCase().trim();else throw new TypeError(`${e} is not a string.`);if(!(/^#[\da-f]{6}$/.test(e)||/^#[\da-f]{3}$/.test(e)||/^#[\da-f]{8}$/.test(e)||/^#[\da-f]{4}$/.test(e)))throw new SyntaxError(`Invalid property value: ${e}`);const t=[];if(/^#[\da-f]{3}$/.test(e)){const[,n,r,s]=e.match(/^#([\da-f])([\da-f])([\da-f])$/);t.push(parseInt(`${n}${n}`,R),parseInt(`${r}${r}`,R),parseInt(`${s}${s}`,R),1)}else if(/^#[\da-f]{4}$/.test(e)){const[,n,r,s,a]=e.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])$/);t.push(parseInt(`${n}${n}`,R),parseInt(`${r}${r}`,R),parseInt(`${s}${s}`,R),Oa(`${a}${a}`))}else if(/^#[\da-f]{8}$/.test(e)){const[,n,r,s,a]=e.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})$/);t.push(parseInt(n,R),parseInt(r,R),parseInt(s,R),Oa(a))}else{const[,n,r,s]=e.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})$/);t.push(parseInt(n,R),parseInt(r,R),parseInt(s,R),1)}return t},ic=e=>{const[t,n,r,s]=ps(e),[a,o,i]=hs([t,n,r],!0);return[a,o,i,s]},lc=e=>{const[t,n,r,s]=ic(e),[a,o,i]=Y(ss,[t,n,r],!0);return[a,o,i,s]},za=(e,t={})=>{if(x(e))e=e.toLowerCase().trim();else throw new TypeError(`${e} is not a string.`);const{format:n="",nullable:r=!1}=t,s=new RegExp(`^rgba?\\(\\s*(${gr}|${Fa})\\s*\\)$`);if(!s.test(e)){const f=st(n,r);return f instanceof S||x(f),f}const[,a]=e.match(s),[o,i,l,c=""]=a.replace(/[,/]/g," ").split(/\s+/);let u,h,p;o===m?u=0:(o.endsWith("%")?u=parseFloat(o)*I/z:u=parseFloat(o),u=Math.min(Math.max(M(u,mt),0),I)),i===m?h=0:(i.endsWith("%")?h=parseFloat(i)*I/z:h=parseFloat(i),h=Math.min(Math.max(M(h,mt),0),I)),l===m?p=0:(l.endsWith("%")?p=parseFloat(l)*I/z:p=parseFloat(l),p=Math.min(Math.max(M(p,mt),0),I));const d=Ct(c);return["rgb",u,h,p,n===V&&c===m?m:d]},yr=(e,t={})=>{if(x(e))e=e.trim();else throw new TypeError(`${e} is not a string.`);const{format:n="",nullable:r=!1}=t;if(!as.test(e)){const y=st(n,r);return y instanceof S||x(y),y}const[,s]=e.match(as),[a,o,i,l=""]=s.replace(/[,/]/g," ").split(/\s+/);let c,u,h;a===m?c=0:c=Nr(a),o===m?u=0:u=Math.min(Math.max(parseFloat(o),0),z),i===m?h=0:h=Math.min(Math.max(parseFloat(i),0),z);const p=Ct(l);if(n==="hsl")return[n,a===m?a:c,o===m?o:u,i===m?i:h,l===m?l:p];c=c/Ke*br,h/=z;const d=u/z*Math.min(h,1-h),f=c%br,v=(8+c)%br,$=(4+c)%br,b=h-d*Math.max(-1,Math.min(f-le,le**_t-f,1)),N=h-d*Math.max(-1,Math.min(v-le,le**_t-v,1)),E=h-d*Math.max(-1,Math.min($-le,le**_t-$,1));return["rgb",Math.min(Math.max(M(b*I,mt),0),I),Math.min(Math.max(M(N*I,mt),0),I),Math.min(Math.max(M(E*I,mt),0),I),p]},ds=(e,t={})=>{if(x(e))e=e.trim();else throw new TypeError(`${e} is not a string.`);const{format:n="",nullable:r=!1}=t;if(!os.test(e)){const b=st(n,r);return b instanceof S||x(b),b}const[,s]=e.match(os),[a,o,i,l=""]=s.replace("/"," ").split(/\s+/);let c,u,h;a===m?c=0:c=Nr(a),o===m?u=0:u=Math.min(Math.max(parseFloat(o),0),z)/z,i===m?h=0:h=Math.min(Math.max(parseFloat(i),0),z)/z;const p=Ct(l);if(n==="hwb")return[n,a===m?a:c,o===m?o:u*z,i===m?i:h*z,l===m?l:p];if(u+h>=1){const b=M(u/(u+h)*I,mt);return["rgb",b,b,b,p]}const d=(1-u-h)/I;let[,f,v,$]=yr(`hsl(${c} 100 50)`);return f=M((f*d+u)*I,mt),v=M((v*d+u)*I,mt),$=M(($*d+u)*I,mt),["rgb",Math.min(Math.max(f,0),I),Math.min(Math.max(v,0),I),Math.min(Math.max($,0),I),p]},Wn=(e,t={})=>{if(x(e))e=e.trim();else throw new TypeError(`${e} is not a string.`);const{format:n="",nullable:r=!1}=t;if(!is.test(e)){const B=st(n,r);return B instanceof S||x(B),B}const s=1.25,a=8,[,o]=e.match(is),[i,l,c,u=""]=o.replace("/"," ").split(/\s+/);let h,p,d;i===m?h=0:(i.endsWith("%")?(h=parseFloat(i),h>z&&(h=z)):h=parseFloat(i),h<0&&(h=0)),l===m?p=0:p=l.endsWith("%")?parseFloat(l)*s:parseFloat(l),c===m?d=0:d=c.endsWith("%")?parseFloat(c)*s:parseFloat(c);const f=Ct(u);if(Ie.test(n))return["lab",i===m?i:M(h,R),l===m?l:M(p,R),c===m?c:M(d,R),u===m?u:f];const v=(h+R)/In,$=p/Sa+v,b=v-d/ka,N=Math.pow(v,On),E=Math.pow($,On),y=Math.pow(b,On),_=[E>rs?E:($*In-R)/wr,h>a?N:h/wr,y>rs?y:(b*In-R)/wr],[A,D,k]=_.map((B,W)=>B*Aa[W]);return["xyz-d50",M(A,R),M(D,R),M(k,R),f]},Er=(e,t={})=>{if(x(e))e=e.trim();else throw new TypeError(`${e} is not a string.`);const{format:n="",nullable:r=!1}=t;if(!ls.test(e)){const E=st(n,r);return E instanceof S||x(E),E}const s=1.5,[,a]=e.match(ls),[o,i,l,c=""]=a.replace("/"," ").split(/\s+/);let u,h,p;o===m?u=0:(u=parseFloat(o),u<0&&(u=0)),i===m?h=0:h=i.endsWith("%")?parseFloat(i)*s:parseFloat(i),l===m?p=0:p=Nr(l);const d=Ct(c);if(Ie.test(n))return["lch",o===m?o:M(u,R),i===m?i:M(h,R),l===m?l:M(p,R),c===m?c:d];const f=h*Math.cos(p*Math.PI/sn),v=h*Math.sin(p*Math.PI/sn),[,$,b,N]=Wn(`lab(${u} ${f} ${v})`);return["xyz-d50",M($,R),M(b,R),M(N,R),d]},Cr=(e,t={})=>{if(x(e))e=e.trim();else throw new TypeError(`${e} is not a string.`);const{format:n="",nullable:r=!1}=t;if(!cs.test(e)){const N=st(n,r);return N instanceof S||x(N),N}const s=.4,[,a]=e.match(cs),[o,i,l,c=""]=a.replace("/"," ").split(/\s+/);let u,h,p;o===m?u=0:(u=o.endsWith("%")?parseFloat(o)/z:parseFloat(o),u<0&&(u=0)),i===m?h=0:i.endsWith("%")?h=parseFloat(i)*s/z:h=parseFloat(i),l===m?p=0:l.endsWith("%")?p=parseFloat(l)*s/z:p=parseFloat(l);const d=Ct(c);if(Ie.test(n))return["oklab",o===m?o:M(u,R),i===m?i:M(h,R),l===m?l:M(p,R),c===m?c:d];const f=Y(Da,[u,h,p]).map(N=>Math.pow(N,On)),[v,$,b]=Y(Pa,f,!0);return["xyz-d65",M(v,R),M($,R),M(b,R),d]},xr=(e,t={})=>{if(x(e))e=e.trim();else throw new TypeError(`${e} is not a string.`);const{format:n="",nullable:r=!1}=t;if(!us.test(e)){const y=st(n,r);return y instanceof S||x(y),y}const s=.4,[,a]=e.match(us),[o,i,l,c=""]=a.replace("/"," ").split(/\s+/);let u,h,p;o===m?u=0:(u=o.endsWith("%")?parseFloat(o)/z:parseFloat(o),u<0&&(u=0)),i===m?h=0:(i.endsWith("%")?h=parseFloat(i)*s/z:h=parseFloat(i),h<0&&(h=0)),l===m?p=0:p=Nr(l);const d=Ct(c);if(Ie.test(n))return["oklch",o===m?o:M(u,R),i===m?i:M(h,R),l===m?l:M(p,R),c===m?c:d];const f=h*Math.cos(p*Math.PI/sn),v=h*Math.sin(p*Math.PI/sn),$=Y(Da,[u,f,v]).map(y=>Math.pow(y,On)),[b,N,E]=Y(Pa,$,!0);return["xyz-d65",M(b,R),M(N,R),M(E,R),d]},he=(e,t={})=>{if(x(e))e=e.trim();else throw new TypeError(`${e} is not a string.`);const{colorSpace:n="",d50:r=!1,format:s="",nullable:a=!1}=t;if(!cn.test(e)){const E=st(s,a);return E instanceof S||x(E),E}const[,o]=e.match(cn);let[i,l,c,u,h=""]=o.replace("/"," ").split(/\s+/),p,d,f;i==="xyz"&&(i="xyz-d65"),l===m?p=0:p=l.endsWith("%")?parseFloat(l)/z:parseFloat(l),c===m?d=0:d=c.endsWith("%")?parseFloat(c)/z:parseFloat(c),u===m?f=0:f=u.endsWith("%")?parseFloat(u)/z:parseFloat(u);const v=Ct(h);if(Ie.test(s)||s===V&&i===n)return[i,l===m?l:M(p,Rn),c===m?c:M(d,Rn),u===m?u:M(f,Rn),h===m?h:v];let $=0,b=0,N=0;if(i==="srgb-linear")[$,b,N]=Y(ss,[p,d,f]),r&&([$,b,N]=Y(nt,[$,b,N],!0));else if(i==="display-p3"){const E=hs([p*I,d*I,f*I]);[$,b,N]=Y(Jl,E),r&&([$,b,N]=Y(nt,[$,b,N],!0))}else if(i==="rec2020"){const E=1.09929682680944,y=.018053968510807,_=.45,A=[p,d,f].map(D=>{let k;return D<y*_*Rn?k=D/(_*Rn):k=Math.pow((D+E-1)/E,1/_),k});[$,b,N]=Y(Ql,A),r&&([$,b,N]=Y(nt,[$,b,N],!0))}else if(i==="a98-rgb"){const E=2.19921875,y=[p,d,f].map(_=>Math.pow(_,E));[$,b,N]=Y(ec,y),r&&([$,b,N]=Y(nt,[$,b,N],!0))}else if(i==="prophoto-rgb"){const E=[p,d,f].map(y=>{let _;return y>1/(R*ns)?_=Math.pow(y,1.8):_=y/R,_});[$,b,N]=Y(tc,E),r||([$,b,N]=Y(Ln,[$,b,N],!0))}else/^xyz(?:-d(?:50|65))?$/.test(i)?([$,b,N]=[p,d,f],i==="xyz-d50"?r||([$,b,N]=Y(Ln,[$,b,N])):r&&([$,b,N]=Y(nt,[$,b,N],!0))):([$,b,N]=fs([p*I,d*I,f*I]),r&&([$,b,N]=Y(nt,[$,b,N],!0)));return[r?"xyz-d50":"xyz-d65",M($,R),M(b,R),M(N,R),s===V&&h===m?h:v]},de=(e,t={})=>{if(x(e))e=e.toLowerCase().trim();else throw new TypeError(`${e} is not a string.`);const{d50:n=!1,format:r="",nullable:s=!1}=t;if(!Ma.test(e)){const c=st(r,s);return c instanceof S||x(c),c}let a=0,o=0,i=0,l=0;if(fe.test(e)){if(r===Q)return["rgb",0,0,0,0];if(r===j)return e}else if(/^[a-z]+$/.test(e))if(Object.hasOwn(un,e)){if(r===j)return e;const[c,u,h]=un[e];if(l=1,r===Q)return["rgb",c,u,h,l];[a,o,i]=fs([c,u,h],!0),n&&([a,o,i]=Y(nt,[a,o,i],!0))}else switch(r){case Q:return s&&e!=="transparent"?new S:["rgb",0,0,0,0];case j:return e==="transparent"?e:"";case V:return e==="transparent"?["rgb",0,0,0,0]:new S}else if(e[0]==="#"){if(Ie.test(r))return["rgb",...ps(e)];[a,o,i,l]=lc(e),n&&([a,o,i]=Y(nt,[a,o,i],!0))}else if(e.startsWith("lab")){if(Ie.test(r))return Wn(e,t);[,a,o,i,l]=Wn(e),n||([a,o,i]=Y(Ln,[a,o,i],!0))}else if(e.startsWith("lch")){if(Ie.test(r))return Er(e,t);[,a,o,i,l]=Er(e),n||([a,o,i]=Y(Ln,[a,o,i],!0))}else if(e.startsWith("oklab")){if(Ie.test(r))return Cr(e,t);[,a,o,i,l]=Cr(e),n&&([a,o,i]=Y(nt,[a,o,i],!0))}else if(e.startsWith("oklch")){if(Ie.test(r))return xr(e,t);[,a,o,i,l]=xr(e),n&&([a,o,i]=Y(nt,[a,o,i],!0))}else{let c,u,h;if(e.startsWith("hsl")?[,c,u,h,l]=yr(e):e.startsWith("hwb")?[,c,u,h,l]=ds(e):[,c,u,h,l]=za(e,t),Ie.test(r))return["rgb",Math.round(c),Math.round(u),Math.round(h),l];[a,o,i]=fs([c,u,h]),n&&([a,o,i]=Y(nt,[a,o,i],!0))}return[n?"xyz-d50":"xyz-d65",M(a,R),M(o,R),M(i,R),l]},Wt=(e,t={})=>{if(x(e))e=e.toLowerCase().trim();else throw new TypeError(`${e} is not a string.`);const{colorSpace:n="",format:r="",nullable:s=!1}=t,a=ue({namespace:es,name:"resolveColorValue",value:e},t),o=ce(a);if(o instanceof te){if(o.isNull)return o;const d=o.item;return x(d),d}if(!Ma.test(e)){const d=st(r,s);return d instanceof S?(C(a,null),d):(C(a,d),x(d),d)}let i="",l=0,c=0,u=0,h=0;if(fe.test(e)){if(r===j)return C(a,e),e}else if(/^[a-z]+$/.test(e))if(Object.hasOwn(un,e)){if(r===j)return C(a,e),e;[l,c,u]=un[e],h=1}else switch(r){case j:{if(e==="transparent")return C(a,e),e;const d="";return C(a,d),d}case V:{if(e==="transparent"){const d=["rgb",0,0,0,0];return C(a,d),d}return C(a,null),new S}case Q:default:{if(s&&e!=="transparent")return C(a,null),new S;const d=["rgb",0,0,0,0];return C(a,d),d}}else if(e[0]==="#")[l,c,u,h]=ps(e);else if(e.startsWith("hsl"))[,l,c,u,h]=yr(e,t);else if(e.startsWith("hwb"))[,l,c,u,h]=ds(e,t);else if(/^l(?:ab|ch)/.test(e)){let d,f,v;if(e.startsWith("lab")?[i,d,f,v,h]=Wn(e,t):[i,d,f,v,h]=Er(e,t),Ie.test(r)){const $=[i,d,f,v,h];return C(a,$),$}[l,c,u]=_a([d,f,v])}else if(/^okl(?:ab|ch)/.test(e)){let d,f,v;if(e.startsWith("oklab")?[i,d,f,v,h]=Cr(e,t):[i,d,f,v,h]=xr(e,t),Ie.test(r)){const $=[i,d,f,v,h];return C(a,$),$}[l,c,u]=hn([d,f,v])}else[,l,c,u,h]=za(e,t);if(r===V&&n==="srgb"){const d=["srgb",l/I,c/I,u/I,h];return C(a,d),d}const p=["rgb",Math.round(l),Math.round(c),Math.round(u),h];return C(a,p),p},xt=(e,t={})=>{if(x(e))e=e.toLowerCase().trim();else throw new TypeError(`${e} is not a string.`);const{colorSpace:n="",format:r="",nullable:s=!1}=t,a=ue({namespace:es,name:"resolveColorFunc",value:e},t),o=ce(a);if(o instanceof te){if(o.isNull)return o;const y=o.item;return x(y),y}if(!cn.test(e)){const y=st(r,s);return y instanceof S?(C(a,null),y):(C(a,y),x(y),y)}const[i,l,c,u,h]=he(e,t);if(Ie.test(r)||r===V&&i===n){const y=[i,l,c,u,h];return C(a,y),y}const p=parseFloat(`${l}`),d=parseFloat(`${c}`),f=parseFloat(`${u}`),v=Ct(`${h}`),[$,b,N]=hn([p,d,f],!0),E=["rgb",$,b,N,v];return C(a,E),E},ms=(e,t={})=>{if(x(e))e=e.trim();else throw new TypeError(`${e} is not a string.`);const{colorSpace:n="",format:r=""}=t;let s="",a,o,i,l,c,u,h;if(r===V){let p;if(e.startsWith(se)?p=he(e,t):p=de(e,t),p instanceof S)return p;if([s,c,u,h,l]=p,s===n)return[c,u,h,l];[a,o,i]=Y($r,[c,u,h],!0)}else if(e.startsWith(se)){const[,p]=e.match(cn),[d]=p.replace("/"," ").split(/\s+/);d==="srgb-linear"?[,a,o,i,l]=xt(e,{format:Q}):([,c,u,h,l]=he(e),[a,o,i]=Y($r,[c,u,h],!0))}else[,c,u,h,l]=de(e),[a,o,i]=Y($r,[c,u,h],!0);return[Math.min(Math.max(a,0),1),Math.min(Math.max(o,0),1),Math.min(Math.max(i,0),1),l]},Hn=(e,t={})=>{if(x(e))e=e.trim();else throw new TypeError(`${e} is not a string.`);const{format:n=""}=t;let r,s,a,o;if(n===V){let i;if(e.startsWith(se)?i=xt(e,t):i=Wt(e,t),i instanceof S)return i;[,r,s,a,o]=i}else if(e.startsWith(se)){const[,i]=e.match(cn),[l]=i.replace("/"," ").split(/\s+/);l==="srgb"?([,r,s,a,o]=xt(e,{format:Q}),r*=I,s*=I,a*=I):[,r,s,a,o]=xt(e)}else/^(?:ok)?l(?:ab|ch)/.test(e)?([r,s,a,o]=ms(e),[r,s,a]=Ia([r,s,a])):[,r,s,a,o]=Wt(e,{format:Q});return[r,s,a,o]},Ua=(e,t={})=>{if(x(e))e=e.trim();else throw new TypeError(`${e} is not a string.`);const{d50:n=!1,format:r=""}=t;let s,a,o,i;if(r===V){let l;if(e.startsWith(se)?l=he(e,t):l=de(e,t),l instanceof S)return l;[,s,a,o,i]=l}else if(e.startsWith(se)){const[,l]=e.match(cn),[c]=l.replace("/"," ").split(/\s+/);n?c==="xyz-d50"?[,s,a,o,i]=xt(e,{format:Q}):[,s,a,o,i]=he(e,t):/^xyz(?:-d65)?$/.test(c)?[,s,a,o,i]=xt(e,{format:Q}):[,s,a,o,i]=he(e)}else[,s,a,o,i]=de(e,t);return[s,a,o,i]},gs=(e,t={})=>{if(x(e))e=e.trim();else throw new TypeError(`${e} is not a string.`);const{format:n=""}=t;let r,s,a,o;if(as.test(e))return[,r,s,a,o]=yr(e,{format:"hsl"}),n==="hsl"?[Math.round(r),Math.round(s),Math.round(a),o]:[r,s,a,o];let i,l,c;if(n===V){let u;if(e.startsWith(se)?u=he(e,t):u=de(e,t),u instanceof S)return u;[,i,l,c,o]=u}else e.startsWith(se)?[,i,l,c,o]=he(e):[,i,l,c,o]=de(e);return[r,s,a]=La([i,l,c],!0),n==="hsl"?[Math.round(r),Math.round(s),Math.round(a),o]:[n===V&&s===0?m:r,s,a,o]},vs=(e,t={})=>{if(x(e))e=e.trim();else throw new TypeError(`${e} is not a string.`);const{format:n=""}=t;let r,s,a,o;if(os.test(e))return[,r,s,a,o]=ds(e,{format:"hwb"}),n==="hwb"?[Math.round(r),Math.round(s),Math.round(a),o]:[r,s,a,o];let i,l,c;if(n===V){let u;if(e.startsWith(se)?u=he(e,t):u=de(e,t),u instanceof S)return u;[,i,l,c,o]=u}else e.startsWith(se)?[,i,l,c,o]=he(e):[,i,l,c,o]=de(e);return[r,s,a]=sc([i,l,c],!0),n==="hwb"?[Math.round(r),Math.round(s),Math.round(a),o]:[n===V&&s+a>=100?m:r,s,a,o]},bs=(e,t={})=>{if(x(e))e=e.trim();else throw new TypeError(`${e} is not a string.`);const{format:n=""}=t;let r,s,a,o;if(is.test(e))return[,r,s,a,o]=Wn(e,{format:Q}),[r,s,a,o];let i,l,c;if(n===V){let u;if(t.d50=!0,e.startsWith(se)?u=he(e,t):u=de(e,t),u instanceof S)return u;[,i,l,c,o]=u}else e.startsWith(se)?[,i,l,c,o]=he(e,{d50:!0}):[,i,l,c,o]=de(e,{d50:!0});return[r,s,a]=Wa([i,l,c],!0),[r,s,a,o]},ws=(e,t={})=>{if(x(e))e=e.trim();else throw new TypeError(`${e} is not a string.`);const{format:n=""}=t;let r,s,a,o;if(ls.test(e))return[,r,s,a,o]=Er(e,{format:Q}),[r,s,a,o];let i,l,c;if(n===V){let u;if(t.d50=!0,e.startsWith(se)?u=he(e,t):u=de(e,t),u instanceof S)return u;[,i,l,c,o]=u}else e.startsWith(se)?[,i,l,c,o]=he(e,{d50:!0}):[,i,l,c,o]=de(e,{d50:!0});return[r,s,a]=oc([i,l,c],!0),[r,s,n===V&&s===0?m:a,o]},$s=(e,t={})=>{if(x(e))e=e.trim();else throw new TypeError(`${e} is not a string.`);const{format:n=""}=t;let r,s,a,o;if(cs.test(e))return[,r,s,a,o]=Cr(e,{format:Q}),[r,s,a,o];let i,l,c;if(n===V){let u;if(e.startsWith(se)?u=he(e,t):u=de(e,t),u instanceof S)return u;[,i,l,c,o]=u}else e.startsWith(se)?[,i,l,c,o]=he(e):[,i,l,c,o]=de(e);return[r,s,a]=Ta([i,l,c],!0),[r,s,a,o]},Ns=(e,t={})=>{if(x(e))e=e.trim();else throw new TypeError(`${e} is not a string.`);const{format:n=""}=t;let r,s,a,o;if(us.test(e))return[,r,s,a,o]=xr(e,{format:Q}),[r,s,a,o];let i,l,c;if(n===V){let u;if(e.startsWith(se)?u=he(e,t):u=de(e,t),u instanceof S)return u;[,i,l,c,o]=u}else e.startsWith(se)?[,i,l,c,o]=he(e):[,i,l,c,o]=de(e);return[r,s,a]=ac([i,l,c],!0),[r,s,n===V&&s===0?m:a,o]},Fr=(e,t={})=>{if(x(e))e=e.toLowerCase().trim();else throw new TypeError(`${e} is not a string.`);const{format:n="",nullable:r=!1}=t,s=ue({namespace:es,name:"resolveColorMix",value:e},t),a=ce(s);if(a instanceof te){if(a.isNull)return a;const A=a.item;return x(A),A}const o=[];let i="",l="",c="",u="",h="",p="",d=!1;if(!Ba.test(e))if(e.startsWith(Mt)&&Ra.test(e)){const A=new RegExp(`^(?:${Xr}|${Kr})$`),D=e.match(Ra);for(const k of D)if(k){let B=Fr(k,{format:n===j?n:Q});if(Array.isArray(B)){const[W,H,G,q,ee]=B;if(H===0&&G===0&&q===0&&ee===0){e="";break}A.test(W)?ee===1?B=`color(${W} ${H} ${G} ${q})`:B=`color(${W} ${H} ${G} ${q} / ${ee})`:ee===1?B=`${W}(${H} ${G} ${q})`:B=`${W}(${H} ${G} ${q} / ${ee})`}else if(!Ba.test(B)){e="";break}o.push(B),e=e.replace(k,B)}if(!e)return rt(s,n,r)}else if(e.startsWith(Mt)&&e.endsWith(")")&&e.includes(mr)){const A=new RegExp(`in\\s+(${dr})`),D=e.replace(Mt,"").replace(/\)$/,""),[k="",B="",W=""]=Gt(D,{delimiter:","}),[H="",G=""]=Gt(B),[q="",ee=""]=Gt(W),ae=me(H,{format:j}),ve=me(q,{format:j});if(A.test(k)&&ae&&ve)if(n===j){const[,ge]=k.match(A);ln.test(ge)?[,i,l]=ge.match(ln):i=ge,c=ae,G&&(u=G),h=ve,ee&&(p=ee),e=e.replace(H,ae).replace(q,ve),d=!0}else{const ge=me(H,t),Te=me(q,t);x(ge)&&x(Te)&&(e=e.replace(H,ge).replace(q,Te))}else return rt(s,n,r)}else return rt(s,n,r);if(o.length&&n===j){const A=new RegExp(`^color-mix\\(\\s*in\\s+(${dr})\\s*,`),[,D]=e.match(A);if(ln.test(D)?[,i,l]=D.match(ln):i=D,o.length===2){let[k,B]=o;k=k.replace(/(?=[()])/g,"\\"),B=B.replace(/(?=[()])/g,"\\");const W=new RegExp(`(${k})(?:\\s+(${Pe}))?`),H=new RegExp(`(${B})(?:\\s+(${Pe}))?`);[,c,u]=e.match(W),[,h,p]=e.match(H)}else{let[k]=o;k=k.replace(/(?=[()])/g,"\\");const B=`${k}(?:\\s+${Pe})?`,W=`(${k})(?:\\s+(${Pe}))?`,H=new RegExp(`^${W}$`),G=new RegExp(`${W}\\s*\\)$`),q=new RegExp(`^(${nn})(?:\\s+(${Pe}))?$`);if(G.test(e)){const ee=new RegExp(`(${rn})\\s*,\\s*(${B})\\s*\\)$`),[,ae,ve]=e.match(ee);[,c,u]=ae.match(q),[,h,p]=ve.match(H)}else{const ee=new RegExp(`(${B})\\s*,\\s*(${rn})\\s*\\)$`),[,ae,ve]=e.match(ee);[,c,u]=ae.match(H),[,h,p]=ve.match(q)}}}else if(!d){const[,A,D,k]=e.match(rc),B=new RegExp(`^(${nn})(?:\\s+(${Pe}))?$`);[,c,u]=D.match(B),[,h,p]=k.match(B),ln.test(A)?[,i,l]=A.match(ln):i=A}let f,v,$;if(u&&p){const A=parseFloat(u)/z,D=parseFloat(p)/z;if(A<0||A>1||D<0||D>1||A===0&&D===0)return rt(s,n,r);const k=A+D;f=A/k,v=D/k,$=k<1?k:1}else{if(u){if(f=parseFloat(u)/z,f<0||f>1)return rt(s,n,r);v=1-f}else if(p){if(v=parseFloat(p)/z,v<0||v>1)return rt(s,n,r);f=1-v}else f=Bn,v=Bn;$=1}if(i==="xyz"&&(i="xyz-d65"),n===j){let A="",D="";if(c.startsWith(Mt)||c.startsWith(mr))A=c;else if(c.startsWith(se)){const[k,B,W,H,G]=he(c,t);G===1?A=`color(${k} ${B} ${W} ${H})`:A=`color(${k} ${B} ${W} ${H} / ${G})`}else{const k=de(c,t);if(Array.isArray(k)){const[B,W,H,G,q]=k;q===1?B==="rgb"?A=`${B}(${W}, ${H}, ${G})`:A=`${B}(${W} ${H} ${G})`:B==="rgb"?A=`${B}a(${W}, ${H}, ${G}, ${q})`:A=`${B}(${W} ${H} ${G} / ${q})`}else{if(!x(k)||!k)return C(s,""),"";A=k}}if(h.startsWith(Mt)||h.startsWith(mr))D=h;else if(h.startsWith(se)){const[k,B,W,H,G]=he(h,t);G===1?D=`color(${k} ${B} ${W} ${H})`:D=`color(${k} ${B} ${W} ${H} / ${G})`}else{const k=de(h,t);if(Array.isArray(k)){const[B,W,H,G,q]=k;q===1?B==="rgb"?D=`${B}(${W}, ${H}, ${G})`:D=`${B}(${W} ${H} ${G})`:B==="rgb"?D=`${B}a(${W}, ${H}, ${G}, ${q})`:D=`${B}(${W} ${H} ${G} / ${q})`}else{if(!x(k)||!k)return C(s,""),"";D=k}}if(u&&p)A+=` ${parseFloat(u)}%`,D+=` ${parseFloat(p)}%`;else if(u){const k=parseFloat(u);k!==z*Bn&&(A+=` ${k}%`)}else if(p){const k=z-parseFloat(p);k!==z*Bn&&(A+=` ${k}%`)}if(l){const k=`color-mix(in ${i} ${l} hue, ${A}, ${D})`;return C(s,k),k}else{const k=`color-mix(in ${i}, ${A}, ${D})`;return C(s,k),k}}let b=0,N=0,E=0,y=0;if(/^srgb(?:-linear)?$/.test(i)){let A,D;if(i==="srgb"?(fe.test(c)?A=[m,m,m,m]:A=Hn(c,{colorSpace:i,format:V}),fe.test(h)?D=[m,m,m,m]:D=Hn(h,{colorSpace:i,format:V})):(fe.test(c)?A=[m,m,m,m]:A=ms(c,{colorSpace:i,format:V}),fe.test(h)?D=[m,m,m,m]:D=ms(h,{colorSpace:i,format:V})),A instanceof S||D instanceof S)return rt(s,n,r);const[k,B,W,H]=A,[G,q,ee,ae]=D,ve=k===m&&G===m,ge=B===m&&q===m,Te=W===m&&ee===m,ct=H===m&&ae===m,[[_e,ye,Ee,ut],[We,Ce,$e,bt]]=Tn([k,B,W,H],[G,q,ee,ae],!0),oe=ut*f,ie=bt*v;if(y=oe+ie,y===0?(b=_e*f+We*v,N=ye*f+Ce*v,E=Ee*f+$e*v):(b=(_e*oe+We*ie)/y,N=(ye*oe+Ce*ie)/y,E=(Ee*oe+$e*ie)/y,y=parseFloat(y.toFixed(3))),n===Q){const pe=[i,ve?m:M(b,R),ge?m:M(N,R),Te?m:M(E,R),ct?m:y*$];return C(s,pe),pe}b*=I,N*=I,E*=I}else if(nc.test(i)){let A,D;if(fe.test(c)?A=[m,m,m,m]:A=Ua(c,{colorSpace:i,d50:i==="xyz-d50",format:V}),fe.test(h)?D=[m,m,m,m]:D=Ua(h,{colorSpace:i,d50:i==="xyz-d50",format:V}),A instanceof S||D instanceof S)return rt(s,n,r);const[k,B,W,H]=A,[G,q,ee,ae]=D,ve=k===m&&G===m,ge=B===m&&q===m,Te=W===m&&ee===m,ct=H===m&&ae===m,[[_e,ye,Ee,ut],[We,Ce,$e,bt]]=Tn([k,B,W,H],[G,q,ee,ae],!0),oe=ut*f,ie=bt*v;y=oe+ie;let pe,xe,Fe;if(y===0?(pe=_e*f+We*v,xe=ye*f+Ce*v,Fe=Ee*f+$e*v):(pe=(_e*oe+We*ie)/y,xe=(ye*oe+Ce*ie)/y,Fe=(Ee*oe+$e*ie)/y,y=parseFloat(y.toFixed(3))),n===Q){const kt=[i,ve?m:M(pe,R),ge?m:M(xe,R),Te?m:M(Fe,R),ct?m:y*$];return C(s,kt),kt}i==="xyz-d50"?[b,N,E]=_a([pe,xe,Fe],!0):[b,N,E]=hn([pe,xe,Fe],!0)}else if(/^h(?:sl|wb)$/.test(i)){let A,D;if(i==="hsl"?(fe.test(c)?A=[m,m,m,m]:A=gs(c,{colorSpace:i,format:V}),fe.test(h)?D=[m,m,m,m]:D=gs(h,{colorSpace:i,format:V})):(fe.test(c)?A=[m,m,m,m]:A=vs(c,{colorSpace:i,format:V}),fe.test(h)?D=[m,m,m,m]:D=vs(h,{colorSpace:i,format:V})),A instanceof S||D instanceof S)return rt(s,n,r);const[k,B,W,H]=A,[G,q,ee,ae]=D,ve=H===m&&ae===m;let[[ge,Te,ct,_e],[ye,Ee,ut,We]]=Tn([k,B,W,H],[G,q,ee,ae],!0);l&&([ge,ye]=Fo(ge,ye,l));const Ce=_e*f,$e=We*v;y=Ce+$e;const bt=(ge*f+ye*v)%Ke;let oe,ie;if(y===0?(oe=Te*f+Ee*v,ie=ct*f+ut*v):(oe=(Te*Ce+Ee*$e)/y,ie=(ct*Ce+ut*$e)/y,y=parseFloat(y.toFixed(3))),[b,N,E]=Hn(`${i}(${bt} ${oe} ${ie})`),n===Q){const pe=["srgb",M(b/I,R),M(N/I,R),M(E/I,R),ve?m:y*$];return C(s,pe),pe}}else if(/^(?:ok)?lch$/.test(i)){let A,D;if(i==="lch"?(fe.test(c)?A=[m,m,m,m]:A=ws(c,{colorSpace:i,format:V}),fe.test(h)?D=[m,m,m,m]:D=ws(h,{colorSpace:i,format:V})):(fe.test(c)?A=[m,m,m,m]:A=Ns(c,{colorSpace:i,format:V}),fe.test(h)?D=[m,m,m,m]:D=Ns(h,{colorSpace:i,format:V})),A instanceof S||D instanceof S)return rt(s,n,r);const[k,B,W,H]=A,[G,q,ee,ae]=D,ve=k===m&&G===m,ge=B===m&&q===m,Te=W===m&&ee===m,ct=H===m&&ae===m;let[[_e,ye,Ee,ut],[We,Ce,$e,bt]]=Tn([k,B,W,H],[G,q,ee,ae],!0);l&&([Ee,$e]=Fo(Ee,$e,l));const oe=ut*f,ie=bt*v;y=oe+ie;const pe=(Ee*f+$e*v)%Ke;let xe,Fe;if(y===0?(xe=_e*f+We*v,Fe=ye*f+Ce*v):(xe=(_e*oe+We*ie)/y,Fe=(ye*oe+Ce*ie)/y,y=parseFloat(y.toFixed(3))),n===Q){const kt=[i,ve?m:M(xe,R),ge?m:M(Fe,R),Te?m:M(pe,R),ct?m:y*$];return C(s,kt),kt}[,b,N,E]=Wt(`${i}(${xe} ${Fe} ${pe})`)}else{let A,D;if(i==="lab"?(fe.test(c)?A=[m,m,m,m]:A=bs(c,{colorSpace:i,format:V}),fe.test(h)?D=[m,m,m,m]:D=bs(h,{colorSpace:i,format:V})):(fe.test(c)?A=[m,m,m,m]:A=$s(c,{colorSpace:i,format:V}),fe.test(h)?D=[m,m,m,m]:D=$s(h,{colorSpace:i,format:V})),A instanceof S||D instanceof S)return rt(s,n,r);const[k,B,W,H]=A,[G,q,ee,ae]=D,ve=k===m&&G===m,ge=B===m&&q===m,Te=W===m&&ee===m,ct=H===m&&ae===m,[[_e,ye,Ee,ut],[We,Ce,$e,bt]]=Tn([k,B,W,H],[G,q,ee,ae],!0),oe=ut*f,ie=bt*v;y=oe+ie;let pe,xe,Fe;if(y===0?(pe=_e*f+We*v,xe=ye*f+Ce*v,Fe=Ee*f+$e*v):(pe=(_e*oe+We*ie)/y,xe=(ye*oe+Ce*ie)/y,Fe=(Ee*oe+$e*ie)/y,y=parseFloat(y.toFixed(3))),n===Q){const kt=[i,ve?m:M(pe,R),ge?m:M(xe,R),Te?m:M(Fe,R),ct?m:y*$];return C(s,kt),kt}[,b,N,E]=Wt(`${i}(${pe} ${xe} ${Fe})`)}const _=["rgb",Math.round(b),Math.round(N),Math.round(E),parseFloat((y*$).toFixed(3))];return C(s,_),_},{CloseParen:Ga,Comment:cc,EOF:uc,Ident:hc,Whitespace:fc}=g,pc="css-var",Va=new RegExp(fr),ja=new RegExp(Pn);function qa(e,t={}){if(!Array.isArray(e))throw new TypeError(`${e} is not an array.`);const{customProperty:n={}}=t,r=[];for(;e.length;){const o=e.shift();if(!Array.isArray(o))throw new TypeError(`${o} is not an array.`);const[i,l]=o;if(i===Ga)break;if(l===Zr){const[c,u]=qa(e,t);e=c,u&&r.push(u)}else if(i===hc)if(l.startsWith("--")){let c;Object.hasOwn(n,l)?c=n[l]:typeof n.callback=="function"&&(c=n.callback(l)),c&&r.push(c)}else l&&r.push(l)}let s=!1;if(r.length>1){const o=r[r.length-1];s=Rt(o)}let a="";for(let o of r){if(o=o.trim(),ja.test(o)){const i=zn(o,t);x(i)&&(s?Rt(i)&&(a=i):a=i)}else Va.test(o)?(o=Xn(o,t),s?Rt(o)&&(a=o):a=o):o&&!/^(?:inherit|initial|revert(?:-layer)?|unset)$/.test(o)&&(s?Rt(o)&&(a=o):a=o);if(a)break}return[e,a]}function dc(e,t={}){const n=[];for(;e.length;){const r=e.shift(),[s="",a=""]=r;if(a===Zr){const[o,i]=qa(e,t);if(!i)return new S;e=o,n.push(i)}else switch(s){case Ga:{n.length&&n[n.length-1]===" "?n.splice(-1,1,a):n.push(a);break}case fc:{if(n.length){const o=n[n.length-1];x(o)&&!o.endsWith("(")&&o!==" "&&n.push(a)}break}default:s!==cc&&s!==uc&&n.push(a)}}return n}function zn(e,t={}){const{format:n=""}=t;if(x(e)){if(!ja.test(e)||n===j)return e;e=e.trim()}else throw new TypeError(`${e} is not a string.`);const r=ue({namespace:pc,name:"resolveVar",value:e},t),s=ce(r);if(s instanceof te)return s.isNull?s:s.item;const a=Nt({css:e}),o=dc(a,t);if(Array.isArray(o)){let i=o.join("");return Va.test(i)&&(i=Xn(i,t)),C(r,i),i}else return C(r,null),new S}const mc=(e,t={})=>{const n=zn(e,t);return x(n)?n:""};function Ne(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}const gc=[.955473421488075,-.02309845494876471,.06325924320057072,-.0283697093338637,1.0099953980813041,.021041441191917323,.012314014864481998,-.020507649298898964,1.330365926242124];function at(e){return Ne(gc,e)}const vc=[1.0479297925449969,.022946870601609652,-.05019226628920524,.02962780877005599,.9904344267538799,-.017073799063418826,-.009243040646204504,.015055191490298152,.7518742814281371];function ot(e){return Ne(vc,e)}function Ya(e){let t=e[0]%360;const n=e[1]/100,r=e[2]/100;return t<0&&(t+=360),[ys(0,t,n,r),ys(8,t,n,r),ys(4,t,n,r)]}function ys(e,t,n,r){const s=(e+t/30)%12;return r-n*Math.min(r,1-r)*Math.max(-1,Math.min(s-3,9-s,1))}function bc(e){const t=e[0],n=e[1]/100,r=e[2]/100;if(n+r>=1){const o=n/(n+r);return[o,o,o]}const s=Ya([t,100,50]),a=1-n-r;return[s[0]*a+n,s[1]*a+n,s[2]*a+n]}function wc(e){const t=e[2]*Math.PI/180;return[e[0],e[1]*Math.cos(t),e[1]*Math.sin(t)]}function $c(e){const t=Math.sqrt(Math.pow(e[1],2)+Math.pow(e[2],2));let n=180*Math.atan2(e[2],e[1])/Math.PI;return n<0&&(n+=360),t<=.0015&&(n=NaN),[e[0],t,n]}const fn=[.3457/.3585,1,.2958/.3585];function Xa(e){const t=903.2962962962963,n=216/24389,r=(e[0]+16)/116,s=e[1]/500+r,a=r-e[2]/200;return[(Math.pow(s,3)>n?Math.pow(s,3):(116*s-16)/t)*fn[0],(e[0]>8?Math.pow((e[0]+16)/116,3):e[0]/t)*fn[1],(Math.pow(a,3)>n?Math.pow(a,3):(116*a-16)/t)*fn[2]]}function Ka(e){const t=e[2]*Math.PI/180;return[e[0],e[1]*Math.cos(t),e[1]*Math.sin(t)]}function Za(e){const t=Math.sqrt(e[1]**2+e[2]**2);let n=180*Math.atan2(e[2],e[1])/Math.PI;return n<0&&(n+=360),t<=4e-6&&(n=NaN),[e[0],t,n]}const Nc=[1.2268798758459243,-.5578149944602171,.2813910456659647,-.0405757452148008,1.112286803280317,-.0717110580655164,-.0763729366746601,-.4214933324022432,1.5869240198367816],yc=[1,.3963377773761749,.2158037573099136,1,-.1055613458156586,-.0638541728258133,1,-.0894841775298119,-1.2914855480194092];function Es(e){const t=Ne(yc,e);return Ne(Nc,[t[0]**3,t[1]**3,t[2]**3])}function Ja(e){const t=Cs(e[0]/fn[0]),n=Cs(e[1]/fn[1]);return[116*n-16,500*(t-n),200*(n-Cs(e[2]/fn[2]))]}const Ec=216/24389,Cc=24389/27;function Cs(e){return e>Ec?Math.cbrt(e):(Cc*e+16)/116}const xc=[.819022437996703,.3619062600528904,-.1288737815209879,.0329836539323885,.9292868615863434,.0361446663506424,.0481771893596242,.2642395317527308,.6335478284694309],Fc=[.210454268309314,.7936177747023054,-.0040720430116193,1.9779985324311684,-2.42859224204858,.450593709617411,.0259040424655478,.7827717124575296,-.8086757549230774];function xs(e){const t=Ne(xc,e);return Ne(Fc,[Math.cbrt(t[0]),Math.cbrt(t[1]),Math.cbrt(t[2])])}const Sc=[30757411/17917100,-6372589/17917100,-4539589/17917100,-.666684351832489,1.616481236634939,467509/29648200,792561/44930125,-1921689/44930125,.942103121235474],kc=[446124/178915,-333277/357830,-72051/178915,-14852/17905,63121/35810,423/17905,11844/330415,-50337/660830,316169/330415];function Qa(e){return Ne(kc,e)}const Ac=[1.3457868816471583,-.25557208737979464,-.05110186497554526,-.5446307051249019,1.5082477428451468,.02052744743642139,0,0,1.2119675456389452],Pc=[1829569/896150,-506331/896150,-308931/896150,-851781/878810,1648619/878810,36519/878810,16779/1248040,-147721/1248040,1266979/1248040],Dc=[12831/3959,-329/214,-1974/3959,-851781/878810,1648619/878810,36519/878810,705/12673,-2585/12673,705/667];function Un(e){return Ne(Dc,e)}function Fs(e){const t=e<0?-1:1,n=Math.abs(e);return t*Math.pow(n,1/2.4)}function Gn(e){return[Ss(e[0]),Ss(e[1]),Ss(e[2])]}function Ss(e){const t=e<0?-1:1,n=Math.abs(e);return n>.0031308?t*(1.055*Math.pow(n,1/2.4)-.055):12.92*e}function Mc(e){return Gn(e)}const Bc=1/512;function ks(e){const t=e<0?-1:1,n=Math.abs(e);return n>=Bc?t*Math.pow(n,1/1.8):16*e}function As(e){const t=e<0?-1:1,n=Math.abs(e);return t*Math.pow(n,256/563)}function Ps(e){const t=e<0?-1:1,n=Math.abs(e);return t*Math.pow(n,2.4)}const Rc=[63426534/99577255,20160776/139408157,47086771/278816314,26158966/99577255,.677998071518871,8267143/139408157,0,19567812/697040785,1.0609850577107909];function Sr(e){return[Ds(e[0]),Ds(e[1]),Ds(e[2])]}function Ds(e){const t=e<0?-1:1,n=Math.abs(e);return n<=.04045?e/12.92:t*Math.pow((n+.055)/1.055,2.4)}function Oc(e){return Sr(e)}const Ic=[608311/1250200,189793/714400,198249/1000160,35783/156275,247089/357200,198249/2500400,0,32229/714400,5220557/5000800];function eo(e){return Ne(Ic,e)}const Lc=16/512;function Ms(e){const t=e<0?-1:1,n=Math.abs(e);return n<=Lc?e/16:t*Math.pow(n,1.8)}const Tc=[.7977666449006423,.13518129740053308,.0313477341283922,.2880748288194013,.711835234241873,8993693872564e-17,0,0,.8251046025104602];function Bs(e){const t=e<0?-1:1,n=Math.abs(e);return t*Math.pow(n,563/256)}const _c=[573536/994567,263643/1420810,187206/994567,591459/1989134,6239551/9945670,374412/4972835,53769/1989134,351524/4972835,4929758/4972835],Wc=[506752/1228815,87881/245763,12673/70218,87098/409605,175762/245763,12673/175545,7918/409605,87881/737289,1001167/1053270];function Vn(e){return Ne(Wc,e)}function Hc(e){const t=e[0],n=e[1],r=e[2],s=Math.max(t,n,r),a=Math.min(t,n,r),o=(a+s)/2,i=s-a;let l=Number.NaN,c=0;if(Math.round(1e5*i)!==0){const u=Math.round(1e5*o);switch(c=u===0||u===1e5?0:(s-o)/Math.min(o,1-o),s){case t:l=(n-r)/i+(n<r?6:0);break;case n:l=(r-t)/i+2;break;case r:l=(t-n)/i+4}l*=60}return c<0&&(l+=180,c=Math.abs(c)),l>=360&&(l-=360),c<=1e-5&&(l=NaN),[l,100*c,100*o]}function zc(e){const t=e[0],n=e[1],r=e[2],s=Math.max(t,n,r),a=Math.min(t,n,r);let o=Number.NaN;const i=s-a;if(i!==0){switch(s){case t:o=(n-r)/i+(n<r?6:0);break;case n:o=(r-t)/i+2;break;case r:o=(t-n)/i+4}o*=60}return o>=360&&(o-=360),o}function Uc(e){let t=e;return t=Sr(t),t=Vn(t),t=ot(t),t}function Rs(e){let t=e;return t=at(t),t=Un(t),t=Gn(t),t}function Gc(e){let t=e;return t=Ya(t),t=Sr(t),t=Vn(t),t=ot(t),t}function Vc(e){let t=e;return t=at(t),t=Un(t),t=Gn(t),t=Hc(t),t}function jc(e){let t=e;return t=bc(t),t=Sr(t),t=Vn(t),t=ot(t),t}function qc(e){let t=e;t=at(t),t=Un(t);const n=Gn(t),r=Math.min(n[0],n[1],n[2]),s=1-Math.max(n[0],n[1],n[2]);let a=zc(n);return r+s>=.99999&&(a=NaN),[a,100*r,100*s]}function Yc(e){let t=e;return t=Xa(t),t}function Xc(e){let t=e;return t=Ja(t),t}function Kc(e){let t=e;return t=wc(t),t=Xa(t),t}function Zc(e){let t=e;return t=Ja(t),t=$c(t),t}function Jc(e){let t=e;return t=Es(t),t=ot(t),t}function Qc(e){let t=e;return t=at(t),t=xs(t),t}function eu(e){let t=e;return t=Ka(t),t=Es(t),t=ot(t),t}function to(e){let t=e;return t=at(t),t=xs(t),t=Za(t),t}function tu(e){let t=e;return t=Vn(t),t=ot(t),t}function nu(e){let t=e;return t=at(t),t=Un(t),t}function ru(e){let t=e;var n;return t=[Bs((n=t)[0]),Bs(n[1]),Bs(n[2])],t=Ne(_c,t),t=ot(t),t}function su(e){let t=e;var n;return t=at(t),t=Ne(Pc,t),t=[As((n=t)[0]),As(n[1]),As(n[2])],t}function au(e){let t=e;return t=Oc(t),t=eo(t),t=ot(t),t}function ou(e){let t=e;return t=at(t),t=Qa(t),t=Mc(t),t}function iu(e){let t=e;return t=eo(t),t=ot(t),t}function lu(e){let t=e;return t=at(t),t=Qa(t),t}function cu(e){let t=e;var n;return t=[Ps((n=t)[0]),Ps(n[1]),Ps(n[2])],t=Ne(Rc,t),t=ot(t),t}function uu(e){let t=e;var n;return t=at(t),t=Ne(Sc,t),t=[Fs((n=t)[0]),Fs(n[1]),Fs(n[2])],t}function hu(e){let t=e;var n;return t=[Ms((n=t)[0]),Ms(n[1]),Ms(n[2])],t=Ne(Tc,t),t}function fu(e){let t=e;var n;return t=Ne(Ac,t),t=[ks((n=t)[0]),ks(n[1]),ks(n[2])],t}function pu(e){let t=e;return t=ot(t),t}function du(e){let t=e;return t=at(t),t}function mu(e){return e[0]>=-1e-4&&e[0]<=1.0001&&e[1]>=-1e-4&&e[1]<=1.0001&&e[2]>=-1e-4&&e[2]<=1.0001}function no(e){return[e[0]<0?0:e[0]>1?1:e[0],e[1]<0?0:e[1]>1?1:e[1],e[2]<0?0:e[2]>1?1:e[2]]}function gu(e,t,n){const r=e[0],s=e[2];let a=t(e);const o=t([r,0,s]);for(let i=0;i<4;i++){if(i>0){const c=n(a);c[0]=r,c[2]=s,a=t(c)}const l=vu(o,a);if(!l)break;a=l}return no(a)}function vu(e,t){let n=1/0,r=-1/0;const s=[0,0,0];for(let a=0;a<3;a++){const o=e[a],i=t[a]-o;s[a]=i;const l=0,c=1;if(i){const u=1/i,h=(l-o)*u,p=(c-o)*u;r=Math.max(Math.min(h,p),r),n=Math.min(Math.max(h,p),n)}else if(o<l||o>c)return!1}return!(r>n||n<0)&&(r<0&&(r=n),!!isFinite(r)&&[e[0]+s[0]*r,e[1]+s[1]*r,e[2]+s[2]*r])}const bu={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function ro(e){const[t,n,r]=e.map(s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4));return .2126*t+.7152*n+.0722*r}function so(e,t){const n=ro(e),r=ro(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}var w,P;function we(e){return[Number.isNaN(e[0])?0:e[0],Number.isNaN(e[1])?0:e[1],Number.isNaN(e[2])?0:e[2]]}function ao(e){switch(e.colorNotation){case w.HEX:case w.RGB:case w.sRGB:return{...e,colorNotation:w.XYZ_D50,channels:Uc(we(e.channels))};case w.Linear_sRGB:return{...e,colorNotation:w.XYZ_D50,channels:tu(we(e.channels))};case w.Display_P3:return{...e,colorNotation:w.XYZ_D50,channels:au(we(e.channels))};case w.Linear_Display_P3:return{...e,colorNotation:w.XYZ_D50,channels:iu(we(e.channels))};case w.Rec2020:return{...e,colorNotation:w.XYZ_D50,channels:cu(we(e.channels))};case w.A98_RGB:return{...e,colorNotation:w.XYZ_D50,channels:ru(we(e.channels))};case w.ProPhoto_RGB:return{...e,colorNotation:w.XYZ_D50,channels:hu(we(e.channels))};case w.HSL:return{...e,colorNotation:w.XYZ_D50,channels:Gc(we(e.channels))};case w.HWB:return{...e,colorNotation:w.XYZ_D50,channels:jc(we(e.channels))};case w.Lab:return{...e,colorNotation:w.XYZ_D50,channels:Yc(we(e.channels))};case w.OKLab:return{...e,colorNotation:w.XYZ_D50,channels:Jc(we(e.channels))};case w.LCH:return{...e,colorNotation:w.XYZ_D50,channels:Kc(we(e.channels))};case w.OKLCH:return{...e,colorNotation:w.XYZ_D50,channels:eu(we(e.channels))};case w.XYZ_D50:return{...e,colorNotation:w.XYZ_D50,channels:we(e.channels)};case w.XYZ_D65:return{...e,colorNotation:w.XYZ_D50,channels:pu(we(e.channels))};default:throw new Error("Unsupported color notation")}}(function(e){e.A98_RGB="a98-rgb",e.Display_P3="display-p3",e.Linear_Display_P3="display-p3-linear",e.HEX="hex",e.HSL="hsl",e.HWB="hwb",e.LCH="lch",e.Lab="lab",e.Linear_sRGB="srgb-linear",e.OKLCH="oklch",e.OKLab="oklab",e.ProPhoto_RGB="prophoto-rgb",e.RGB="rgb",e.sRGB="srgb",e.Rec2020="rec2020",e.XYZ_D50="xyz-d50",e.XYZ_D65="xyz-d65"})(w||(w={})),(function(e){e.ColorKeyword="color-keyword",e.HasAlpha="has-alpha",e.HasDimensionValues="has-dimension-values",e.HasNoneKeywords="has-none-keywords",e.HasNumberValues="has-number-values",e.HasPercentageAlpha="has-percentage-alpha",e.HasPercentageValues="has-percentage-values",e.HasVariableAlpha="has-variable-alpha",e.Hex="hex",e.LegacyHSL="legacy-hsl",e.LegacyRGB="legacy-rgb",e.NamedColor="named-color",e.RelativeColorSyntax="relative-color-syntax",e.ColorMix="color-mix",e.ColorMixVariadic="color-mix-variadic",e.ContrastColor="contrast-color",e.RelativeAlphaSyntax="relative-alpha-syntax",e.Experimental="experimental"})(P||(P={}));const oo=new Set([w.A98_RGB,w.Display_P3,w.Linear_Display_P3,w.HEX,w.Linear_sRGB,w.ProPhoto_RGB,w.RGB,w.sRGB,w.Rec2020,w.XYZ_D50,w.XYZ_D65]);function Bt(e,t){const n={...e};if(e.colorNotation!==t){const r=ao(n);switch(t){case w.HEX:case w.RGB:n.colorNotation=w.RGB,n.channels=Rs(r.channels);break;case w.sRGB:n.colorNotation=w.sRGB,n.channels=Rs(r.channels);break;case w.Linear_sRGB:n.colorNotation=w.Linear_sRGB,n.channels=nu(r.channels);break;case w.Display_P3:n.colorNotation=w.Display_P3,n.channels=ou(r.channels);break;case w.Linear_Display_P3:n.colorNotation=w.Linear_Display_P3,n.channels=lu(r.channels);break;case w.Rec2020:n.colorNotation=w.Rec2020,n.channels=uu(r.channels);break;case w.ProPhoto_RGB:n.colorNotation=w.ProPhoto_RGB,n.channels=fu(r.channels);break;case w.A98_RGB:n.colorNotation=w.A98_RGB,n.channels=su(r.channels);break;case w.HSL:n.colorNotation=w.HSL,n.channels=Vc(r.channels);break;case w.HWB:n.colorNotation=w.HWB,n.channels=qc(r.channels);break;case w.Lab:n.colorNotation=w.Lab,n.channels=Xc(r.channels);break;case w.LCH:n.colorNotation=w.LCH,n.channels=Zc(r.channels);break;case w.OKLCH:n.colorNotation=w.OKLCH,n.channels=to(r.channels);break;case w.OKLab:n.colorNotation=w.OKLab,n.channels=Qc(r.channels);break;case w.XYZ_D50:n.colorNotation=w.XYZ_D50,n.channels=r.channels;break;case w.XYZ_D65:n.colorNotation=w.XYZ_D65,n.channels=du(r.channels);break;default:throw new Error("Unsupported color notation")}}else n.channels=we(e.channels);if(t===e.colorNotation)n.channels=Le(e.channels,[0,1,2],n.channels,[0,1,2]);else if(oo.has(t)&&oo.has(e.colorNotation))n.channels=Le(e.channels,[0,1,2],n.channels,[0,1,2]);else switch(t){case w.HSL:switch(e.colorNotation){case w.HWB:n.channels=Le(e.channels,[0],n.channels,[0]);break;case w.Lab:case w.OKLab:n.channels=Le(e.channels,[2],n.channels,[0]);break;case w.LCH:case w.OKLCH:n.channels=Le(e.channels,[0,1,2],n.channels,[2,1,0])}break;case w.HWB:switch(e.colorNotation){case w.HSL:n.channels=Le(e.channels,[0],n.channels,[0]);break;case w.LCH:case w.OKLCH:n.channels=Le(e.channels,[0],n.channels,[2])}break;case w.Lab:case w.OKLab:switch(e.colorNotation){case w.HSL:n.channels=Le(e.channels,[0],n.channels,[2]);break;case w.Lab:case w.OKLab:n.channels=Le(e.channels,[0,1,2],n.channels,[0,1,2]);break;case w.LCH:case w.OKLCH:n.channels=Le(e.channels,[0],n.channels,[0])}break;case w.LCH:case w.OKLCH:switch(e.colorNotation){case w.HSL:n.channels=Le(e.channels,[0,1,2],n.channels,[2,1,0]);break;case w.HWB:n.channels=Le(e.channels,[0],n.channels,[2]);break;case w.Lab:case w.OKLab:n.channels=Le(e.channels,[0],n.channels,[0]);break;case w.LCH:case w.OKLCH:n.channels=Le(e.channels,[0,1,2],n.channels,[0,1,2])}}return n.channels=wu(n.channels,t),n}function wu(e,t){const n=[...e];switch(t){case w.HSL:!Number.isNaN(n[1])&&jn(n[1],4)<=0&&(n[0]=Number.NaN);break;case w.HWB:Math.max(0,jn(n[1],4))+Math.max(0,jn(n[2],4))>=100&&(n[0]=Number.NaN);break;case w.LCH:!Number.isNaN(n[1])&&jn(n[1],4)<=0&&(n[2]=Number.NaN);break;case w.OKLCH:!Number.isNaN(n[1])&&jn(n[1],6)<=0&&(n[2]=Number.NaN)}return n}function Le(e,t,n,r){const s=[...n];for(const a of t)Number.isNaN(e[t[a]])&&(s[r[a]]=Number.NaN);return s}function Os(e){const t=new Map;switch(e.colorNotation){case w.RGB:case w.HEX:t.set("r",K(255*e.channels[0])),t.set("g",K(255*e.channels[1])),t.set("b",K(255*e.channels[2])),typeof e.alpha=="number"&&t.set("alpha",K(e.alpha));break;case w.HSL:t.set("h",K(e.channels[0])),t.set("s",K(e.channels[1])),t.set("l",K(e.channels[2])),typeof e.alpha=="number"&&t.set("alpha",K(e.alpha));break;case w.HWB:t.set("h",K(e.channels[0])),t.set("w",K(e.channels[1])),t.set("b",K(e.channels[2])),typeof e.alpha=="number"&&t.set("alpha",K(e.alpha));break;case w.Lab:case w.OKLab:t.set("l",K(e.channels[0])),t.set("a",K(e.channels[1])),t.set("b",K(e.channels[2])),typeof e.alpha=="number"&&t.set("alpha",K(e.alpha));break;case w.LCH:case w.OKLCH:t.set("l",K(e.channels[0])),t.set("c",K(e.channels[1])),t.set("h",K(e.channels[2])),typeof e.alpha=="number"&&t.set("alpha",K(e.alpha));break;case w.sRGB:case w.A98_RGB:case w.Display_P3:case w.Linear_Display_P3:case w.Rec2020:case w.Linear_sRGB:case w.ProPhoto_RGB:t.set("r",K(e.channels[0])),t.set("g",K(e.channels[1])),t.set("b",K(e.channels[2])),typeof e.alpha=="number"&&t.set("alpha",K(e.alpha));break;case w.XYZ_D50:case w.XYZ_D65:t.set("x",K(e.channels[0])),t.set("y",K(e.channels[1])),t.set("z",K(e.channels[2])),typeof e.alpha=="number"&&t.set("alpha",K(e.alpha))}return t}function Is(e){const t=new Map(e);for(const[n,r]of e)Number.isNaN(r[4].value)&&t.set(n,K(0));return t}function K(e){return Number.isNaN(e)?[g.Number,"none",-1,-1,{value:Number.NaN,type:F.Number}]:[g.Number,e.toString(),-1,-1,{value:e,type:F.Number}]}function jn(e,t=7){if(Number.isNaN(e))return 0;const n=Math.pow(10,t);return Math.round(e*n)/n}function U(e,t,n,r){return Math.min(Math.max(e/t,n),r)}const $u=/[A-Z]/g;function Z(e){return e.replace($u,t=>String.fromCharCode(t.charCodeAt(0)+32))}function pn(e,t,n){if(ne(e)&&Z(e[4].value)==="none")return n.syntaxFlags.add(P.HasNoneKeywords),[g.Number,"none",e[2],e[3],{value:Number.NaN,type:F.Number}];if(X(e)){t!==3&&n.syntaxFlags.add(P.HasPercentageValues);let r=U(e[4].value,100,-2147483647,2147483647);return t===3&&(r=U(e[4].value,100,0,1)),[g.Number,r.toString(),e[2],e[3],{value:r,type:F.Number}]}if(L(e)){t!==3&&n.syntaxFlags.add(P.HasNumberValues);let r=U(e[4].value,1,-2147483647,2147483647);return t===3&&(r=U(e[4].value,1,0,1)),[g.Number,r.toString(),e[2],e[3],{value:r,type:F.Number}]}return!1}const Nu=new Set(["srgb","srgb-linear","display-p3","display-p3-linear","a98-rgb","prophoto-rgb","rec2020","xyz","xyz-d50","xyz-d65"]);function yu(e,t){const n=[],r=[],s=[],a=[];let o,i,l=!1,c=!1;const u={colorNotation:w.sRGB,channels:[0,0,0],alpha:1,syntaxFlags:new Set([])};let h=n;for(let $=0;$<e.value.length;$++){let b=e.value[$];if(He(b)||ze(b))for(;He(e.value[$+1])||ze(e.value[$+1]);)$++;else if(h===n&&n.length&&(h=r),h===r&&r.length&&(h=s),O(b)&&Cn(b.value)&&b.value[4].value==="/"){if(h===a)return!1;h=a}else{if(Be(b)){if(h===a&&Z(b.getName())==="var"){u.syntaxFlags.add(P.HasVariableAlpha),h.push(b);continue}if(!kn.has(Z(b.getName())))return!1;const[[N]]=Qt([[b]],{censorIntoStandardRepresentableValues:!0,globals:i,precision:-1,toCanonicalUnits:!0,rawPercentages:!0});if(!N||!O(N)||!re(N.value))return!1;Number.isNaN(N.value[4].value)&&(N.value[4].value=0),b=N}if(h===n&&n.length===0&&O(b)&&ne(b.value)&&Nu.has(Z(b.value[4].value))){if(l)return!1;l=Z(b.value[4].value),u.colorNotation=Eu(l),c&&(c.colorNotation!==u.colorNotation&&(c=Bt(c,u.colorNotation)),o=Os(c),i=Is(o))}else if(h===n&&n.length===0&&O(b)&&ne(b.value)&&Z(b.value[4].value)==="from"){if(c||l)return!1;for(;He(e.value[$+1])||ze(e.value[$+1]);)$++;if($++,b=e.value[$],c=t(b),c===!1)return!1;c.syntaxFlags.has(P.Experimental)&&u.syntaxFlags.add(P.Experimental),u.syntaxFlags.add(P.RelativeColorSyntax)}else{if(!O(b))return!1;if(ne(b.value)&&o&&o.has(Z(b.value[4].value))){h.push(new T(o.get(Z(b.value[4].value))));continue}h.push(b)}}}if(!l||h.length!==1||n.length!==1||r.length!==1||s.length!==1||!O(n[0])||!O(r[0])||!O(s[0])||o&&!o.has("alpha"))return!1;const p=pn(n[0].value,0,u);if(!p||!L(p))return!1;const d=pn(r[0].value,1,u);if(!d||!L(d))return!1;const f=pn(s[0].value,2,u);if(!f||!L(f))return!1;const v=[p,d,f];if(a.length===1)if(u.syntaxFlags.add(P.HasAlpha),O(a[0])){const $=pn(a[0].value,3,u);if(!$||!L($))return!1;v.push($)}else u.alpha=a[0];else if(o&&o.has("alpha")){const $=pn(o.get("alpha"),3,u);if(!$||!L($))return!1;v.push($)}return u.channels=[v[0][4].value,v[1][4].value,v[2][4].value],v.length===4&&(u.alpha=v[3][4].value),u}function Eu(e){switch(e){case"srgb":return w.sRGB;case"srgb-linear":return w.Linear_sRGB;case"display-p3":return w.Display_P3;case"display-p3-linear":return w.Linear_Display_P3;case"a98-rgb":return w.A98_RGB;case"prophoto-rgb":return w.ProPhoto_RGB;case"rec2020":return w.Rec2020;case"xyz":case"xyz-d65":return w.XYZ_D65;case"xyz-d50":return w.XYZ_D50;default:throw new Error("Unknown color space name: "+e)}}const Cu=new Set(["srgb","srgb-linear","display-p3","display-p3-linear","a98-rgb","prophoto-rgb","rec2020","lab","oklab","xyz","xyz-d50","xyz-d65"]),Ls=new Set(["hsl","hwb","lch","oklch"]),xu=new Set(["shorter","longer","increasing","decreasing"]);function Fu(e,t){let n=null,r=null,s=null,a=!1;for(let o=0;o<e.value.length;o++){const i=e.value[o];if(!yt(i)){if(!(n||O(i)&&ne(i.value)&&Z(i.value[4].value)==="in"))return io("oklab",kr(e.value,t));if(O(i)&&ne(i.value)){if(!n&&Z(i.value[4].value)==="in"){n=i;continue}if(n&&!r){r=Z(i.value[4].value);continue}if(n&&r&&!s&&Ls.has(r)){s=Z(i.value[4].value);continue}if(n&&r&&s&&!a&&Z(i.value[4].value)==="hue"){a=!0;continue}return!1}return!(!O(i)||!tt(i.value))&&!!r&&(s||a?!!(r&&s&&a&&Ls.has(r)&&xu.has(s))&&lo(r,s,kr(e.value.slice(o+1),t)):Cu.has(r)?io(r,kr(e.value.slice(o+1),t)):!!Ls.has(r)&&lo(r,"shorter",kr(e.value.slice(o+1),t)))}}return!1}function kr(e,t){const n=[];let r=1,s=!1,a=!1;for(let c=0;c<e.length;c++){let u=e[c];if(!yt(u)){if(!O(u)||!tt(u.value)){if(!s){const h=t(u);if(h){s=h;continue}}if(!a){if(Be(u)&&kn.has(Z(u.getName()))){if([[u]]=Qt([[u]],{censorIntoStandardRepresentableValues:!0,precision:-1,toCanonicalUnits:!0,rawPercentages:!0}),!u||!O(u)||!re(u.value))return!1;Number.isNaN(u.value[4].value)&&(u.value[4].value=0)}if(O(u)&&X(u.value)&&u.value[4].value>=0){a=u.value[4].value;continue}}return!1}if(!s)return!1;n.push({color:s,percentage:a}),s=!1,a=!1}}if(!s)return!1;n.push({color:s,percentage:a});let o=0,i=0;for(let c=0;c<n.length;c++){const u=n[c].percentage;if(u!==!1){if(u<0||u>100)return!1;o+=u}else i++}const l=Math.max(0,100-o);o=0;for(let c=0;c<n.length;c++)n[c].percentage===!1&&(n[c].percentage=l/i),o+=n[c].percentage;if(o===0)return{colors:[{color:{channels:[0,0,0],colorNotation:w.sRGB,alpha:0,syntaxFlags:new Set},percentage:0}],alphaMultiplier:0};if(o>100)for(let c=0;c<n.length;c++){let u=n[c].percentage;u=u/o*100,n[c].percentage=u}if(o<100){r=o/100;for(let c=0;c<n.length;c++){let u=n[c].percentage;u=u/o*100,n[c].percentage=u}}return{colors:n,alphaMultiplier:r}}function io(e,t){if(!t||!t.colors.length)return!1;const n=t.colors.slice();n.reverse();let r=w.RGB;switch(e){case"srgb":r=w.RGB;break;case"srgb-linear":r=w.Linear_sRGB;break;case"display-p3":r=w.Display_P3;break;case"display-p3-linear":r=w.Linear_Display_P3;break;case"a98-rgb":r=w.A98_RGB;break;case"prophoto-rgb":r=w.ProPhoto_RGB;break;case"rec2020":r=w.Rec2020;break;case"lab":r=w.Lab;break;case"oklab":r=w.OKLab;break;case"xyz-d50":r=w.XYZ_D50;break;case"xyz":case"xyz-d65":r=w.XYZ_D65;break;default:return!1}if(n.length===1){const a=Bt(n[0].color,r);return a.colorNotation=r,a.syntaxFlags.add(P.ColorMixVariadic),typeof a.alpha!="number"?!1:(a.alpha=a.alpha*t.alphaMultiplier,a)}for(;n.length>=2;){const a=n.pop(),o=n.pop();if(!a||!o)return!1;const i=Su(r,a.color,a.percentage,o.color,o.percentage);if(!i)return!1;n.push({color:i,percentage:a.percentage+o.percentage})}const s=n[0]?.color;return!!s&&(t.colors.some(a=>a.color.syntaxFlags.has(P.Experimental))&&s.syntaxFlags.add(P.Experimental),typeof s.alpha=="number"&&(s.alpha=s.alpha*t.alphaMultiplier,t.colors.length!==2&&s.syntaxFlags.add(P.ColorMixVariadic),s))}function Su(e,t,n,r,s){const a=n/(n+s);let o=t.alpha;if(typeof o!="number")return!1;let i=r.alpha;if(typeof i!="number")return!1;o=Number.isNaN(o)?i:o,i=Number.isNaN(i)?o:i;const l=Bt(t,e).channels,c=Bt(r,e).channels;l[0]=Qe(l[0],c[0]),c[0]=Qe(c[0],l[0]),l[1]=Qe(l[1],c[1]),c[1]=Qe(c[1],l[1]),l[2]=Qe(l[2],c[2]),c[2]=Qe(c[2],l[2]),l[0]=gt(l[0],o),l[1]=gt(l[1],o),l[2]=gt(l[2],o),c[0]=gt(c[0],i),c[1]=gt(c[1],i),c[2]=gt(c[2],i);const u=it(o,i,a);return{colorNotation:e,channels:[Ht(it(l[0],c[0],a),u),Ht(it(l[1],c[1],a),u),Ht(it(l[2],c[2],a),u)],alpha:u,syntaxFlags:new Set([P.ColorMix])}}function lo(e,t,n){if(!n||!n.colors.length)return!1;const r=n.colors.slice();r.reverse();let s=w.HSL;switch(e){case"hsl":s=w.HSL;break;case"hwb":s=w.HWB;break;case"lch":s=w.LCH;break;case"oklch":s=w.OKLCH;break;default:return!1}if(r.length===1){const o=Bt(r[0].color,s);return o.colorNotation=s,o.syntaxFlags.add(P.ColorMixVariadic),typeof o.alpha!="number"?!1:(o.alpha=o.alpha*n.alphaMultiplier,o)}for(;r.length>=2;){const o=r.pop(),i=r.pop();if(!o||!i)return!1;const l=ku(s,t,o.color,o.percentage,i.color,i.percentage);if(!l)return!1;r.push({color:l,percentage:o.percentage+i.percentage})}const a=r[0]?.color;return!!a&&(n.colors.some(o=>o.color.syntaxFlags.has(P.Experimental))&&a.syntaxFlags.add(P.Experimental),typeof a.alpha=="number"&&(a.alpha=a.alpha*n.alphaMultiplier,n.colors.length!==2&&a.syntaxFlags.add(P.ColorMixVariadic),a))}function ku(e,t,n,r,s,a){const o=r/(r+a);let i=0,l=0,c=0,u=0,h=0,p=0,d=n.alpha;if(typeof d!="number")return!1;let f=s.alpha;if(typeof f!="number")return!1;d=Number.isNaN(d)?f:d,f=Number.isNaN(f)?d:f;const v=Bt(n,e).channels,$=Bt(s,e).channels;switch(e){case w.HSL:case w.HWB:i=v[0],l=$[0],c=v[1],u=$[1],h=v[2],p=$[2];break;case w.LCH:case w.OKLCH:c=v[0],u=$[0],h=v[1],p=$[1],i=v[2],l=$[2]}i=Qe(i,l),Number.isNaN(i)&&(i=0),l=Qe(l,i),Number.isNaN(l)&&(l=0),c=Qe(c,u),u=Qe(u,c),h=Qe(h,p),p=Qe(p,h);const b=l-i;switch(t){case"shorter":b>180?i+=360:b<-180&&(l+=360);break;case"longer":-180<b&&b<180&&(b>0?i+=360:l+=360);break;case"increasing":b<0&&(l+=360);break;case"decreasing":b>0&&(i+=360);break;default:throw new Error("Unknown hue interpolation method")}c=gt(c,d),h=gt(h,d),u=gt(u,f),p=gt(p,f);let N=[0,0,0];const E=it(d,f,o);switch(e){case w.HSL:case w.HWB:N=[it(i,l,o),Ht(it(c,u,o),E),Ht(it(h,p,o),E)];break;case w.LCH:case w.OKLCH:N=[Ht(it(c,u,o),E),Ht(it(h,p,o),E),it(i,l,o)]}return{colorNotation:e,channels:N,alpha:E,syntaxFlags:new Set([P.ColorMix])}}function Qe(e,t){return Number.isNaN(e)?t:e}function it(e,t,n){return e*n+t*(1-n)}function gt(e,t){return Number.isNaN(t)?e:Number.isNaN(e)?Number.NaN:e*t}function Ht(e,t){return t===0||Number.isNaN(t)?e:Number.isNaN(e)?Number.NaN:e/t}function Au(e){const t=Z(e[4].value);if(t.match(/[^a-f0-9]/))return!1;const n={colorNotation:w.HEX,channels:[0,0,0],alpha:1,syntaxFlags:new Set([P.Hex])},r=t.length;if(r===3){const s=t[0],a=t[1],o=t[2];return n.channels=[parseInt(s+s,16)/255,parseInt(a+a,16)/255,parseInt(o+o,16)/255],n}if(r===6){const s=t[0]+t[1],a=t[2]+t[3],o=t[4]+t[5];return n.channels=[parseInt(s,16)/255,parseInt(a,16)/255,parseInt(o,16)/255],n}if(r===4){const s=t[0],a=t[1],o=t[2],i=t[3];return n.channels=[parseInt(s+s,16)/255,parseInt(a+a,16)/255,parseInt(o+o,16)/255],n.alpha=parseInt(i+i,16)/255,n.syntaxFlags.add(P.HasAlpha),n}if(r===8){const s=t[0]+t[1],a=t[2]+t[3],o=t[4]+t[5],i=t[6]+t[7];return n.channels=[parseInt(s,16)/255,parseInt(a,16)/255,parseInt(o,16)/255],n.alpha=parseInt(i,16)/255,n.syntaxFlags.add(P.HasAlpha),n}return!1}function qn(e){if(L(e))return e[4].value=e[4].value%360,e[1]=e[4].value.toString(),e;if(J(e)){let t=e[4].value;switch(Z(e[4].unit)){case"deg":break;case"rad":t=180*e[4].value/Math.PI;break;case"grad":t=.9*e[4].value;break;case"turn":t=360*e[4].value;break;default:return!1}return t%=360,[g.Number,t.toString(),e[2],e[3],{value:t,type:F.Number}]}return!1}function Pu(e,t,n){if(t===0){const r=qn(e);return r!==!1&&(J(e)&&n.syntaxFlags.add(P.HasDimensionValues),r)}if(X(e)){t===3?n.syntaxFlags.add(P.HasPercentageAlpha):n.syntaxFlags.add(P.HasPercentageValues);let r=U(e[4].value,1,0,100);return t===3&&(r=U(e[4].value,100,0,1)),[g.Number,r.toString(),e[2],e[3],{value:r,type:F.Number}]}if(L(e)){if(t!==3)return!1;let r=U(e[4].value,1,0,100);return t===3&&(r=U(e[4].value,1,0,1)),[g.Number,r.toString(),e[2],e[3],{value:r,type:F.Number}]}return!1}function Du(e,t,n){if(ne(e)&&Z(e[4].value)==="none")return n.syntaxFlags.add(P.HasNoneKeywords),[g.Number,"none",e[2],e[3],{value:Number.NaN,type:F.Number}];if(t===0){const r=qn(e);return r!==!1&&(J(e)&&n.syntaxFlags.add(P.HasDimensionValues),r)}if(X(e)){t===3?n.syntaxFlags.add(P.HasPercentageAlpha):n.syntaxFlags.add(P.HasPercentageValues);let r=e[4].value;return t===3?r=U(e[4].value,100,0,1):t===1&&(r=U(e[4].value,1,0,2147483647)),[g.Number,r.toString(),e[2],e[3],{value:r,type:F.Number}]}if(L(e)){t!==3&&n.syntaxFlags.add(P.HasNumberValues);let r=e[4].value;return t===3?r=U(e[4].value,1,0,1):t===1&&(r=U(e[4].value,1,0,2147483647)),[g.Number,r.toString(),e[2],e[3],{value:r,type:F.Number}]}return!1}function co(e,t,n,r){const s=[],a=[],o=[],i=[],l={colorNotation:n,channels:[0,0,0],alpha:1,syntaxFlags:new Set(r)};let c=s;for(let f=0;f<e.value.length;f++){let v=e.value[f];if(!He(v)&&!ze(v)){if(O(v)&&tt(v.value)){if(c===s){c=a;continue}if(c===a){c=o;continue}if(c===o){c=i;continue}if(c===i)return!1}if(Be(v)){if(c===i&&v.getName().toLowerCase()==="var"){l.syntaxFlags.add(P.HasVariableAlpha),c.push(v);continue}if(!kn.has(v.getName().toLowerCase()))return!1;const[[$]]=Qt([[v]],{censorIntoStandardRepresentableValues:!0,precision:-1,toCanonicalUnits:!0,rawPercentages:!0});if(!$||!O($)||!re($.value))return!1;Number.isNaN($.value[4].value)&&($.value[4].value=0),v=$}if(!O(v))return!1;c.push(v)}}if(c.length!==1||s.length!==1||a.length!==1||o.length!==1||!O(s[0])||!O(a[0])||!O(o[0]))return!1;const u=t(s[0].value,0,l);if(!u||!L(u))return!1;const h=t(a[0].value,1,l);if(!h||!L(h))return!1;const p=t(o[0].value,2,l);if(!p||!L(p))return!1;const d=[u,h,p];if(i.length===1)if(l.syntaxFlags.add(P.HasAlpha),O(i[0])){const f=t(i[0].value,3,l);if(!f||!L(f))return!1;d.push(f)}else l.alpha=i[0];return l.channels=[d[0][4].value,d[1][4].value,d[2][4].value],d.length===4&&(l.alpha=d[3][4].value),l}function zt(e,t,n,r,s){const a=[],o=[],i=[],l=[];let c,u,h=!1;const p={colorNotation:n,channels:[0,0,0],alpha:1,syntaxFlags:new Set(r)};let d=a;for(let N=0;N<e.value.length;N++){let E=e.value[N];if(He(E)||ze(E))for(;He(e.value[N+1])||ze(e.value[N+1]);)N++;else if(d===a&&a.length&&(d=o),d===o&&o.length&&(d=i),O(E)&&Cn(E.value)&&E.value[4].value==="/"){if(d===l)return!1;d=l}else{if(Be(E)){if(d===l&&E.getName().toLowerCase()==="var"){p.syntaxFlags.add(P.HasVariableAlpha),d.push(E);continue}if(!kn.has(E.getName().toLowerCase()))return!1;const[[y]]=Qt([[E]],{censorIntoStandardRepresentableValues:!0,globals:u,precision:-1,toCanonicalUnits:!0,rawPercentages:!0});if(!y||!O(y)||!re(y.value))return!1;Number.isNaN(y.value[4].value)&&(y.value[4].value=0),E=y}if(d===a&&a.length===0&&O(E)&&ne(E.value)&&E.value[4].value.toLowerCase()==="from"){if(h)return!1;for(;He(e.value[N+1])||ze(e.value[N+1]);)N++;if(N++,E=e.value[N],h=s(E),h===!1)return!1;h.syntaxFlags.has(P.Experimental)&&p.syntaxFlags.add(P.Experimental),p.syntaxFlags.add(P.RelativeColorSyntax),h.colorNotation!==n&&(h=Bt(h,n)),c=Os(h),u=Is(c)}else{if(!O(E))return!1;if(ne(E.value)&&c){const y=E.value[4].value.toLowerCase();if(c.has(y)){d.push(new T(c.get(y)));continue}}d.push(E)}}}if(d.length!==1||a.length!==1||o.length!==1||i.length!==1||!O(a[0])||!O(o[0])||!O(i[0])||c&&!c.has("alpha"))return!1;const f=t(a[0].value,0,p);if(!f||!L(f))return!1;const v=t(o[0].value,1,p);if(!v||!L(v))return!1;const $=t(i[0].value,2,p);if(!$||!L($))return!1;const b=[f,v,$];if(l.length===1)if(p.syntaxFlags.add(P.HasAlpha),O(l[0])){const N=t(l[0].value,3,p);if(!N||!L(N))return!1;b.push(N)}else p.alpha=l[0];else if(c&&c.has("alpha")){const N=t(c.get("alpha"),3,p);if(!N||!L(N))return!1;b.push(N)}return p.channels=[b[0][4].value,b[1][4].value,b[2][4].value],b.length===4&&(p.alpha=b[3][4].value),p}function Mu(e,t){if(e.value.some(n=>O(n)&&tt(n.value))){const n=Bu(e);if(n!==!1)return n}{const n=Ru(e,t);if(n!==!1)return n}return!1}function Bu(e){return co(e,Pu,w.HSL,[P.LegacyHSL])}function Ru(e,t){return zt(e,Du,w.HSL,[],t)}function Ou(e,t,n){if(ne(e)&&Z(e[4].value)==="none")return n.syntaxFlags.add(P.HasNoneKeywords),[g.Number,"none",e[2],e[3],{value:Number.NaN,type:F.Number}];if(t===0){const r=qn(e);return r!==!1&&(J(e)&&n.syntaxFlags.add(P.HasDimensionValues),r)}if(X(e)){t===3?n.syntaxFlags.add(P.HasPercentageAlpha):n.syntaxFlags.add(P.HasPercentageValues);let r=e[4].value;return t===3&&(r=U(e[4].value,100,0,1)),[g.Number,r.toString(),e[2],e[3],{value:r,type:F.Number}]}if(L(e)){t!==3&&n.syntaxFlags.add(P.HasNumberValues);let r=e[4].value;return t===3&&(r=U(e[4].value,1,0,1)),[g.Number,r.toString(),e[2],e[3],{value:r,type:F.Number}]}return!1}function Iu(e,t,n){if(ne(e)&&Z(e[4].value)==="none")return n.syntaxFlags.add(P.HasNoneKeywords),[g.Number,"none",e[2],e[3],{value:Number.NaN,type:F.Number}];if(X(e)){t!==3&&n.syntaxFlags.add(P.HasPercentageValues);let r=U(e[4].value,1,0,100);return t===1||t===2?r=U(e[4].value,.8,-2147483647,2147483647):t===3&&(r=U(e[4].value,100,0,1)),[g.Number,r.toString(),e[2],e[3],{value:r,type:F.Number}]}if(L(e)){t!==3&&n.syntaxFlags.add(P.HasNumberValues);let r=U(e[4].value,1,0,100);return t===1||t===2?r=U(e[4].value,1,-2147483647,2147483647):t===3&&(r=U(e[4].value,1,0,1)),[g.Number,r.toString(),e[2],e[3],{value:r,type:F.Number}]}return!1}function Lu(e,t){return zt(e,Iu,w.Lab,[],t)}function Tu(e,t,n){if(ne(e)&&Z(e[4].value)==="none")return n.syntaxFlags.add(P.HasNoneKeywords),[g.Number,"none",e[2],e[3],{value:Number.NaN,type:F.Number}];if(t===2){const r=qn(e);return r!==!1&&(J(e)&&n.syntaxFlags.add(P.HasDimensionValues),r)}if(X(e)){t!==3&&n.syntaxFlags.add(P.HasPercentageValues);let r=U(e[4].value,1,0,100);return t===1?r=U(e[4].value,100/150,0,2147483647):t===3&&(r=U(e[4].value,100,0,1)),[g.Number,r.toString(),e[2],e[3],{value:r,type:F.Number}]}if(L(e)){t!==3&&n.syntaxFlags.add(P.HasNumberValues);let r=U(e[4].value,1,0,100);return t===1?r=U(e[4].value,1,0,2147483647):t===3&&(r=U(e[4].value,1,0,1)),[g.Number,r.toString(),e[2],e[3],{value:r,type:F.Number}]}return!1}function _u(e,t){return zt(e,Tu,w.LCH,[],t)}const uo=new Map;for(const[e,t]of Object.entries(bu))uo.set(e,t);function Wu(e){const t=uo.get(Z(e));return!!t&&{colorNotation:w.RGB,channels:[t[0]/255,t[1]/255,t[2]/255],alpha:1,syntaxFlags:new Set([P.ColorKeyword,P.NamedColor])}}function Hu(e,t,n){if(ne(e)&&Z(e[4].value)==="none")return n.syntaxFlags.add(P.HasNoneKeywords),[g.Number,"none",e[2],e[3],{value:Number.NaN,type:F.Number}];if(X(e)){t!==3&&n.syntaxFlags.add(P.HasPercentageValues);let r=U(e[4].value,100,0,1);return t===1||t===2?r=U(e[4].value,250,-2147483647,2147483647):t===3&&(r=U(e[4].value,100,0,1)),[g.Number,r.toString(),e[2],e[3],{value:r,type:F.Number}]}if(L(e)){t!==3&&n.syntaxFlags.add(P.HasNumberValues);let r=U(e[4].value,1,0,1);return t===1||t===2?r=U(e[4].value,1,-2147483647,2147483647):t===3&&(r=U(e[4].value,1,0,1)),[g.Number,r.toString(),e[2],e[3],{value:r,type:F.Number}]}return!1}function zu(e,t){return zt(e,Hu,w.OKLab,[],t)}function Uu(e,t,n){if(ne(e)&&Z(e[4].value)==="none")return n.syntaxFlags.add(P.HasNoneKeywords),[g.Number,"none",e[2],e[3],{value:Number.NaN,type:F.Number}];if(t===2){const r=qn(e);return r!==!1&&(J(e)&&n.syntaxFlags.add(P.HasDimensionValues),r)}if(X(e)){t!==3&&n.syntaxFlags.add(P.HasPercentageValues);let r=U(e[4].value,100,0,1);return t===1?r=U(e[4].value,250,0,2147483647):t===3&&(r=U(e[4].value,100,0,1)),[g.Number,r.toString(),e[2],e[3],{value:r,type:F.Number}]}if(L(e)){t!==3&&n.syntaxFlags.add(P.HasNumberValues);let r=U(e[4].value,1,0,1);return t===1?r=U(e[4].value,1,0,2147483647):t===3&&(r=U(e[4].value,1,0,1)),[g.Number,r.toString(),e[2],e[3],{value:r,type:F.Number}]}return!1}function Gu(e,t){return zt(e,Uu,w.OKLCH,[],t)}function Vu(e,t,n){if(X(e)){t===3?n.syntaxFlags.add(P.HasPercentageAlpha):n.syntaxFlags.add(P.HasPercentageValues);const r=U(e[4].value,100,0,1);return[g.Number,r.toString(),e[2],e[3],{value:r,type:F.Number}]}if(L(e)){t!==3&&n.syntaxFlags.add(P.HasNumberValues);let r=U(e[4].value,255,0,1);return t===3&&(r=U(e[4].value,1,0,1)),[g.Number,r.toString(),e[2],e[3],{value:r,type:F.Number}]}return!1}function ju(e,t,n){if(ne(e)&&e[4].value.toLowerCase()==="none")return n.syntaxFlags.add(P.HasNoneKeywords),[g.Number,"none",e[2],e[3],{value:Number.NaN,type:F.Number}];if(X(e)){t!==3&&n.syntaxFlags.add(P.HasPercentageValues);let r=U(e[4].value,100,-2147483647,2147483647);return t===3&&(r=U(e[4].value,100,0,1)),[g.Number,r.toString(),e[2],e[3],{value:r,type:F.Number}]}if(L(e)){t!==3&&n.syntaxFlags.add(P.HasNumberValues);let r=U(e[4].value,255,-2147483647,2147483647);return t===3&&(r=U(e[4].value,1,0,1)),[g.Number,r.toString(),e[2],e[3],{value:r,type:F.Number}]}return!1}function qu(e,t){if(e.value.some(n=>O(n)&&tt(n.value))){const n=Yu(e);if(n!==!1)return(!n.syntaxFlags.has(P.HasNumberValues)||!n.syntaxFlags.has(P.HasPercentageValues))&&n}else{const n=Xu(e,t);if(n!==!1)return n}return!1}function Yu(e){return co(e,Vu,w.RGB,[P.LegacyRGB])}function Xu(e,t){return zt(e,ju,w.RGB,[],t)}function Ku(e){const t=Rs(e);if(mu(t))return no(t);let n=e;return n=to(n),n[0]<1e-6&&(n=[0,0,0]),n[0]>.999999&&(n=[1,0,0]),Gn(gu(n,Zu,Ju))}function Zu(e){return e=Ka(e),e=Es(e),Un(e)}function Ju(e){return e=Vn(e),e=xs(e),Za(e)}function Qu(e,t){let n=!1;for(let o=0;o<e.value.length;o++){const i=e.value[o];if(!He(i)&&!ze(i)&&(n||(n=t(i),!n)))return!1}if(!n)return!1;n.channels=we(n.channels),n.channels=Ku(ao(n).channels),n.colorNotation=w.sRGB;const r={colorNotation:w.sRGB,channels:[0,0,0],alpha:1,syntaxFlags:new Set([P.ContrastColor,P.Experimental])},s=so(n.channels,[1,1,1]),a=so(n.channels,[0,0,0]);return r.channels=s>a?[1,1,1]:[0,0,0],r}function eh(e,t){let n,r,s=!1,a=!1,o=!1;const i={colorNotation:w.sRGB,channels:[0,0,0],alpha:1,syntaxFlags:new Set([])};for(let l=0;l<e.value.length;l++){let c=e.value[l];if(He(c)||ze(c))for(;He(e.value[l+1])||ze(e.value[l+1]);)l++;else if(o&&!s&&!a&&O(c)&&Cn(c.value)&&c.value[4].value==="/")s=!0;else{if(Be(c)&&kn.has(Z(c.getName()))){const[[u]]=Qt([[c]],{censorIntoStandardRepresentableValues:!0,globals:r,precision:-1,toCanonicalUnits:!0,rawPercentages:!0});if(!u||!O(u)||!re(u.value))return!1;Number.isNaN(u.value[4].value)&&(u.value[4].value=0),c=u}if(s||a||!O(c)||!ne(c.value)||Z(c.value[4].value)!=="from"){if(!s||a)return!1;if(O(c)){if(ne(c.value)&&Z(c.value[4].value)==="alpha"&&n&&n.has("alpha")){i.alpha=n.get("alpha")[4].value,a=!0;continue}const u=pn(c.value,3,i);if(!u||!L(u))return!1;i.alpha=new T(u),a=!0;continue}if(Be(c)){const u=na([[c]],h=>{if(O(h)&&ne(h.value)&&Z(h.value[4].value)==="alpha"&&n&&n.has("alpha"))return new T(n.get("alpha"))});i.alpha=u[0][0],a=!0;continue}return!1}if(o)return!1;for(;He(e.value[l+1])||ze(e.value[l+1]);)l++;if(l++,c=e.value[l],o=t(c),o===!1)return!1;n=Os(o),r=Is(n),i.syntaxFlags=new Set(o.syntaxFlags),i.syntaxFlags.add(P.RelativeAlphaSyntax),i.channels=[...o.channels],i.colorNotation=o.colorNotation,i.alpha=o.alpha}}return!!n&&i}function et(e){if(Be(e))switch(Z(e.getName())){case"rgb":case"rgba":return qu(e,et);case"hsl":case"hsla":return Mu(e,et);case"hwb":return t=et,zt(e,Ou,w.HWB,[],t);case"lab":return Lu(e,et);case"lch":return _u(e,et);case"oklab":return zu(e,et);case"oklch":return Gu(e,et);case"color":return yu(e,et);case"color-mix":return Fu(e,et);case"contrast-color":return Qu(e,et);case"alpha":return eh(e,et)}var t;if(O(e)){if($i(e.value))return Au(e.value);if(ne(e.value)){const n=Wu(e.value[4].value);return n!==!1?n:Z(e.value[4].value)==="transparent"&&{colorNotation:w.RGB,channels:[0,0,0],alpha:0,syntaxFlags:new Set([P.ColorKeyword])}}}return!1}const{CloseParen:ho,Comment:fo,Delim:th,Dimension:nh,EOF:po,Function:mo,Ident:rh,Number:sh,OpenParen:go,Percentage:ah,Whitespace:vo}=g,{HasNoneKeywords:Ts}=P,bo="relative-color",oh=8,dn=10,_s=16,ih=100,Ws=255,wo=new RegExp(`^${Mn}(${nn}|${vr})\\s+`),lh=/(?:hsla?|hwb)$/,ch=new RegExp(`^(?:${Na}|${Gl})$`),Hs=/^(?:abs|sig?n|cos|tan)\(/,uh=new RegExp(da),hh=new RegExp(Mn),$o=new RegExp(`^${jl}`),No=new RegExp(`^${Mn}`),fh=new RegExp(Pn);function yo(e,t={}){if(!Array.isArray(e))throw new TypeError(`${e} is not an array.`);const{colorSpace:n="",format:r=""}=t,s=new Map([["color",["r","g","b","alpha"]],["hsl",["h","s","l","alpha"]],["hsla",["h","s","l","alpha"]],["hwb",["h","w","b","alpha"]],["lab",["l","a","b","alpha"]],["lch",["l","c","h","alpha"]],["oklab",["l","a","b","alpha"]],["oklch",["l","c","h","alpha"]],["rgb",["r","g","b","alpha"]],["rgba",["r","g","b","alpha"]]]).get(n);if(!s)return new S;const a=new Set,o=[[],[],[],[]];let i=0,l=0,c="",u=!1;for(;e.length;){const p=e.shift();if(!Array.isArray(p))throw new TypeError(`${p} is not an array.`);const[d,f,,,v]=p,$=o[i];if(Array.isArray($))switch(d){case th:{if(c){if((f==="+"||f==="-")&&u&&!Hs.test(c))return new S;u=!1,$.push(f)}break}case nh:{if(!c||!Hs.test(c))return new S;const b=_o(p,t);x(b)?$.push(b):$.push(f);break}case mo:{$.push(f),c=f,l++,uh.test(f)&&a.add(l);break}case rh:{if(!s.includes(f))return new S;$.push(f),c||i++;break}case sh:{$.push(Number(v?.value)),c||i++;break}case go:{$.push(f),l++;break}case ho:{c&&($[$.length-1]===" "?$.splice(-1,1,f):$.push(f),a.has(l)&&a.delete(l),l--,l===0&&(c="",i++));break}case ah:{if(c){if(!Hs.test(c)){const b=$.toReversed().find(N=>N!==" ");if(b==="+"||b==="-")return new S;b==="*"||b==="/"?u=!1:u=!0}}else return new S;$.push(Number(v?.value)/ih),c||i++;break}case vo:{if($.length&&c){const b=$[$.length-1];(typeof b=="number"||x(b)&&!b.endsWith("(")&&b!==" ")&&$.push(f)}break}default:d!==fo&&d!==po&&c&&$.push(f)}}const h=[];for(const p of o)if(p.length===1){const[d]=p;en(d)&&h.push(d)}else if(p.length){const d=To(p.join(""),{format:r});h.push(d)}return h}function ph(e,t={}){const{colorScheme:n="normal",currentColor:r="",format:s=""}=t;if(x(e)){if(e=e.toLowerCase().trim(),!e)return new S;if(!No.test(e))return e}else return new S;const a=ue({namespace:bo,name:"extractOriginColor",value:e},t),o=ce(a);if(o instanceof te)return o.isNull?o:o.item;if(/currentcolor/.test(e))if(r)e=e.replace(/currentcolor/g,r);else return C(a,null),new S;let i="";if($o.test(e)&&([,i]=e.match($o)),t.colorSpace=i,e.includes(mr)){const l=e.replace(new RegExp(`^${i}\\(`),"").replace(/\)$/,""),[,c=""]=Gt(l),u=me(c,{colorScheme:n,format:j});if(u==="")return C(a,null),new S;if(s===j)e=e.replace(c,u);else{const h=me(u,t);x(h)&&(e=e.replace(c,h))}}if(wo.test(e)){const[,l]=e.match(wo),[,c]=e.split(l);if(/^[a-z]+$/.test(l)){if(!/^transparent$/.test(l)&&!Object.hasOwn(un,l))return C(a,null),new S}else if(s===j){const u=me(l,t);x(u)&&(e=e.replace(l,u))}if(s===j){const u=Nt({css:c}),h=yo(u,t);if(h instanceof S)return C(a,null),h;const[p,d,f,v]=h;let $="";en(v)?$=` ${p} ${d} ${f} / ${v})`:$=` ${h.join(" ")})`,c!==$&&(e=e.replace(c,$))}}else{const[,l]=e.split(No),c=Nt({css:l}),u=[];let h=0;for(;c.length;){const[E,y]=c.shift();switch(E){case mo:case go:{u.push(y),h++;break}case ho:{const _=u[u.length-1];_===" "?u.splice(-1,1,y):x(_)&&u.push(y),h--;break}case vo:{const _=u[u.length-1];x(_)&&!_.endsWith("(")&&_!==" "&&u.push(y);break}default:E!==fo&&E!==po&&u.push(y)}if(h===0)break}const p=zs(u.join("").trim(),t);if(p instanceof S)return C(a,null),p;const d=yo(c,t);if(d instanceof S)return C(a,null),d;const[f,v,$,b]=d;let N="";en(b)?N=` ${f} ${v} ${$} / ${b})`:N=` ${d.join(" ")})`,e=e.replace(l,`${p}${N}`)}return C(a,e),e}function zs(e,t={}){const{format:n=""}=t;if(x(e)){if(fh.test(e)){if(n===j)return e;throw new SyntaxError(`Unexpected token ${Zr} found.`)}else if(!hh.test(e))return e;e=e.toLowerCase().trim()}else throw new TypeError(`${e} is not a string.`);const r=ue({namespace:bo,name:"resolveRelativeColor",value:e},t),s=ce(r);if(s instanceof te)return s.isNull?s:s.item;const a=ph(e,t);if(a instanceof S)return C(r,null),a;if(e=a,n===j)return e.startsWith("rgba(")?e=e.replace(/^rgba\(/,"rgb("):e.startsWith("hsla(")&&(e=e.replace(/^hsla\(/,"hsl(")),e;const o=Nt({css:e}),i=Si(o),l=et(i);if(!l)return C(r,null),new S;const{alpha:c,channels:u,colorNotation:h,syntaxFlags:p}=l;let d;Number.isNaN(Number(c))?p instanceof Set&&p.has(Ts)?d=m:d=0:d=M(Number(c),oh);let f,v,$;[f,v,$]=u;let b;if(ch.test(h)){const N=p instanceof Set&&p.has(Ts);Number.isNaN(f)?N?f=m:f=0:f=M(f,_s),Number.isNaN(v)?N?v=m:v=0:v=M(v,_s),Number.isNaN($)?N?$=m:$=0:$=M($,_s),d===1?b=`${h}(${f} ${v} ${$})`:b=`${h}(${f} ${v} ${$} / ${d})`}else if(lh.test(h)){Number.isNaN(f)&&(f=0),Number.isNaN(v)&&(v=0),Number.isNaN($)&&($=0);let[N,E,y]=Hn(`${h}(${f} ${v} ${$} / ${d})`);N=M(N/Ws,dn),E=M(E/Ws,dn),y=M(y/Ws,dn),d===1?b=`color(srgb ${N} ${E} ${y})`:b=`color(srgb ${N} ${E} ${y} / ${d})`}else{const N=h==="rgb"?"srgb":h,E=p instanceof Set&&p.has(Ts);Number.isNaN(f)?E?f=m:f=0:f=M(f,dn),Number.isNaN(v)?E?v=m:v=0:v=M(v,dn),Number.isNaN($)?E?$=m:$=0:$=M($,dn),d===1?b=`color(${N} ${f} ${v} ${$})`:b=`color(${N} ${f} ${v} ${$} / ${d})`}return C(r,b),b}const dh="resolve",Ut="rgba(0, 0, 0, 0)",mh=new RegExp(fr),Eo=new RegExp(ql),gh=new RegExp(Ca),vh=new RegExp(Pn),me=(e,t={})=>{if(x(e))e=e.trim();else throw new TypeError(`${e} is not a string.`);const{colorScheme:n="normal",currentColor:r="",format:s=Q,nullable:a=!1}=t,o=ue({namespace:dh,name:"resolve",value:e},t),i=ce(o);if(i instanceof te)return i.isNull?i:i.item;if(vh.test(e)){if(s===j)return C(o,e),e;const f=zn(e,t);if(f instanceof S)switch(s){case"hex":case"hexAlpha":return C(o,f),f;default:{if(a)return C(o,f),f;const v=Ut;return C(o,v),v}}else e=f}if(t.format!==s&&(t.format=s),e=e.toLowerCase(),Eo.test(e)&&e.endsWith(")")){const f=e.replace(Eo,"").replace(/\)$/,""),[v="",$=""]=Gt(f,{delimiter:","});if(v&&$){if(s===j){const E=me(v,t),y=me($,t);let _;return E&&y?_=`light-dark(${E}, ${y})`:_="",C(o,_),_}let b;n==="dark"?b=me($,t):b=me(v,t);let N;return b instanceof S?a?N=b:N=Ut:N=b,C(o,N),N}switch(s){case j:return C(o,""),"";case"hex":case"hexAlpha":return C(o,null),new S;case Q:default:{const b=Ut;return C(o,b),b}}}if(gh.test(e)){const f=zs(e,t);if(s===Q){let v;return f instanceof S?a?v=f:v=Ut:v=f,C(o,v),v}if(s===j){let v="";return f instanceof S?v="":v=f,C(o,v),v}f instanceof S?e="":e=f}mh.test(e)&&(e=Xn(e,t));let l="",c=NaN,u=NaN,h=NaN,p=NaN;if(e==="transparent")switch(s){case j:return C(o,e),e;case"hex":return C(o,null),new S;case"hexAlpha":{const f="#00000000";return C(o,f),f}case Q:default:{const f=Ut;return C(o,f),f}}else if(e==="currentcolor"){if(s===j)return C(o,e),e;if(r){let f;if(r.startsWith(Mt)?f=Fr(r,t):r.startsWith(se)?f=xt(r,t):f=Wt(r,t),f instanceof S)return C(o,f),f;[l,c,u,h,p]=f}else if(s===Q){const f=Ut;return C(o,f),f}}else if(s===j)if(e.startsWith(Mt)){const f=Fr(e,t);return C(o,f),f}else if(e.startsWith(se)){const[f,v,$,b,N]=xt(e,t);let E="";return N===1?E=`color(${f} ${v} ${$} ${b})`:E=`color(${f} ${v} ${$} ${b} / ${N})`,C(o,E),E}else{const f=Wt(e,t);if(x(f))return C(o,f),f;const[v,$,b,N,E]=f;let y="";return v==="rgb"?E===1?y=`${v}(${$}, ${b}, ${N})`:y=`${v}a(${$}, ${b}, ${N}, ${E})`:E===1?y=`${v}(${$} ${b} ${N})`:y=`${v}(${$} ${b} ${N} / ${E})`,C(o,y),y}else if(e.startsWith(Mt)){/currentcolor/.test(e)&&r&&(e=e.replace(/currentcolor/g,r)),/transparent/.test(e)&&(e=e.replace(/transparent/g,Ut));const f=Fr(e,t);if(f instanceof S)return C(o,f),f;[l,c,u,h,p]=f}else if(e.startsWith(se)){const f=xt(e,t);if(f instanceof S)return C(o,f),f;[l,c,u,h,p]=f}else if(e){const f=Wt(e,t);if(f instanceof S)return C(o,f),f;[l,c,u,h,p]=f}let d="";switch(s){case"hex":{if(Number.isNaN(c)||Number.isNaN(u)||Number.isNaN(h)||Number.isNaN(p)||p===0)return C(o,null),new S;d=Ha([c,u,h,1]);break}case"hexAlpha":{if(Number.isNaN(c)||Number.isNaN(u)||Number.isNaN(h)||Number.isNaN(p))return C(o,null),new S;d=Ha([c,u,h,p]);break}case Q:default:switch(l){case"rgb":{p===1?d=`${l}(${c}, ${u}, ${h})`:d=`${l}a(${c}, ${u}, ${h}, ${p})`;break}case"lab":case"lch":case"oklab":case"oklch":{p===1?d=`${l}(${c} ${u} ${h})`:d=`${l}(${c} ${u} ${h} / ${p})`;break}default:p===1?d=`color(${l} ${c} ${u} ${h})`:d=`color(${l} ${c} ${u} ${h} / ${p})`}}return C(o,d),d},bh=(e,t={})=>{t.nullable=!1;const n=me(e,t);return n instanceof S?null:n},{CloseParen:wh,Comma:$h,Comment:Nh,Delim:yh,EOF:Eh,Function:Ch,Ident:xh,OpenParen:Fh,Whitespace:Sh}=g,Co="util",kh=10,Ar=16,mn=360,Pr=180,Ah=new RegExp(`^(?:${nn})$`),Ph=/^(?:(?:ok)?l(?:ab|ch)|color(?:-mix)?|hsla?|hwb|rgba?|var)\(/,Dh=new RegExp(vr),Gt=(e,t={})=>{if(x(e))e=e.trim();else throw new TypeError(`${e} is not a string.`);const{delimiter:n=" ",preserveComment:r=!1}=t,s=ue({namespace:Co,name:"splitValue",value:e},{delimiter:n,preserveComment:r}),a=ce(s);if(a instanceof te)return a.item;let o;n===","?o=/^,$/:n==="/"?o=/^\/$/:o=/^\s+$/;const i=Nt({css:e});let l=0,c="";const u=[];for(;i.length;){const[h,p]=i.shift();switch(h){case $h:{o.test(p)&&l===0?(u.push(c.trim()),c=""):c+=p;break}case yh:{o.test(p)&&l===0?(u.push(c.trim()),c=""):c+=p;break}case Nh:{r&&(n===","||n==="/")&&(c+=p);break}case Ch:case Fh:{c+=p,l++;break}case wh:{c+=p,l--;break}case Sh:{o.test(p)?l===0?c&&(u.push(c.trim()),c=""):c+=" ":c.endsWith(" ")||(c+=" ");break}default:h===Eh?(u.push(c.trim()),c=""):c+=p}}return C(s,u),u},Mh=e=>{if(x(e))e=e.trim();else throw new TypeError(`${e} is not a string.`);const t=ue({namespace:Co,name:"extractDashedIdent",value:e}),n=ce(t);if(n instanceof te)return n.item;const r=Nt({css:e}),s=new Set;for(;r.length;){const[o,i]=r.shift();o===xh&&i.startsWith("--")&&s.add(i)}const a=[...s];return C(t,a),a},Rt=(e,t={})=>{if(x(e)&&(e=e.toLowerCase().trim(),e&&x(e))){if(/^[a-z]+$/.test(e)){if(/^(?:currentcolor|transparent)$/.test(e)||Object.hasOwn(un,e))return!0}else if(Ah.test(e)||Dh.test(e)||Ph.test(e)&&(t.nullable=!0,t.format||(t.format=j),me(e,t)))return!0}return!1},xo=(e,t=!1)=>typeof e>"u"?"":JSON.stringify(e,(n,r)=>{let s;return typeof r>"u"?s=null:typeof r=="function"?t?s=r.toString().replace(/\s/g,"").substring(0,Ar):s=r.name:r instanceof Map||r instanceof Set?s=[...r]:typeof r=="bigint"?s=r.toString():s=r,s}),M=(e,t=0)=>{if(!Number.isFinite(e))throw new TypeError(`${e} is not a finite number.`);if(Number.isFinite(t)){if(t<0||t>Ar)throw new RangeError(`${t} is not between 0 and ${Ar}.`)}else throw new TypeError(`${t} is not a finite number.`);if(t===0)return Math.round(e);let n;return t===Ar?n=e.toPrecision(6):t<kh?n=e.toPrecision(4):n=e.toPrecision(5),parseFloat(n)},Fo=(e,t,n="shorter")=>{if(!Number.isFinite(e))throw new TypeError(`${e} is not a finite number.`);if(!Number.isFinite(t))throw new TypeError(`${t} is not a finite number.`);switch(n){case"decreasing":{t>e&&(e+=mn);break}case"increasing":{t<e&&(t+=mn);break}case"longer":{t>e&&t<e+Pr?e+=mn:t>e+Pr*-1&&t<=e&&(t+=mn);break}default:t>e+Pr?e+=mn:t<e+Pr*-1&&(t+=mn)}return[e,t]},So=new Map([["xx-small",3/5],["x-small",3/4],["small",8/9],["medium",1],["large",6/5],["x-large",3/2],["xx-large",2],["xxx-large",3]]),ko=new Map([["smaller",1/1.2],["larger",1.2]]),Ao=new Map([["cm",96/2.54],["mm",96/2.54/10],["q",96/2.54/40],["in",96],["pc",96/6],["pt",96/72],["px",1]]),Dr=new Map([["rcap",1],["rch",.5],["rem",1],["rex",.5],["ric",1],["rlh",1.2]]),Po=(e,t,n={})=>{const{dimension:r={}}=n,{callback:s,em:a,rem:o,vh:i,vw:l}=r;if(x(e))return e=e.toLowerCase().trim(),So.has(e)?Number(So.get(e))*o:ko.has(e)?Number(ko.get(e))*a:Number.NaN;if(Number.isFinite(e)&&t){if(Object.hasOwn(r,t))return e*Number(r[t]);if(typeof s=="function")return e*s(t);if(Ao.has(t))return e*Number(Ao.get(t));if(Dr.has(t))return e*Number(Dr.get(t))*o;if(Dr.has(`r${t}`))return e*Number(Dr.get(`r${t}`))*a;switch(t){case"vb":case"vi":return e*l;case"vmax":return i>l?e*i:e*l;case"vmin":return i<l?e*i:e*l;default:return Number.NaN}}return Number.NaN},Bh=4096;class te{#s;#l;constructor(t,n=!1){this.#l=t,this.#s=!!n}get item(){return this.#l}get isNull(){return this.#s}}class S extends te{constructor(){super(Symbol("null"),!0)}}const gn=new Vs({max:Bh}),C=(e,t)=>{e&&(t===null?gn.set(e,new S):t instanceof te?gn.set(e,t):gn.set(e,new te(t)))},ce=e=>{if(e&&gn.has(e)){const t=gn.get(e);return t instanceof te?t:(gn.delete(e),!1)}return!1},ue=(e,t={})=>{const{customProperty:n={},dimension:r={}}=t;let s="";return e&&Object.keys(e).length&&typeof n.callback!="function"&&typeof r.callback!="function"&&(e.opt=xo(t),s=xo(e)),s},{CloseParen:Rh,Comment:Do,Dimension:Oh,EOF:Ih,Function:Lh,OpenParen:Th,Whitespace:Mo}=g,Bo="css-calc",_h=3,Yn=16,Ro=100,Wh=new RegExp(fr),Oo=new RegExp(`^calc\\((${Ae})\\)$`),Hh=new RegExp(da),zh=new RegExp(Pn),Mr=new RegExp(Wl),Io=/\s[*+/-]\s/,Br=new RegExp(`^(${Ae})(${tn}|${An})$`),vn=new RegExp(`^(${Ae})(${tn}|${An}|%)$`),Ot=new RegExp(`^(${Ae})%$`);class Uh{#s;#l;#d;#g;#m;#y;#v;#p;#a;#c;#n;#t;#e;#o;#u;#i;constructor(){this.#s=!1,this.#l=[],this.#d=[],this.#g=!1,this.#m=[],this.#y=[],this.#v=!1,this.#p=[],this.#a=[],this.#c=[],this.#n=[],this.#t=!1,this.#e=[],this.#o=[],this.#u=[],this.#i=[]}get hasNum(){return this.#s}set hasNum(t){this.#s=!!t}get numSum(){return this.#l}get numMul(){return this.#d}get hasPct(){return this.#g}set hasPct(t){this.#g=!!t}get pctSum(){return this.#m}get pctMul(){return this.#y}get hasDim(){return this.#v}set hasDim(t){this.#v=!!t}get dimSum(){return this.#p}get dimSub(){return this.#a}get dimMul(){return this.#c}get dimDiv(){return this.#n}get hasEtc(){return this.#t}set hasEtc(t){this.#t=!!t}get etcSum(){return this.#e}get etcSub(){return this.#o}get etcMul(){return this.#u}get etcDiv(){return this.#i}clear(){this.#s=!1,this.#l=[],this.#d=[],this.#g=!1,this.#m=[],this.#y=[],this.#v=!1,this.#p=[],this.#a=[],this.#c=[],this.#n=[],this.#t=!1,this.#e=[],this.#o=[],this.#u=[],this.#i=[]}sort(t=[]){const n=[...t];return n.length>1&&n.sort((r,s)=>{let a;if(vn.test(r)&&vn.test(s)){const[,o,i]=r.match(vn),[,l,c]=s.match(vn);i===c?Number(o)===Number(l)?a=0:Number(o)>Number(l)?a=1:a=-1:i>c?a=1:a=-1}else r===s?a=0:r>s?a=1:a=-1;return a}),n}multiply(){const t=[];let n;if(this.#s){n=1;for(const r of this.#d)if(n*=r,n===0||!Number.isFinite(n)||Number.isNaN(n))break;!this.#g&&!this.#v&&!this.hasEtc&&(Number.isFinite(n)&&(n=M(n,Yn)),t.push(n))}if(this.#g){typeof n!="number"&&(n=1);for(const r of this.#y)if(n*=r,n===0||!Number.isFinite(n)||Number.isNaN(n))break;Number.isFinite(n)&&(n=`${M(n,Yn)}%`),!this.#v&&!this.hasEtc&&t.push(n)}if(this.#v){let r="",s="",a="";this.#c.length&&(this.#c.length===1?[s]=this.#c:s=`${this.sort(this.#c).join(" * ")}`),this.#n.length&&(this.#n.length===1?[a]=this.#n:a=`${this.sort(this.#n).join(" * ")}`),Number.isFinite(n)?(s?a?a.includes("*")?r=ke(`calc(${n} * ${s} / (${a}))`,{toCanonicalUnits:!0}):r=ke(`calc(${n} * ${s} / ${a})`,{toCanonicalUnits:!0}):r=ke(`calc(${n} * ${s})`,{toCanonicalUnits:!0}):a.includes("*")?r=ke(`calc(${n} / (${a}))`,{toCanonicalUnits:!0}):r=ke(`calc(${n} / ${a})`,{toCanonicalUnits:!0}),t.push(r.replace(/^calc/,""))):(!t.length&&n!==void 0&&t.push(n),s?(a?a.includes("*")?r=ke(`calc(${s} / (${a}))`,{toCanonicalUnits:!0}):r=ke(`calc(${s} / ${a})`,{toCanonicalUnits:!0}):r=ke(`calc(${s})`,{toCanonicalUnits:!0}),t.length?t.push("*",r.replace(/^calc/,"")):t.push(r.replace(/^calc/,""))):(r=ke(`calc(${a})`,{toCanonicalUnits:!0}),t.length?t.push("/",r.replace(/^calc/,"")):t.push("1","/",r.replace(/^calc/,""))))}if(this.#t){if(this.#u.length){!t.length&&n!==void 0&&t.push(n);const r=this.sort(this.#u).join(" * ");t.length?t.push(`* ${r}`):t.push(`${r}`)}if(this.#i.length){const r=this.sort(this.#i).join(" * ");r.includes("*")?t.length?t.push(`/ (${r})`):t.push(`1 / (${r})`):t.length?t.push(`/ ${r}`):t.push(`1 / ${r}`)}}return t.length?t.join(" "):""}sum(){const t=[];if(this.#s){let n=0;for(const r of this.#l)if(n+=r,!Number.isFinite(n)||Number.isNaN(n))break;t.push(n)}if(this.#g){let n=0;for(const r of this.#m)if(n+=r,!Number.isFinite(n))break;Number.isFinite(n)&&(n=`${n}%`),t.length?t.push(`+ ${n}`):t.push(n)}if(this.#v){let n,r,s;this.#p.length&&(r=this.sort(this.#p).join(" + ")),this.#a.length&&(s=this.sort(this.#a).join(" + ")),r?s?s.includes("-")?n=ke(`calc(${r} - (${s}))`,{toCanonicalUnits:!0}):n=ke(`calc(${r} - ${s})`,{toCanonicalUnits:!0}):n=ke(`calc(${r})`,{toCanonicalUnits:!0}):n=ke(`calc(-1 * (${s}))`,{toCanonicalUnits:!0}),t.length?t.push("+",n.replace(/^calc/,"")):t.push(n.replace(/^calc/,""))}if(this.#t){if(this.#e.length){const n=this.sort(this.#e).map(r=>{let s;return Io.test(r)&&!r.startsWith("(")&&!r.endsWith(")")?s=`(${r})`:s=r,s}).join(" + ");t.length?this.#e.length>1?t.push(`+ (${n})`):t.push(`+ ${n}`):t.push(`${n}`)}if(this.#o.length){const n=this.sort(this.#o).map(r=>{let s;return Io.test(r)&&!r.startsWith("(")&&!r.endsWith(")")?s=`(${r})`:s=r,s}).join(" + ");t.length?this.#o.length>1?t.push(`- (${n})`):t.push(`- ${n}`):this.#o.length>1?t.push(`-1 * (${n})`):t.push(`-1 * ${n}`)}}return t.length?t.join(" "):""}}const Lo=(e=[],t=!1)=>{if(e.length<_h)throw new Error(`Unexpected array length ${e.length}.`);const n=e.shift();if(!x(n)||!n.endsWith("("))throw new Error(`Unexpected token ${n}.`);const r=e.pop();if(r!==")")throw new Error(`Unexpected token ${r}.`);if(e.length===1){const[c]=e;if(!en(c))throw new Error(`Unexpected token ${c}.`);return`${n}${c}${r}`}const s=[],a=new Uh;let o="";const i=e.length;for(let c=0;c<i;c++){const u=e[c];if(!en(u))throw new Error(`Unexpected token ${u}.`);if(u==="*"||u==="/")o=u;else if(u==="+"||u==="-"){const h=a.multiply();h&&s.push(h,u),a.clear(),o=""}else{const h=Number(u),p=`${u}`;switch(o){case"/":{if(Number.isFinite(h))a.hasNum=!0,a.numMul.push(1/h);else if(Ot.test(p)){const[,d]=p.match(Ot);a.hasPct=!0,a.pctMul.push(Ro*Ro/Number(d))}else Br.test(p)?(a.hasDim=!0,a.dimDiv.push(p)):(a.hasEtc=!0,a.etcDiv.push(p));break}default:if(Number.isFinite(h))a.hasNum=!0,a.numMul.push(h);else if(Ot.test(p)){const[,d]=p.match(Ot);a.hasPct=!0,a.pctMul.push(Number(d))}else Br.test(p)?(a.hasDim=!0,a.dimMul.push(p)):(a.hasEtc=!0,a.etcMul.push(p))}}if(c===i-1){const h=a.multiply();h&&s.push(h),a.clear(),o=""}}let l="";if(t&&(s.includes("+")||s.includes("-"))){const c=[];a.clear(),o="";const u=s.length;for(let h=0;h<u;h++){const p=s[h];if(en(p))if(p==="+"||p==="-")o=p;else{const d=Number(p),f=`${p}`;switch(o){case"-":{if(Number.isFinite(d))a.hasNum=!0,a.numSum.push(-1*d);else if(Ot.test(f)){const[,v]=f.match(Ot);a.hasPct=!0,a.pctSum.push(-1*Number(v))}else Br.test(f)?(a.hasDim=!0,a.dimSub.push(f)):(a.hasEtc=!0,a.etcSub.push(f));break}default:if(Number.isFinite(d))a.hasNum=!0,a.numSum.push(d);else if(Ot.test(f)){const[,v]=f.match(Ot);a.hasPct=!0,a.pctSum.push(Number(v))}else Br.test(f)?(a.hasDim=!0,a.dimSum.push(f)):(a.hasEtc=!0,a.etcSum.push(f))}}if(h===u-1){const d=a.sum();d&&c.push(d),a.clear(),o=""}}l=c.join(" ").replace(/\+\s-/g,"- ")}else l=s.join(" ").replace(/\+\s-/g,"- ");return l.startsWith("(")&&l.endsWith(")")&&l.lastIndexOf("(")===0&&l.indexOf(")")===l.length-1&&(l=l.replace(/^\(/,"").replace(/\)$/,"")),`${n}${l}${r}`},To=(e,t={})=>{const{format:n=""}=t;if(x(e)){if(!Mr.test(e)||n!==j)return e;e=e.toLowerCase().trim()}else throw new TypeError(`${e} is not a string.`);const r=ue({namespace:Bo,name:"serializeCalc",value:e},t),s=ce(r);if(s instanceof te)return s.item;const a=Nt({css:e}).map(l=>{const[c,u]=l;let h="";return c!==Mo&&c!==Do&&(h=u),h}).filter(l=>l);let o=a.findLastIndex(l=>/\($/.test(l));for(;o;){const l=a.findIndex((h,p)=>h===")"&&p>o),c=a.slice(o,l+1);let u=Lo(c);Mr.test(u)&&(u=ke(u,{toCanonicalUnits:!0})),a.splice(o,l-o+1,u),o=a.findLastIndex(h=>/\($/.test(h))}const i=Lo(a,!0);return C(r,i),i},_o=(e,t={})=>{if(!Array.isArray(e))throw new TypeError(`${e} is not an array.`);const[,,,,n={}]=e,{unit:r,value:s}=n;if(r==="px")return`${s}${r}`;const a=Po(Number(s),r,t);return Number.isFinite(a)?`${M(a,Yn)}px`:new S},Gh=(e,t={})=>{if(!Array.isArray(e))throw new TypeError(`${e} is not an array.`);const{format:n=""}=t,r=new Set;let s=0;const a=[];for(;e.length;){const o=e.shift();if(!Array.isArray(o))throw new TypeError(`${o} is not an array.`);const[i="",l=""]=o;switch(i){case Oh:{if(n===j&&!r.has(s))a.push(l);else{const c=_o(o,t);x(c)?a.push(c):a.push(l)}break}case Lh:case Th:{a.push(l),s++,Hh.test(l)&&r.add(s);break}case Rh:{a.length&&a[a.length-1]===" "?a.splice(-1,1,l):a.push(l),r.has(s)&&r.delete(s),s--;break}case Mo:{if(a.length){const c=a[a.length-1];x(c)&&!c.endsWith("(")&&c!==" "&&a.push(l)}break}default:i!==Do&&i!==Ih&&a.push(l)}}return a},Xn=(e,t={})=>{const{format:n=""}=t;if(x(e)){if(zh.test(e)){if(n===j)return e;{const l=zn(e,t);return x(l)?l:""}}else if(!Wh.test(e))return e;e=e.toLowerCase().trim()}else throw new TypeError(`${e} is not a string.`);const r=ue({namespace:Bo,name:"cssCalc",value:e},t),s=ce(r);if(s instanceof te)return s.item;const a=Nt({css:e}),o=Gh(a,t);let i=ke(o.join(""),{toCanonicalUnits:!0});if(Mr.test(e)){if(vn.test(i)){const[,l,c]=i.match(vn);i=`${M(Number(l),Yn)}${c}`}i&&!Mr.test(i)&&n===j&&(i=`calc(${i})`)}if(n===j){if(/\s[-+*/]\s/.test(i)&&!i.includes("NaN"))i=To(i,t);else if(Oo.test(i)){const[,l]=i.match(Oo);i=`calc(${M(Number(l),Yn)})`}}return C(r,i),i},Vh="css-gradient",Rr=`${Ae}(?:${tn})`,Wo=`${Rr}|${Pe}`,jh=`${Ae}(?:${An})|0`,De=`${jh}|${Pe}`,Ho=`${pa}(?:${An}|%)|0`,qh=`${pa}(?:${An})|0`,Ve="center",Us="left|right",Gs="top|bottom",It="start|end",bn=`${Us}|x-(?:${It})`,wn=`${Gs}|y-(?:${It})`,Kn=`block-(?:${It})`,Zn=`inline-(?:${It})`,Yh=`${Ve}|${bn}|${wn}|${Kn}|${Zn}|${De}`,Xh=[`(?:${Ve}|${bn})\\s+(?:${Ve}|${wn})`,`(?:${Ve}|${wn})\\s+(?:${Ve}|${bn})`,`(?:${Ve}|${bn}|${De})\\s+(?:${Ve}|${wn}|${De})`,`(?:${Ve}|${Kn})\\s+(?:${Ve}|${Zn})`,`(?:${Ve}|${Zn})\\s+(?:${Ve}|${Kn})`,`(?:${Ve}|${It})\\s+(?:${Ve}|${It})`].join("|"),Kh=[`(?:${bn})\\s+(?:${De})\\s+(?:${wn})\\s+(?:${De})`,`(?:${wn})\\s+(?:${De})\\s+(?:${bn})\\s+(?:${De})`,`(?:${Kn})\\s+(?:${De})\\s+(?:${Zn})\\s+(?:${De})`,`(?:${Zn})\\s+(?:${De})\\s+(?:${Kn})\\s+(?:${De})`,`(?:${It})\\s+(?:${De})\\s+(?:${It})\\s+(?:${De})`].join("|"),zo="(?:clos|farth)est-(?:corner|side)",Or=[`${zo}(?:\\s+${zo})?`,`${qh}`,`(?:${Ho})\\s+(?:${Ho})`].join("|"),Ir="circle|ellipse",Uo=`from\\s+${Rr}`,Ft=`at\\s+(?:${Yh}|${Xh}|${Kh})`,Go=`to\\s+(?:(?:${Us})(?:\\s(?:${Gs}))?|(?:${Gs})(?:\\s(?:${Us}))?)`,lt=`in\\s+(?:${ya}|${$a})`,Vo=/^(?:repeating-)?(?:conic|linear|radial)-gradient\(/,Zh=/^((?:repeating-)?(?:conic|linear|radial)-gradient)\(/,Jh=e=>{if(x(e)&&(e=e.trim(),Vo.test(e))){const[,t]=e.match(Zh);return t}return""},Qh=(e,t)=>{if(x(e)&&x(t)){e=e.trim(),t=t.trim();let n="";const r=[];if(/^(?:repeating-)?linear-gradient$/.test(t)?(n=[`(?:${Rr}|${Go})(?:\\s+${lt})?`,`${lt}(?:\\s+(?:${Rr}|${Go}))?`].join("|"),r.push(/to\s+bottom/)):/^(?:repeating-)?radial-gradient$/.test(t)?(n=[`(?:${Ir})(?:\\s+(?:${Or}))?(?:\\s+${Ft})?(?:\\s+${lt})?`,`(?:${Or})(?:\\s+(?:${Ir}))?(?:\\s+${Ft})?(?:\\s+${lt})?`,`${Ft}(?:\\s+${lt})?`,`${lt}(?:\\s+${Ir})(?:\\s+(?:${Or}))?(?:\\s+${Ft})?`,`${lt}(?:\\s+${Or})(?:\\s+(?:${Ir}))?(?:\\s+${Ft})?`,`${lt}(?:\\s+${Ft})?`].join("|"),r.push(/ellipse/,/farthest-corner/,/at\s+center/)):/^(?:repeating-)?conic-gradient$/.test(t)&&(n=[`${Uo}(?:\\s+${Ft})?(?:\\s+${lt})?`,`${Ft}(?:\\s+${lt})?`,`${lt}(?:\\s+${Uo})?(?:\\s+${Ft})?`].join("|"),r.push(/at\s+center/)),n){const s=new RegExp(`^(?:${n})$`).test(e);if(s){let a=e;for(const o of r)a=a.replace(o,"");return a=a.replace(/\s{2,}/g," ").trim(),{line:a,valid:s}}return{valid:s,line:e}}}return{line:e,valid:!1}},jo=(e,t,n={})=>{if(Array.isArray(e)&&e.length>1){const r=/^(?:repeating-)?conic-gradient$/.test(t)?Wo:De,s=new RegExp(`^(?:${r})$`),a=new RegExp(`(?:\\s+(?:${r})){1,2}$`),o=[],i=[];for(const l of e)if(x(l))if(s.test(l))o.push("hint"),i.push(l);else{const c=l.replace(a,"");if(Rt(c,{format:j})){const u=me(c,n);o.push("color"),i.push(l.replace(c,u))}else return{colorStops:e,valid:!1}}return{valid:/^color(?:,(?:hint,)?color)+$/.test(o.join(",")),colorStops:i}}return{colorStops:e,valid:!1}},qo=(e,t={})=>{if(x(e)){e=e.trim();const n=ue({namespace:Vh,name:"parseGradient",value:e},t),r=ce(n);if(r instanceof te)return r.isNull?null:r.item;const s=Jh(e),a=e.replace(Vo,"").replace(/\)$/,"");if(s&&a){const[o="",...i]=Gt(a,{delimiter:","}),l=/^(?:repeating-)?conic-gradient$/.test(s)?Wo:De,c=new RegExp(`(?:\\s+(?:${l})){1,2}$`);let u="";if(c.test(o)){const h=o.replace(c,"");if(Rt(h,{format:j})){const p=me(h,t);u=o.replace(h,p)}}else Rt(o,{format:j})&&(u=me(o,t));if(u){i.unshift(u);const{colorStops:h,valid:p}=jo(i,s,t);if(p){const d={value:e,type:s,colorStopList:h};return C(n,d),d}}else if(i.length>1){const{line:h,valid:p}=Qh(o,s),{colorStops:d,valid:f}=jo(i,s,t);if(p&&f){const v={value:e,type:s,gradientLine:h,colorStopList:d};return C(n,v),v}}}return C(n,null),null}return null},e0=(e,t={})=>{const{format:n=Q}=t,r=qo(e,t);if(r){const{type:s="",gradientLine:a="",colorStopList:o=[]}=r;if(s&&Array.isArray(o)&&o.length>1)return a?`${s}(${a}, ${o.join(", ")})`:`${s}(${o.join(", ")})`}return n===j?"":"none"},t0=(e,t={})=>qo(e,t)!==null,vt="convert",n0=new RegExp(fr),r0=new RegExp(Ca),s0=new RegExp(Pn),St=(e,t={})=>{if(x(e)){if(e=e.trim(),!e)return new S}else return new S;const n=ue({namespace:vt,name:"preProcess",value:e},t),r=ce(n);if(r instanceof te)return r.isNull?r:r.item;if(s0.test(e)){const s=zn(e,t);if(x(s))e=s;else return C(n,null),new S}if(r0.test(e)){const s=zs(e,t);if(x(s))e=s;else return C(n,null),new S}else n0.test(e)&&(e=Xn(e,t));if(e.startsWith("color-mix")){const s=structuredClone(t);s.format=Q,s.nullable=!0;const a=me(e,s);return C(n,a),a}return C(n,e),e},a0=e=>_n(e),o0=(e,t={})=>{if(x(e)){const o=St(e,t);if(o instanceof S)return null;e=o.toLowerCase()}else throw new TypeError(`${e} is not a string.`);const{alpha:n=!1}=t,r=ue({namespace:vt,name:"colorToHex",value:e},t),s=ce(r);if(s instanceof te)return s.isNull?null:s.item;let a;return t.nullable=!0,n?(t.format="hexAlpha",a=me(e,t)):(t.format="hex",a=me(e,t)),x(a)?(C(r,a),a):(C(r,null),null)},i0=(e,t={})=>{if(x(e)){const a=St(e,t);if(a instanceof S)return[0,0,0,0];e=a.toLowerCase()}else throw new TypeError(`${e} is not a string.`);const n=ue({namespace:vt,name:"colorToHsl",value:e},t),r=ce(n);if(r instanceof te)return r.item;t.format="hsl";const s=gs(e,t);return C(n,s),s},l0=(e,t={})=>{if(x(e)){const a=St(e,t);if(a instanceof S)return[0,0,0,0];e=a.toLowerCase()}else throw new TypeError(`${e} is not a string.`);const n=ue({namespace:vt,name:"colorToHwb",value:e},t),r=ce(n);if(r instanceof te)return r.item;t.format="hwb";const s=vs(e,t);return C(n,s),s},c0=(e,t={})=>{if(x(e)){const a=St(e,t);if(a instanceof S)return[0,0,0,0];e=a.toLowerCase()}else throw new TypeError(`${e} is not a string.`);const n=ue({namespace:vt,name:"colorToLab",value:e},t),r=ce(n);if(r instanceof te)return r.item;const s=bs(e,t);return C(n,s),s},u0=(e,t={})=>{if(x(e)){const a=St(e,t);if(a instanceof S)return[0,0,0,0];e=a.toLowerCase()}else throw new TypeError(`${e} is not a string.`);const n=ue({namespace:vt,name:"colorToLch",value:e},t),r=ce(n);if(r instanceof te)return r.item;const s=ws(e,t);return C(n,s),s},h0=(e,t={})=>{if(x(e)){const a=St(e,t);if(a instanceof S)return[0,0,0,0];e=a.toLowerCase()}else throw new TypeError(`${e} is not a string.`);const n=ue({namespace:vt,name:"colorToOklab",value:e},t),r=ce(n);if(r instanceof te)return r.item;const s=$s(e,t);return C(n,s),s},f0=(e,t={})=>{if(x(e)){const a=St(e,t);if(a instanceof S)return[0,0,0,0];e=a.toLowerCase()}else throw new TypeError(`${e} is not a string.`);const n=ue({namespace:vt,name:"colorToOklch",value:e},t),r=ce(n);if(r instanceof te)return r.item;const s=Ns(e,t);return C(n,s),s},p0=(e,t={})=>{if(x(e)){const a=St(e,t);if(a instanceof S)return[0,0,0,0];e=a.toLowerCase()}else throw new TypeError(`${e} is not a string.`);const n=ue({namespace:vt,name:"colorToRgb",value:e},t),r=ce(n);if(r instanceof te)return r.item;const s=Hn(e,t);return C(n,s),s},Yo=(e,t={})=>{if(x(e)){const a=St(e,t);if(a instanceof S)return[0,0,0,0];e=a.toLowerCase()}else throw new TypeError(`${e} is not a string.`);const n=ue({namespace:vt,name:"colorToXyz",value:e},t),r=ce(n);if(r instanceof te)return r.item;let s;return e.startsWith("color(")?[,...s]=he(e,t):[,...s]=de(e,t),C(n,s),s},d0=(e,t={})=>(t.d50=!0,Yo(e,t)),m0={colorToHex:o0,colorToHsl:i0,colorToHwb:l0,colorToLab:c0,colorToLch:u0,colorToOklab:h0,colorToOklch:f0,colorToRgb:p0,colorToXyz:Yo,colorToXyzD50:d0,numberToHex:a0},g0={cssCalc:Xn,cssVar:mc,extractDashedIdent:Mh,isColor:Rt,isGradient:t0,resolveGradient:e0,resolveLengthInPixels:Po,splitValue:Gt};export{m0 as convert,bh as resolve,g0 as utils};
